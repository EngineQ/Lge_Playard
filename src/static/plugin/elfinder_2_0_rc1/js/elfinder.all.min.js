(function(a,h){function b(a){return l.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function c(a){if(!Aa[a]){var b=v.body,e=l("<"+a+">").appendTo(b),c=e.css("display");e.remove();if("none"===c||""===c)fa||(fa=v.createElement("iframe"),fa.frameBorder=fa.width=fa.height=0),b.appendChild(fa),ma&&fa.createElement||(ma=(fa.contentWindow||fa.contentDocument).document,ma.write((l.support.boxModel?"<!doctype html>":"")+"<html><body>"),ma.close()),e=ma.createElement(a),ma.body.appendChild(e),
c=l.css(e,"display"),b.removeChild(fa);Aa[a]=c}return Aa[a]}function d(a,b){var e={};l.each(ua.concat.apply([],ua.slice(0,b)),function(){e[this]=a});return e}function g(){va=h}function f(){setTimeout(g,0);return va=l.now()}function e(){try{return new a.XMLHttpRequest}catch(b){}}function k(a,b,e,c){if(l.isArray(b))l.each(b,function(b,d){e||bb.test(a)?c(a,d):k(a+"["+("object"==typeof d?b:"")+"]",d,e,c)});else if(e||"object"!==l.type(b))c(a,b);else for(var d in b)k(a+"["+d+"]",b[d],e,c)}function m(a,
b){var e,c,d=l.ajaxSettings.flatOptions||{};for(e in b)b[e]!==h&&((d[e]?a:c||(c={}))[e]=b[e]);c&&l.extend(!0,a,c)}function r(a,b,e,c,d,f){d=d||b.dataTypes[0];f=f||{};f[d]=!0;d=a[d];for(var g=0,k=d?d.length:0,l=a===Ca,m;g<k&&(l||!m);g++)m=d[g](b,e,c),"string"==typeof m&&(!l||f[m]?m=h:(b.dataTypes.unshift(m),m=r(a,b,e,c,m,f)));!l&&m||f["*"]||(m=r(a,b,e,c,"*",f));return m}function p(a){return function(b,e){"string"!=typeof b&&(e=b,b="*");if(l.isFunction(e))for(var c=b.toLowerCase().split(La),d=0,f=c.length,
g,k;d<f;d++)g=c[d],(k=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=a[g]=a[g]||[],g[k?"unshift":"push"](e)}}function n(a,b,e){var c="width"===b?a.offsetWidth:a.offsetHeight,d="width"===b?1:0;if(0<c){if("border"!==e)for(;4>d;d+=2)e||(c-=parseFloat(l.css(a,"padding"+ia[d]))||0),"margin"===e?c+=parseFloat(l.css(a,e+ia[d]))||0:c-=parseFloat(l.css(a,"border"+ia[d]+"Width"))||0;return c+"px"}c=na(a,b);if(0>c||null==c)c=a.style[b];if(Da.test(c))return c;c=parseFloat(c)||0;if(e)for(;4>d;d+=2)c+=parseFloat(l.css(a,
"padding"+ia[d]))||0,"padding"!==e&&(c+=parseFloat(l.css(a,"border"+ia[d]+"Width"))||0),"margin"===e&&(c+=parseFloat(l.css(a,e+ia[d]))||0);return c+"px"}function s(a){var b=(a.nodeName||"").toLowerCase();"input"===b?q(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&l.grep(a.getElementsByTagName("input"),q)}function q(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function u(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=
typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function w(a,b){var e;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),e=b.nodeName.toLowerCase(),"object"===e?b.outerHTML=a.outerHTML:"input"!==e||"checkbox"!==a.type&&"radio"!==a.type?"option"===e?b.selected=a.defaultSelected:"input"===e||"textarea"===e?b.defaultValue=a.defaultValue:"script"===e&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&
(b.value=a.value)),b.removeAttribute(l.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function A(a,b){if(1===b.nodeType&&l.hasData(a)){var e,c,d;c=l._data(a);var f=l._data(b,c),g=c.events;if(g)for(e in delete f.handle,f.events={},g)for(c=0,d=g[e].length;c<d;c++)l.event.add(b,e,g[e][c]);f.data&&(f.data=l.extend({},f.data))}}function z(a,b){return l.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}
function x(a){var b=Ma.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function C(a,b,e){b=b||0;if(l.isFunction(b))return l.grep(a,function(a,c){return!!b.call(a,c,a)===e});if(b.nodeType)return l.grep(a,function(a,c){return a===b===e});if("string"==typeof b){var c=l.grep(a,function(a){return 1===a.nodeType});if(cb.test(b))return l.filter(b,c,!e);b=l.filter(b,c)}return l.grep(a,function(a,c){return 0<=l.inArray(a,b)===e})}function F(a){return!a||
!a.parentNode||11===a.parentNode.nodeType}function B(){return!0}function D(){return!1}function S(a,b,e){var c=b+"defer",d=b+"queue",f=b+"mark",g=l._data(a,c);!g||"queue"!==e&&l._data(a,d)||"mark"!==e&&l._data(a,f)||setTimeout(function(){l._data(a,d)||l._data(a,f)||(l.removeData(a,c,!0),g.fire())},0)}function Q(a){for(var b in a)if(("data"!==b||!l.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function I(a,b,e){if(e===h&&1===a.nodeType)if(e="data-"+b.replace(G,"-$1").toLowerCase(),e=a.getAttribute(e),
"string"==typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:l.isNumeric(e)?+e:N.test(e)?l.parseJSON(e):e}catch(c){}l.data(a,b,e)}else e=h;return e}function V(a){var b=J[a]={},e,c;a=a.split(/\s+/);e=0;for(c=a.length;e<c;e++)b[a[e]]=!0;return b}var v=a.document,X=a.navigator,M=a.location,l=function(){function b(){if(!e.isReady){try{v.documentElement.doScroll("left")}catch(a){setTimeout(b,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,f)},c=a.jQuery,d=a.$,f,g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
k=/\S/,l=/^\s+/,m=/\s+$/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,u=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,E=/(msie) ([\w.]+)/,J=/(mozilla)(?:.*? rv:([\w.]+))?/,O=/-([a-z]|[0-9])/ig,z=/^-ms-/,A=function(a,e){return(e+"").toUpperCase()},x=X.userAgent,wa,oa,db=Object.prototype.toString,Ea=Object.prototype.hasOwnProperty,Fa=Array.prototype.push,
N=Array.prototype.slice,y=String.prototype.trim,C=Array.prototype.indexOf,G={};e.fn=e.prototype={constructor:e,init:function(a,b,c){var d,f;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!b&&v.body)return this.context=v,this[0]=v.body,this.selector=a,this.length=1,this;if("string"==typeof a){"<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?d=g.exec(a):d=[null,a,null];if(d&&(d[1]||!b)){if(d[1])return f=(b=b instanceof e?b[0]:b)?b.ownerDocument||
b:v,(c=n.exec(a))?e.isPlainObject(b)?(a=[v.createElement(c[1])],e.fn.attr.call(a,b,!0)):a=[f.createElement(c[1])]:(c=e.buildFragment([d[1]],[f]),a=(c.cacheable?e.clone(c.fragment):c.fragment).childNodes),e.merge(this,a);if((b=v.getElementById(d[2]))&&b.parentNode){if(b.id!==d[2])return c.find(a);this.length=1;this[0]=b}this.context=v;this.selector=a;return this}return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a)}if(e.isFunction(a))return c.ready(a);a.selector!==h&&(this.selector=a.selector,
this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return N.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?Fa.apply(d,a):e.merge(d,a);d.prevObject=this;d.context=this.context;"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,
b){return e.each(this,a,b)},ready:function(a){e.bindReady();wa.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,e){return a.call(b,e,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Fa,sort:[].sort,splice:[].splice};
e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var a,b,c,d,f,g,k=arguments[0]||{},R=1,l=arguments.length,m=!1;"boolean"==typeof k&&(m=k,k=arguments[1]||{},R=2);"object"!=typeof k&&!e.isFunction(k)&&(k={});for(l===R&&(k=this,--R);R<l;R++)if(null!=(a=arguments[R]))for(b in a)c=k[b],d=a[b],k!==d&&(m&&d&&(e.isPlainObject(d)||(f=e.isArray(d)))?(f?(f=!1,g=c&&e.isArray(c)?c:[]):g=c&&e.isPlainObject(c)?c:{},k[b]=e.extend(m,g,d)):d!==h&&(k[b]=d));return k};e.extend({noConflict:function(b){a.$===
e&&(a.$=d);b&&a.jQuery===e&&(a.jQuery=c);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!0===a&&!--e.readyWait||!0!==a&&!e.isReady){if(!v.body)return setTimeout(e.ready,1);e.isReady=!0;!0!==a&&0<--e.readyWait||(wa.fireWith(v,[e]),e.fn.trigger&&e(v).trigger("ready").off("ready"))}},bindReady:function(){if(!wa){wa=e.Callbacks("once memory");if("complete"===v.readyState)return setTimeout(e.ready,1);if(v.addEventListener)v.addEventListener("DOMContentLoaded",
oa,!1),a.addEventListener("load",e.ready,!1);else if(v.attachEvent){v.attachEvent("onreadystatechange",oa);a.attachEvent("onload",e.ready);var c=!1;try{c=null==a.frameElement}catch(d){}v.documentElement.doScroll&&c&&b()}}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):G[db.call(a)]||
"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!Ea.call(a,"constructor")&&!Ea.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var c in a);return c===h||Ea.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(b){if("string"!=typeof b||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(p.test(b.replace(r,
"@").replace(s,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(b){if("string"!=typeof b||!b)return null;var c,d;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(f){c=h}c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+b);return c},noop:function(){},globalEval:function(b){b&&k.test(b)&&(a.execScript||function(b){a.eval.call(a,
b)})(b)},camelCase:function(a){return a.replace(z,"ms-").replace(O,A)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,b,c){var d,f=0,g=a.length,k=g===h||e.isFunction(a);if(c)if(k)for(d in a){if(!1===b.apply(a[d],c))break}else for(;f<g&&!1!==b.apply(a[f++],c););else if(k)for(d in a){if(!1===b.call(a[d],d,a[d]))break}else for(;f<g&&!1!==b.call(a[f],f,a[f++]););return a},trim:y?function(a){return null==a?"":y.call(a)}:function(a){return null==a?
"":(a+"").replace(l,"").replace(m,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=e.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||e.isWindow(a)?Fa.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,e){var c;if(b){if(C)return C.call(b,a,e);c=b.length;for(e=e?0>e?Math.max(0,c+e):e:0;e<c;e++)if(e in b&&b[e]===a)return e}return-1},merge:function(a,b){var e=a.length,c=0;if("number"==typeof b.length)for(var d=b.length;c<d;c++)a[e++]=b[c];else for(;b[c]!==h;)a[e++]=b[c++];
a.length=e;return a},grep:function(a,b,e){var c=[],d;e=!!e;for(var f=0,g=a.length;f<g;f++)d=!!b(a[f],f),e!==d&&c.push(a[f]);return c},map:function(a,b,c){var d,f,g=[],k=0,R=a.length;if(a instanceof e||R!==h&&"number"==typeof R&&(0<R&&a[0]&&a[R-1]||0===R||e.isArray(a)))for(;k<R;k++)d=b(a[k],k,c),null!=d&&(g[g.length]=d);else for(f in a)d=b(a[f],f,c),null!=d&&(g[g.length]=d);return g.concat.apply([],g)},guid:1,proxy:function(a,b){if("string"==typeof b){var c=a[b];b=a;a=c}if(!e.isFunction(a))return h;
var d=N.call(arguments,2),c=function(){return a.apply(b,d.concat(N.call(arguments)))};c.guid=a.guid=a.guid||c.guid||e.guid++;return c},access:function(a,b,c,d,f,g,k){var R,l=null==c,m=0,n=a.length;if(c&&"object"==typeof c){for(m in c)e.access(a,b,m,c[m],1,g,d);f=1}else if(d!==h){R=k===h&&e.isFunction(d);l&&(R?(R=b,b=function(a,b,c){return R.call(e(a),c)}):(b.call(a,d),b=null));if(b)for(;m<n;m++)b(a[m],c,R?d.call(a[m],m,b(a[m],c)):d,k);f=1}return f?a:l?b.call(a):n?b(a[0],c):g},now:function(){return(new Date).getTime()},
uaMatch:function(a){a=a.toLowerCase();a=u.exec(a)||w.exec(a)||E.exec(a)||0>a.indexOf("compatible")&&J.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,e){return new a.fn.init(b,e)}e.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,d){d&&d instanceof e&&!(d instanceof a)&&(d=a(d));return e.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(v);return a},browser:{}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(a,b){G["[object "+b+"]"]=b.toLowerCase()});x=e.uaMatch(x);x.browser&&(e.browser[x.browser]=!0,e.browser.version=x.version);e.browser.webkit&&(e.browser.safari=!0);k.test("\u00a0")&&(l=/^[\s\xA0]+/,m=/[\s\xA0]+$/);f=e(v);v.addEventListener?oa=function(){v.removeEventListener("DOMContentLoaded",oa,!1);e.ready()}:v.attachEvent&&(oa=function(){"complete"===v.readyState&&(v.detachEvent("onreadystatechange",oa),e.ready())});return e}(),J={};l.Callbacks=function(a){a=a?J[a]||V(a):{};var b=[],e=
[],c,d,f,g,k,m,n=function(e){var c,d,f,g;c=0;for(d=e.length;c<d;c++)f=e[c],g=l.type(f),"array"===g?n(f):"function"!==g||a.unique&&r.has(f)||b.push(f)},p=function(l,n){n=n||[];c=!a.memory||[l,n];f=d=!0;m=g||0;g=0;for(k=b.length;b&&m<k;m++)if(!1===b[m].apply(l,n)&&a.stopOnFalse){c=!0;break}f=!1;b&&(a.once?!0===c?r.disable():b=[]:e&&e.length&&(c=e.shift(),r.fireWith(c[0],c[1])))},r={add:function(){if(b){var a=b.length;n(arguments);f?k=b.length:c&&!0!==c&&(g=a,p(c[0],c[1]))}return this},remove:function(){if(b)for(var e=
arguments,c=0,d=e.length;c<d;c++)for(var g=0;g<b.length&&(e[c]!==b[g]||(f&&g<=k&&(k--,g<=m&&m--),b.splice(g--,1),!a.unique));g++);return this},has:function(a){if(b)for(var e=0,c=b.length;e<c;e++)if(a===b[e])return!0;return!1},empty:function(){b=[];return this},disable:function(){b=e=c=h;return this},disabled:function(){return!b},lock:function(){e=h;c&&!0!==c||r.disable();return this},locked:function(){return!e},fireWith:function(b,d){e&&(f?a.once||e.push([b,d]):(!a.once||!c)&&p(b,d));return this},
fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!d}};return r};var O=[].slice;l.extend({Deferred:function(a){var b=l.Callbacks("once memory"),e=l.Callbacks("once memory"),c=l.Callbacks("memory"),d="pending",f={resolve:b,reject:e,notify:c},g={done:b.add,fail:e.add,progress:c.add,state:function(){return d},isResolved:b.fired,isRejected:e.fired,then:function(a,b,e){k.done(a).fail(b).progress(e);return this},always:function(){k.done.apply(k,arguments).fail.apply(k,arguments);
return this},pipe:function(a,b,e){return l.Deferred(function(c){l.each({done:[a,"resolve"],fail:[b,"reject"],progress:[e,"notify"]},function(a,b){var e=b[0],d=b[1],f;l.isFunction(e)?k[a](function(){(f=e.apply(this,arguments))&&l.isFunction(f.promise)?f.promise().then(c.resolve,c.reject,c.notify):c[d+"With"](this===k?c:this,[f])}):k[a](c[d])})}).promise()},promise:function(a){if(null==a)a=g;else for(var b in g)a[b]=g[b];return a}},k=g.promise({}),m;for(m in f)k[m]=f[m].fire,k[m+"With"]=f[m].fireWith;
k.done(function(){d="resolved"},e.disable,c.lock).fail(function(){d="rejected"},b.disable,c.lock);a&&a.call(k,k);return k},when:function(a){function b(a){return function(b){g[a]=1<arguments.length?O.call(arguments,0):b;m.notifyWith(n,g)}}function e(a){return function(b){c[a]=1<arguments.length?O.call(arguments,0):b;--k||m.resolveWith(m,c)}}var c=O.call(arguments,0),d=0,f=c.length,g=Array(f),k=f,m=1>=f&&a&&l.isFunction(a.promise)?a:l.Deferred(),n=m.promise();if(1<f){for(;d<f;d++)c[d]&&c[d].promise&&
l.isFunction(c[d].promise)?c[d].promise().then(e(d),m.reject,b(d)):--k;k||m.resolveWith(m,c)}else m!==a&&m.resolveWith(m,f?[a]:[]);return n}});l.support=function(){var b,e,c,d,f,g,k,m,n=v.createElement("div");n.setAttribute("className","t");n.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";e=n.getElementsByTagName("*");c=n.getElementsByTagName("a")[0];if(!e||!e.length||!c)return{};d=v.createElement("select");f=d.appendChild(v.createElement("option"));
e=n.getElementsByTagName("input")[0];b={leadingWhitespace:3===n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.55/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:"on"===e.value,optSelected:f.selected,getSetAttribute:"t"!==n.className,enctype:!!v.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==v.createElement("nav").cloneNode(!0).outerHTML,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};l.boxModel=b.boxModel="CSS1Compat"===v.compatMode;e.checked=!0;b.noCloneChecked=e.cloneNode(!0).checked;d.disabled=!0;b.optDisabled=!f.disabled;try{delete n.test}catch(p){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"));
e=v.createElement("input");e.value="t";e.setAttribute("type","radio");b.radioValue="t"===e.value;e.setAttribute("checked","checked");e.setAttribute("name","t");n.appendChild(e);c=v.createDocumentFragment();c.appendChild(n.lastChild);b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;b.appendChecked=e.checked;c.removeChild(e);c.appendChild(n);if(n.attachEvent)for(k in{submit:1,change:1,focusin:1})e="on"+k,(m=e in n)||(n.setAttribute(e,"return;"),m="function"==typeof n[e]),b[k+"Bubbles"]=
m;c.removeChild(n);c=d=f=n=e=null;l(function(){var e,c,d,f,k,H,p=v.getElementsByTagName("body")[0];!p||(e=v.createElement("div"),e.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",p.insertBefore(e,p.firstChild),n=v.createElement("div"),e.appendChild(n),n.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",g=n.getElementsByTagName("td"),m=0===g[0].offsetHeight,g[0].style.display=
"",g[1].style.display="none",b.reliableHiddenOffsets=m&&0===g[0].offsetHeight,a.getComputedStyle&&(n.innerHTML="",H=v.createElement("div"),H.style.width="0",H.style.marginRight="0",n.style.width="2px",n.appendChild(H),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(H,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.width=n.style.padding="1px",n.style.border=0,n.style.overflow="hidden",n.style.display="inline",n.style.zoom=1,b.inlineBlockNeedsLayout=
3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=3!==n.offsetWidth),n.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",n.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",
c=n.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,k={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===f.offsetTop},d.style.position="fixed",d.style.top="20px",k.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",k.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,k.doesNotIncludeMarginInBodyOffset=1!==p.offsetTop,a.getComputedStyle&&(n.style.marginTop="1%",b.pixelMargin="1%"!==
(a.getComputedStyle(n,null)||{marginTop:0}).marginTop),"undefined"!=typeof e.style.zoom&&(e.style.zoom=1),p.removeChild(e),n=null,l.extend(b,k))});return b}();var N=/^(?:\{.*\}|\[.*\])$/,G=/([A-Z])/g;l.extend({cache:{},uuid:0,expando:"jQuery"+(l.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?l.cache[a[l.expando]]:a[l.expando];return!!a&&!Q(a)},data:function(a,b,e,c){if(l.acceptData(a)){var d,
f;d=l.expando;var g="string"==typeof b,k=a.nodeType,m=k?l.cache:a,n=k?a[d]:a[d]&&d,p="events"===b;if(n&&m[n]&&(p||c||m[n].data)||!g||e!==h){n||(k?a[d]=n=++l.uuid:n=d);m[n]||(m[n]={},k||(m[n].toJSON=l.noop));if("object"==typeof b||"function"==typeof b)c?m[n]=l.extend(m[n],b):m[n].data=l.extend(m[n].data,b);a=d=m[n];c||(d.data||(d.data={}),d=d.data);e!==h&&(d[l.camelCase(b)]=e);if(p&&!d[b])return a.events;g?(f=d[b],null==f&&(f=d[l.camelCase(b)])):f=d;return f}}},removeData:function(a,b,e){if(l.acceptData(a)){var c,
d,f,g=l.expando,k=a.nodeType,m=k?l.cache:a,n=k?a[g]:g;if(m[n]){if(b&&(c=e?m[n]:m[n].data)){l.isArray(b)||(b in c?b=[b]:(b=l.camelCase(b),b in c?b=[b]:b=b.split(" ")));d=0;for(f=b.length;d<f;d++)delete c[b[d]];if(!(e?Q:l.isEmptyObject)(c))return}if(e||(delete m[n].data,Q(m[n])))l.support.deleteExpando||!m.setInterval?delete m[n]:m[n]=null,k&&(l.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}}},_data:function(a,b,e){return l.data(a,b,e,!0)},acceptData:function(a){if(a.nodeName){var b=
l.noData[a.nodeName.toLowerCase()];if(b)return!0!==b&&a.getAttribute("classid")===b}return!0}});l.fn.extend({data:function(a,b){var e,c,d,f,g,k=this[0],m=0,n=null;if(a===h){if(this.length&&(n=l.data(k),1===k.nodeType&&!l._data(k,"parsedAttrs"))){d=k.attributes;for(g=d.length;m<g;m++)f=d[m].name,0===f.indexOf("data-")&&(f=l.camelCase(f.substring(5)),I(k,f,n[f]));l._data(k,"parsedAttrs",!0)}return n}if("object"==typeof a)return this.each(function(){l.data(this,a)});e=a.split(".",2);e[1]=e[1]?"."+e[1]:
"";c=e[1]+"!";return l.access(this,function(b){if(b===h)return n=this.triggerHandler("getData"+c,[e[0]]),n===h&&k&&(n=l.data(k,a),n=I(k,a,n)),n===h&&e[1]?this.data(e[0]):n;e[1]=b;this.each(function(){var d=l(this);d.triggerHandler("setData"+c,e);l.data(this,a,b);d.triggerHandler("changeData"+c,e)})},null,b,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){l.removeData(this,a)})}});l.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",l._data(a,b,(l._data(a,b)||0)+1))},
_unmark:function(a,b,e){!0!==a&&(e=b,b=a,a=!1);if(b){e=e||"fx";var c=e+"mark";(a=a?0:(l._data(b,c)||1)-1)?l._data(b,c,a):(l.removeData(b,c,!0),S(b,e,"mark"))}},queue:function(a,b,e){var c;if(a)return b=(b||"fx")+"queue",c=l._data(a,b),e&&(!c||l.isArray(e)?c=l._data(a,b,l.makeArray(e)):c.push(e)),c||[]},dequeue:function(a,b){b=b||"fx";var e=l.queue(a,b),c=e.shift(),d={};"inprogress"===c&&(c=e.shift());c&&("fx"===b&&e.unshift("inprogress"),l._data(a,b+".run",d),c.call(a,function(){l.dequeue(a,b)},d));
e.length||(l.removeData(a,b+"queue "+b+".run",!0),S(a,b,"queue"))}});l.fn.extend({queue:function(a,b){var e=2;"string"!=typeof a&&(b=a,a="fx",e--);return arguments.length<e?l.queue(this[0],a):b===h?this:this.each(function(){var e=l.queue(this,a,b);"fx"===a&&"inprogress"!==e[0]&&l.dequeue(this,a)})},dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){a=l.fx?l.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,e){var c=setTimeout(b,a);e.stop=function(){clearTimeout(c)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function e(){--g||c.resolveWith(d,[d])}"string"!=typeof a&&(b=a,a=h);a=a||"fx";for(var c=l.Deferred(),d=this,f=d.length,g=1,k=a+"defer",m=a+"queue",n=a+"mark",p;f--;)if(p=l.data(d[f],k,h,!0)||(l.data(d[f],m,h,!0)||l.data(d[f],n,h,!0))&&l.data(d[f],k,l.Callbacks("once memory"),!0))g++,p.add(e);e();return c.promise(b)}});var K=/[\n\t\r]/g,T=/\s+/,L=/\r/g,aa=/^(?:button|input)$/i,P=/^(?:button|input|object|select|textarea)$/i,
ba=/^a(?:rea)?$/i,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Y=l.support.getSetAttribute,y,U,Z;l.fn.extend({attr:function(a,b){return l.access(this,l.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,a)})},prop:function(a,b){return l.access(this,l.prop,a,b,1<arguments.length)},removeProp:function(a){a=l.propFix[a]||a;return this.each(function(){try{this[a]=h,delete this[a]}catch(b){}})},
addClass:function(a){var b,e,c,d,f,g,k;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(T),e=0,c=this.length;e<c;e++)if(d=this[e],1===d.nodeType)if(d.className||1!==b.length){f=" "+d.className+" ";g=0;for(k=b.length;g<k;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");d.className=l.trim(f)}else d.className=a;return this},removeClass:function(a){var b,e,c,d,f,g,k;if(l.isFunction(a))return this.each(function(b){l(this).removeClass(a.call(this,
b,this.className))});if(a&&"string"==typeof a||a===h)for(b=(a||"").split(T),e=0,c=this.length;e<c;e++)if(d=this[e],1===d.nodeType&&d.className)if(a){f=(" "+d.className+" ").replace(K," ");g=0;for(k=b.length;g<k;g++)f=f.replace(" "+b[g]+" "," ");d.className=l.trim(f)}else d.className="";return this},toggleClass:function(a,b){var e=typeof a,c="boolean"==typeof b;return l.isFunction(a)?this.each(function(e){l(this).toggleClass(a.call(this,e,this.className,b),b)}):this.each(function(){if("string"===e)for(var d,
f=0,g=l(this),k=b,m=a.split(T);d=m[f++];)k=c?k:!g.hasClass(d),g[k?"addClass":"removeClass"](d);else if("undefined"===e||"boolean"===e)this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===a?"":l._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;b<e;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(K," ").indexOf(a))return!0;return!1},val:function(a){var b,e,c,d=this[0];if(arguments.length)return c=
l.isFunction(a),this.each(function(e){var d=l(this),f;1===this.nodeType&&(c?f=a.call(this,e,d.val()):f=a,null==f?f="":"number"==typeof f?f+="":l.isArray(f)&&(f=l.map(f,function(a){return null==a?"":a+""})),b=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&b.set(this,f,"value")!==h||(this.value=f))});if(d){if((b=l.valHooks[d.type]||l.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&(e=b.get(d,"value"))!==h)return e;e=d.value;return"string"==typeof e?e.replace(L,""):null==
e?"":e}}});l.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,e,c=a.selectedIndex,d=[],f=a.options,g="select-one"===a.type;if(0>c)return null;a=g?c:0;for(e=g?c+1:f.length;a<e;a++)if(b=f[a],b.selected&&!((l.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&l.nodeName(b.parentNode,"optgroup"))){b=l(b).val();if(g)return b;d.push(b)}return g&&!d.length&&f.length?l(f[c]).val():
d},set:function(a,b){var e=l.makeArray(b);l(a).find("option").each(function(){this.selected=0<=l.inArray(l(this).val(),e)});e.length||(a.selectedIndex=-1);return e}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,b,e,c){var d,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if(c&&b in l.attrFn)return l(a)[b](e);if("undefined"==typeof a.getAttribute)return l.prop(a,b,e);(c=1!==g||!l.isXMLDoc(a))&&(b=b.toLowerCase(),f=l.attrHooks[b]||(W.test(b)?U:y));if(e!==h){if(null===
e){l.removeAttr(a,b);return}if(f&&"set"in f&&c&&(d=f.set(a,e,b))!==h)return d;a.setAttribute(b,""+e);return e}if(f&&"get"in f&&c&&null!==(d=f.get(a,b)))return d;d=a.getAttribute(b);return null===d?h:d}},removeAttr:function(a,b){var e,c,d,f,g,k=0;if(b&&1===a.nodeType)for(c=b.toLowerCase().split(T),f=c.length;k<f;k++)(d=c[k])&&(e=l.propFix[d]||d,g=W.test(d),g||l.attr(a,d,""),a.removeAttribute(Y?d:e),g&&e in a&&(a[e]=!1))},attrHooks:{type:{set:function(a,b){if(aa.test(a.nodeName)&&a.parentNode)l.error("type property can't be changed");
else if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);e&&(a.value=e);return b}}},value:{get:function(a,b){return y&&l.nodeName(a,"button")?y.get(a,b):b in a?a.value:null},set:function(a,b,e){if(y&&l.nodeName(a,"button"))return y.set(a,b,e);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,e){var c,d,f;f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return(1!==f||!l.isXMLDoc(a))&&(b=l.propFix[b]||b,d=l.propHooks[b]),e!==h?d&&"set"in d&&(c=d.set(a,e,b))!==h?c:a[b]=e:d&&"get"in d&&null!==(c=d.get(a,b))?c:a[b]},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):P.test(a.nodeName)||ba.test(a.nodeName)&&a.href?0:h}}}});l.attrHooks.tabindex=l.propHooks.tabIndex;
U={get:function(a,b){var e,c=l.prop(a,b);return!0===c||"boolean"!=typeof c&&(e=a.getAttributeNode(b))&&!1!==e.nodeValue?b.toLowerCase():h},set:function(a,b,e){var c;!1===b?l.removeAttr(a,e):(c=l.propFix[e]||e,c in a&&(a[c]=!0),a.setAttribute(e,e.toLowerCase()));return e}};Y||(Z={name:!0,id:!0,coords:!0},y=l.valHooks.button={get:function(a,b){var e;return(e=a.getAttributeNode(b))&&(Z[b]?""!==e.nodeValue:e.specified)?e.nodeValue:h},set:function(a,b,e){var c=a.getAttributeNode(e);c||(c=v.createAttribute(e),
a.setAttributeNode(c));return c.nodeValue=b+""}},l.attrHooks.tabindex.set=y.set,l.each(["width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{set:function(a,e){if(""===e)return a.setAttribute(b,"auto"),e}})}),l.attrHooks.contenteditable={get:y.get,set:function(a,b,e){""===b&&(b="false");y.set(a,b,e)}});l.support.hrefNormalized||l.each(["href","src","width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?h:a}})});
l.support.style||(l.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||h},set:function(a,b){return a.style.cssText=""+b}});l.support.optSelected||(l.propHooks.selected=l.extend(l.propHooks.selected,{get:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex);return null}}));l.support.enctype||(l.propFix.enctype="encoding");l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(a){return null===a.getAttribute("value")?
"on":a.value}}});l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],{set:function(a,b){if(l.isArray(b))return a.checked=0<=l.inArray(l(a).val(),b)}})});var ga=/^(?:textarea|input|select)$/i,E=/^([^\.]*)?(?:\.(.+))?$/,ha=/(?:^|\s)hover(\.\S+)?\b/,da=/^key/,ea=/^(?:mouse|contextmenu)|click/,ra=/^(?:focusinfocus|focusoutblur)$/,sa=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,xa=function(a){(a=sa.exec(a))&&(a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)"));
return a},ja=function(a){return l.event.special.hover?a:a.replace(ha,"mouseenter$1 mouseleave$1")};l.event={add:function(a,b,e,c,d){var f,g,k,m,n,p,r,s,q;if(3!==a.nodeType&&8!==a.nodeType&&b&&e&&(f=l._data(a))){e.handler&&(r=e,e=r.handler,d=r.selector);e.guid||(e.guid=l.guid++);(k=f.events)||(f.events=k={});(g=f.handle)||(f.handle=g=function(a){return"undefined"==typeof l||a&&l.event.triggered===a.type?h:l.event.dispatch.apply(g.elem,arguments)},g.elem=a);b=l.trim(ja(b)).split(" ");for(f=0;f<b.length;f++)m=
E.exec(b[f])||[],n=m[1],p=(m[2]||"").split(".").sort(),q=l.event.special[n]||{},n=(d?q.delegateType:q.bindType)||n,q=l.event.special[n]||{},m=l.extend({type:n,origType:m[1],data:c,handler:e,guid:e.guid,selector:d,quick:d&&xa(d),namespace:p.join(".")},r),(s=k[n])||(s=k[n]=[],s.delegateCount=0,q.setup&&!1!==q.setup.call(a,c,p,g)||(a.addEventListener?a.addEventListener(n,g,!1):a.attachEvent&&a.attachEvent("on"+n,g))),q.add&&(q.add.call(a,m),m.handler.guid||(m.handler.guid=e.guid)),d?s.splice(s.delegateCount++,
0,m):s.push(m),l.event.global[n]=!0;a=null}},global:{},remove:function(a,b,e,c,d){var f=l.hasData(a)&&l._data(a),g,k,m,n,p,h,r,s,q,u,w;if(f&&(r=f.events)){b=l.trim(ja(b||"")).split(" ");for(g=0;g<b.length;g++)if(k=E.exec(b[g])||[],m=n=k[1],k=k[2],m){s=l.event.special[m]||{};m=(c?s.delegateType:s.bindType)||m;u=r[m]||[];p=u.length;k=k?RegExp("(^|\\.)"+k.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(h=0;h<u.length;h++)w=u[h],!d&&n!==w.origType||e&&e.guid!==w.guid||k&&!k.test(w.namespace)||
c&&!(c===w.selector||"**"===c&&w.selector)||(u.splice(h--,1),w.selector&&u.delegateCount--,!s.remove||s.remove.call(a,w));0===u.length&&p!==u.length&&((!s.teardown||!1===s.teardown.call(a,k))&&l.removeEvent(a,m,f.handle),delete r[m])}else for(m in r)l.event.remove(a,m+b[g],e,c,!0);l.isEmptyObject(r)&&(q=f.handle,q&&(q.elem=null),l.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,e,c,d){if(!c||3!==c.nodeType&&8!==c.nodeType){var f=b.type||
b,g=[],k,m,n,p,r,s;if(!ra.test(f+l.event.triggered)&&(0<=f.indexOf("!")&&(f=f.slice(0,-1),k=!0),0<=f.indexOf(".")&&(g=f.split("."),f=g.shift(),g.sort()),c&&!l.event.customEvent[f]||l.event.global[f]))if(b="object"==typeof b?b[l.expando]?b:new l.Event(f,b):new l.Event(f),b.type=f,b.isTrigger=!0,b.exclusive=k,b.namespace=g.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,k=0>f.indexOf(":")?"on"+f:"",c){if(b.result=h,b.target||(b.target=c),e=null!=e?l.makeArray(e):
[],e.unshift(b),p=l.event.special[f]||{},!p.trigger||!1!==p.trigger.apply(c,e)){s=[[c,p.bindType||f]];if(!d&&!p.noBubble&&!l.isWindow(c)){m=p.delegateType||f;g=ra.test(m+f)?c:c.parentNode;for(n=null;g;g=g.parentNode)s.push([g,m]),n=g;n&&n===c.ownerDocument&&s.push([n.defaultView||n.parentWindow||a,m])}for(m=0;m<s.length&&!b.isPropagationStopped();m++)g=s[m][0],b.type=s[m][1],(r=(l._data(g,"events")||{})[b.type]&&l._data(g,"handle"))&&r.apply(g,e),(r=k&&g[k])&&l.acceptData(g)&&!1===r.apply(g,e)&&b.preventDefault();
b.type=f;d||b.isDefaultPrevented()||p._default&&!1!==p._default.apply(c.ownerDocument,e)||"click"===f&&l.nodeName(c,"a")||l.acceptData(c)&&k&&c[f]&&("focus"!==f&&"blur"!==f||0!==b.target.offsetWidth)&&!l.isWindow(c)&&(n=c[k],n&&(c[k]=null),l.event.triggered=f,c[f](),l.event.triggered=h,n&&(c[k]=n));return b.result}}else for(m in c=l.cache,c)c[m].events&&c[m].events[f]&&l.event.trigger(b,e,c[m].handle.elem,!0)}},dispatch:function(b){b=l.event.fix(b||a.event);var e=(l._data(this,"events")||{})[b.type]||
[],c=e.delegateCount,d=[].slice.call(arguments,0),f=!b.exclusive&&!b.namespace,g=l.event.special[b.type]||{},k=[],m,n,p,r,s,q,u;d[0]=b;b.delegateTarget=this;if(!g.preDispatch||!1!==g.preDispatch.call(this,b)){if(c&&(!b.button||"click"!==b.type))for(p=l(this),p.context=this.ownerDocument||this,n=b.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled){s={};q=[];p[0]=n;for(m=0;m<c;m++){r=e[m];u=r.selector;if(s[u]===h){var w=s,E=u,J;if(r.quick){J=r.quick;var O=n.attributes||{};J=(!J[1]||n.nodeName.toLowerCase()===
J[1])&&(!J[2]||(O.id||{}).value===J[2])&&(!J[3]||J[3].test((O["class"]||{}).value))}else J=p.is(u);w[E]=J}s[u]&&q.push(r)}q.length&&k.push({elem:n,matches:q})}e.length>c&&k.push({elem:this,matches:e.slice(c)});for(m=0;m<k.length&&!b.isPropagationStopped();m++)for(c=k[m],b.currentTarget=c.elem,e=0;e<c.matches.length&&!b.isImmediatePropagationStopped();e++)if(r=c.matches[e],f||!b.namespace&&!r.namespace||b.namespace_re&&b.namespace_re.test(r.namespace))b.data=r.data,b.handleObj=r,r=((l.event.special[r.origType]||
{}).handle||r.handler).apply(c.elem,d),r!==h&&(b.result=r,!1===r&&(b.preventDefault(),b.stopPropagation()));g.postDispatch&&g.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},
mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,c,d,f=b.button,g=b.fromElement;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||v,c=e.documentElement,d=e.body,a.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===
a.target?b.toElement:g);!a.which&&f!==h&&(a.which=f&1?1:f&2?3:f&4?2:0);return a}},fix:function(a){if(a[l.expando])return a;var b,e,c=a,d=l.event.fixHooks[a.type]||{},f=d.props?this.props.concat(d.props):this.props;a=l.Event(c);for(b=f.length;b;)e=f[--b],a[e]=c[e];a.target||(a.target=c.srcElement||v);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey===h&&(a.metaKey=a.ctrlKey);return d.filter?d.filter(a,c):a},special:{ready:{setup:l.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},
blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,e){l.isWindow(this)&&(this.onbeforeunload=e)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,e,c){a=l.extend(new l.Event,e,{type:a,isSimulated:!0,originalEvent:{}});c?l.event.trigger(a,null,b):l.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};l.event.handle=l.event.dispatch;l.removeEvent=v.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,
e,!1)}:function(a,b,e){a.detachEvent&&a.detachEvent("on"+b,e)};l.Event=function(a,b){if(!(this instanceof l.Event))return new l.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?B:D):this.type=a;b&&l.extend(this,b);this.timeStamp=a&&a.timeStamp||l.now();this[l.expando]=!0};l.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?
a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B;this.stopPropagation()},isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e=a.relatedTarget,
c=a.handleObj,d;if(!e||e!==this&&!l.contains(this,e))a.type=c.origType,d=c.handler.apply(this,arguments),a.type=b;return d}}});l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=l.nodeName(a,"input")||l.nodeName(a,"button")?a.form:h)&&!a._submit_attached&&(l.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),a._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&
(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&l.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}});l.support.changeBubbles||(l.event.special.change={setup:function(){if(ga.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)l.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(a){this._just_changed&&
!a.isTrigger&&(this._just_changed=!1,l.event.simulate("change",this,a,!0))});return!1}l.event.add(this,"beforeactivate._change",function(a){a=a.target;ga.test(a.nodeName)&&!a._change_attached&&(l.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&l.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,
arguments)},teardown:function(){l.event.remove(this,"._change");return ga.test(this.nodeName)}});l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(a,b){var e=0,c=function(a){l.event.simulate(b,a.target,l.event.fix(a),!0)};l.event.special[b]={setup:function(){0===e++&&v.addEventListener(a,c,!0)},teardown:function(){0===--e&&v.removeEventListener(a,c,!0)}}});l.fn.extend({on:function(a,b,e,c,d){var f,g;if("object"==typeof a){"string"!=typeof b&&(e=e||b,b=h);for(g in a)this.on(g,
b,e,a[g],d);return this}null==e&&null==c?(c=b,e=b=h):null==c&&("string"==typeof b?(c=e,e=h):(c=e,e=b,b=h));if(!1===c)c=D;else if(!c)return this;1===d&&(f=c,c=function(a){l().off(a);return f.apply(this,arguments)},c.guid=f.guid||(f.guid=l.guid++));return this.each(function(){l.event.add(this,a,c,e,b)})},one:function(a,b,e,c){return this.on(a,b,e,c,1)},off:function(a,b,e){if(a&&a.preventDefault&&a.handleObj){var c=a.handleObj;l(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,
c.selector,c.handler);return this}if("object"==typeof a){for(c in a)this.off(c,b,a[c]);return this}if(!1===b||"function"==typeof b)e=b,b=h;!1===e&&(e=D);return this.each(function(){l.event.remove(this,a,e,b)})},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,e){l(this.context).on(a,this.selector,b,e);return this},die:function(a,b){l(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,e,c){return this.on(b,
a,e,c)},undelegate:function(a,b,e){return 1==arguments.length?this.off(a,"**"):this.off(b,a,e)},trigger:function(a,b){return this.each(function(){l.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return l.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,e=a.guid||l.guid++,c=0,d=function(e){var d=(l._data(this,"lastToggle"+a.guid)||0)%c;l._data(this,"lastToggle"+a.guid,d+1);e.preventDefault();return b[d].apply(this,arguments)||!1};for(d.guid=e;c<b.length;)b[c++].guid=
e;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){l.fn[b]=function(a,e){null==e&&(e=a,a=null);return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)};l.attrFn&&(l.attrFn[b]=!0);da.test(b)&&(l.event.fixHooks[b]=l.event.keyHooks);
ea.test(b)&&(l.event.fixHooks[b]=l.event.mouseHooks)});(function(){function a(b,e,d,f,g,k){g=0;for(var l=f.length;g<l;g++){var m=f[g];if(m){for(var n=!1,m=m[b];m;){if(m[c]===d){n=f[m.sizset];break}if(1===m.nodeType)if(k||(m[c]=d,m.sizset=g),"string"!=typeof e){if(m===e){n=!0;break}}else if(0<r.filter(e,[m]).length){n=m;break}m=m[b]}f[g]=n}}}function b(a,e,d,f,g,k){g=0;for(var l=f.length;g<l;g++){var m=f[g];if(m){for(var n=!1,m=m[a];m;){if(m[c]===d){n=f[m.sizset];break}1===m.nodeType&&!k&&(m[c]=d,
m.sizset=g);if(m.nodeName.toLowerCase()===e){n=m;break}m=m[a]}f[g]=n}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c="sizcache"+(Math.random()+"").replace(".",""),d=0,f=Object.prototype.toString,g=!1,k=!0,m=/\\/g,n=/\r\n/g,p=/\W/;[0,0].sort(function(){k=!1;return 0});var r=function(a,b,c,d){c=c||[];var g=b=b||v;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var k,l,m,n,p,
h,R=!0,s=r.isXML(b),H=[],ta=a;do if(e.exec(""),k=e.exec(ta))if(ta=k[3],H.push(k[1]),k[2]){n=k[3];break}while(k);if(1<H.length&&u.exec(a))if(2===H.length&&q.relative[H[0]])l=x(H[0]+H[1],b,d);else for(l=q.relative[H[0]]?[b]:r(H.shift(),b);H.length;)a=H.shift(),q.relative[a]&&(a+=H.shift()),l=x(a,l,d);else if(!d&&1<H.length&&9===b.nodeType&&!s&&q.match.ID.test(H[0])&&!q.match.ID.test(H[H.length-1])&&(p=r.find(H.shift(),b,s),b=p.expr?r.filter(p.expr,p.set)[0]:p.set[0]),b)for(p=d?{expr:H.pop(),set:E(d)}:
r.find(H.pop(),1!==H.length||"~"!==H[0]&&"+"!==H[0]||!b.parentNode?b:b.parentNode,s),l=p.expr?r.filter(p.expr,p.set):p.set,0<H.length?m=E(l):R=!1;H.length;)k=h=H.pop(),q.relative[h]?k=H.pop():h="",null==k&&(k=b),q.relative[h](m,k,s);else m=[];m||(m=l);m||r.error(h||a);if("[object Array]"===f.call(m))if(R)if(b&&1===b.nodeType)for(a=0;null!=m[a];a++)m[a]&&(!0===m[a]||1===m[a].nodeType&&r.contains(b,m[a]))&&c.push(l[a]);else for(a=0;null!=m[a];a++)m[a]&&1===m[a].nodeType&&c.push(l[a]);else c.push.apply(c,
m);else E(m,c);n&&(r(n,g,c,d),r.uniqueSort(c));return c};r.uniqueSort=function(a){if(z&&(g=k,a.sort(z),g))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};r.matches=function(a,b){return r(a,null,null,b)};r.matchesSelector=function(a,b){return 0<r(b,null,null,[a]).length};r.find=function(a,b,e){var c,d,f,g,k,l;if(!a)return[];d=0;for(f=q.order.length;d<f;d++)if(k=q.order[d],g=q.leftMatch[k].exec(a))if(l=g[1],g.splice(1,1),"\\"!==l.substr(l.length-1)&&(g[1]=(g[1]||"").replace(m,""),
c=q.find[k](g,b,e),null!=c)){a=a.replace(q.match[k],"");break}c||(c="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:c,expr:a}};r.filter=function(a,b,e,c){for(var d,f,g,k,l,m,n,p,R=a,s=[],H=b,ta=b&&b[0]&&r.isXML(b[0]);a&&b.length;){for(g in q.filter)if(null!=(d=q.leftMatch[g].exec(a))&&d[2]&&(m=q.filter[g],l=d[1],f=!1,d.splice(1,1),"\\"!==l.substr(l.length-1))){H===s&&(s=[]);if(q.preFilter[g])if(d=q.preFilter[g](d,H,e,s,c,ta),!d)f=k=!0;else if(!0===d)continue;
if(d)for(n=0;null!=(l=H[n]);n++)l&&(k=m(l,d,n,H),p=c^k,e&&null!=k?p?f=!0:H[n]=!1:p&&(s.push(l),f=!0));if(k!==h){e||(H=s);a=a.replace(q.match[g],"");if(!f)return[];break}}if(a===R)if(null==f)r.error(a);else break;R=a}return H};r.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var s=r.getText=function(a){var b,e;b=a.nodeType;var c="";if(b)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(n,
"");for(a=a.firstChild;a;a=a.nextSibling)c+=s(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;e=a[b];b++)8!==e.nodeType&&(c+=s(e));return c},q=r.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var e="string"==typeof b,c=e&&!p.test(b),e=e&&!c;c&&(b=b.toLowerCase());for(var c=0,d=a.length,f;c<d;c++)if(f=a[c]){for(;(f=f.previousSibling)&&1!==f.nodeType;);
a[c]=e||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}e&&r.filter(b,a,!0)},">":function(a,b){var e,c="string"==typeof b,d=0,f=a.length;if(c&&!p.test(b))for(b=b.toLowerCase();d<f;d++){if(e=a[d])e=e.parentNode,a[d]=e.nodeName.toLowerCase()===b?e:!1}else{for(;d<f;d++)(e=a[d])&&(a[d]=c?e.parentNode:e.parentNode===b);c&&r.filter(b,a,!0)}},"":function(e,c,f){var g,k=d++,l=a;"string"==typeof c&&!p.test(c)&&(c=c.toLowerCase(),g=c,l=b);l("parentNode",c,k,e,g,f)},"~":function(e,c,f){var g,k=d++,l=a;"string"==
typeof c&&!p.test(c)&&(c=c.toLowerCase(),g=c,l=b);l("previousSibling",c,k,e,g,f)}},find:{ID:function(a,b,e){if("undefined"!=typeof b.getElementById&&!e)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var e=[],c=b.getElementsByName(a[1]),d=0,f=c.length;d<f;d++)c[d].getAttribute("name")===a[1]&&e.push(c[d]);return 0===e.length?null:e}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},
preFilter:{CLASS:function(a,b,e,c,d,f){a=" "+a[1].replace(m,"")+" ";if(f)return a;f=0;for(var g;null!=(g=b[f]);f++)g&&(d^(g.className&&0<=(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?e||c.push(g):e&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(m,"")},TAG:function(a,b){return a[1].replace(m,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||r.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||
!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&r.error(a[0]);a[0]=d++;return a},ATTR:function(a,b,e,c,d,f){b=a[1]=a[1].replace(m,"");!f&&q.attrMap[b]&&(a[1]=q.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(m,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,d,f){if("not"===a[1])if(1<(e.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=r(a[3],null,null,b);else return a=r.filter(a[3],b,c,1^f),c||d.push.apply(d,a),!1;else if(q.match.POS.test(a[0])||q.match.CHILD.test(a[0]))return!0;
return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,e){return!!r(e[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),
e=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===e&&(b===e||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},
image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,e,c){return b===c.length-
1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,e){return b<e[3]-0},gt:function(a,b,e){return b>e[3]-0},nth:function(a,b,e){return e[3]-0===b},eq:function(a,b,e){return e[3]-0===b}},filter:{PSEUDO:function(a,b,e,c){var d=b[1],f=q.filters[d];if(f)return f(a,e,b,c);if("contains"===d)return 0<=(a.textContent||a.innerText||s([a])||"").indexOf(b[3]);if("not"===d){b=b[3];e=0;for(c=b.length;e<c;e++)if(b[e]===a)return!1;return!0}r.error(d)},CHILD:function(a,b){var e,
d,f,g,k,l;e=b[1];l=a;switch(e){case "only":case "first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===e)return!0;l=a;case "last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case "nth":e=b[2];d=b[3];if(1===e&&0===d)return!0;f=b[0];if((g=a.parentNode)&&(g[c]!==f||!a.nodeIndex)){k=0;for(l=g.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++k);g[c]=f}l=a.nodeIndex-d;return 0===e?0===l:0===l%e&&0<=l/e}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===
b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var e=b[1],e=r.attr?r.attr(a,e):q.attrHandle[e]?q.attrHandle[e](a):null!=a[e]?a[e]:a.getAttribute(e),c=e+"",d=b[2],f=b[4];return null==e?"!="===d:!d&&r.attr?null!=e:"="===d?c===f:"*="===d?0<=c.indexOf(f):"~="===d?0<=(" "+c+" ").indexOf(f):f?"!="===d?c!==f:"^="===d?0===c.indexOf(f):"$="===d?c.substr(c.length-
f.length)===f:"|="===d?c===f||c.substr(0,f.length+1)===f+"-":!1:c&&!1!==e},POS:function(a,b,e,c){var d=q.setFilters[b[2]];if(d)return d(a,e,b,c)}}},u=q.match.POS,w=function(a,b){return"\\"+(b-0+1)},J;for(J in q.match)q.match[J]=RegExp(q.match[J].source+/(?![^\[]*\])(?![^\(]*\))/.source),q.leftMatch[J]=RegExp(/(^(?:.|\r|\n)*?)/.source+q.match[J].source.replace(/\\(\d+)/g,w));q.match.globalPOS=u;var E=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(v.documentElement.childNodes,
0)[0].nodeType}catch(O){E=function(a,b){var e=0,c=b||[];if("[object Array]"===f.call(a))Array.prototype.push.apply(c,a);else if("number"==typeof a.length)for(var d=a.length;e<d;e++)c.push(a[e]);else for(;a[e];e++)c.push(a[e]);return c}}var z,A;v.documentElement.compareDocumentPosition?z=function(a,b){return a===b?(g=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.compareDocumentPosition?-1:1}:(z=function(a,b){if(a===b)return g=!0,0;if(a.sourceIndex&&
b.sourceIndex)return a.sourceIndex-b.sourceIndex;var e,c,d=[],f=[];e=a.parentNode;c=b.parentNode;var k=e;if(e===c)return A(a,b);if(!e)return-1;if(!c)return 1;for(;k;)d.unshift(k),k=k.parentNode;for(k=c;k;)f.unshift(k),k=k.parentNode;e=d.length;c=f.length;for(k=0;k<e&&k<c;k++)if(d[k]!==f[k])return A(d[k],f[k]);return k===e?A(a,f[k],-1):A(d[k],b,1)},A=function(a,b,e){if(a===b)return e;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});(function(){var a=v.createElement("div"),b="script"+
(new Date).getTime(),e=v.documentElement;a.innerHTML="<a name='"+b+"'/>";e.insertBefore(a,e.firstChild);v.getElementById(b)&&(q.find.ID=function(a,b,e){if("undefined"!=typeof b.getElementById&&!e)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:h:[]},q.filter.ID=function(a,b){var e="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&e&&e.nodeValue===b});e.removeChild(a);e=a=null})();
(function(){var a=v.createElement("div");a.appendChild(v.createComment(""));0<a.getElementsByTagName("*").length&&(q.find.TAG=function(a,b){var e=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var c=[],d=0;e[d];d++)1===e[d].nodeType&&c.push(e[d]);e=c}return e});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(q.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();v.querySelectorAll&&function(){var a=
r,b=v.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){r=function(b,e,c,d){e=e||v;if(!d&&!r.isXML(e)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===e.nodeType||9===e.nodeType)){if(f[1])return E(e.getElementsByTagName(b),c);if(f[2]&&q.find.CLASS&&e.getElementsByClassName)return E(e.getElementsByClassName(f[2]),c)}if(9===e.nodeType){if("body"===b&&e.body)return E([e.body],c);if(f&&f[3]){var g=e.getElementById(f[3]);
if(!g||!g.parentNode)return E([],c);if(g.id===f[3])return E([g],c)}try{return E(e.querySelectorAll(b),c)}catch(k){}}else if(1===e.nodeType&&"object"!==e.nodeName.toLowerCase()){var f=e,l=(g=e.getAttribute("id"))||"__sizzle__",m=e.parentNode,n=/^\s*[+~]/.test(b);g?l=l.replace(/'/g,"\\$&"):e.setAttribute("id",l);n&&m&&(e=e.parentNode);try{if(!n||m)return E(e.querySelectorAll("[id='"+l+"'] "+b),c)}catch(p){}finally{g||f.removeAttribute("id")}}}return a(b,e,c,d)};for(var e in a)r[e]=a[e];b=null}}();(function(){var a=
v.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var e=!b.call(v.createElement("div"),"div"),c=!1;try{b.call(v.documentElement,"[test!='']:sizzle")}catch(d){c=!0}r.matchesSelector=function(a,d){d=d.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!r.isXML(a))try{if(c||!q.match.PSEUDO.test(d)&&!/!=/.test(d)){var f=b.call(a,d);if(f||!e||a.document&&11!==a.document.nodeType)return f}}catch(g){}return 0<r(d,null,null,[a]).length}}})();(function(){var a=
v.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(q.order.splice(1,0,"CLASS"),q.find.CLASS=function(a,b,e){if("undefined"!=typeof b.getElementsByClassName&&!e)return b.getElementsByClassName(a[1])},a=null))})();v.documentElement.contains?r.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:v.documentElement.compareDocumentPosition?
r.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:r.contains=function(){return!1};r.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var x=function(a,b,e){var c,d=[],f="";for(b=b.nodeType?[b]:b;c=q.match.PSEUDO.exec(a);)f+=c[0],a=a.replace(q.match.PSEUDO,"");a=q.relative[a]?a+"*":a;c=0;for(var g=b.length;c<g;c++)r(a,b[c],d,e);return r.filter(f,d)};r.attr=l.attr;r.selectors.attrMap={};l.find=r;l.expr=r.selectors;l.expr[":"]=l.expr.filters;
l.unique=r.uniqueSort;l.text=r.getText;l.isXMLDoc=r.isXML;l.contains=r.contains})();var pa=/Until$/,eb=/^(?:parents|prevUntil|prevAll)/,fb=/,/,cb=/^.[^:#\[\.,]*$/,gb=Array.prototype.slice,Na=l.expr.match.globalPOS,hb={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(a){var b=this,e,c;if("string"!=typeof a)return l(a).filter(function(){e=0;for(c=b.length;e<c;e++)if(l.contains(b[e],this))return!0});var d=this.pushStack("","find",a),f,g,k;e=0;for(c=this.length;e<c;e++)if(f=d.length,
l.find(a,this[e],d),0<e)for(g=f;g<d.length;g++)for(k=0;k<f;k++)if(d[k]===d[g]){d.splice(g--,1);break}return d},has:function(a){var b=l(a);return this.filter(function(){for(var a=0,e=b.length;a<e;a++)if(l.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(C(this,a,!1),"not",a)},filter:function(a){return this.pushStack(C(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Na.test(a)?0<=l(a,this.context).index(this[0]):0<l.filter(a,this).length:0<this.filter(a).length)},
closest:function(a,b){var e=[],c,d,f=this[0];if(l.isArray(a)){for(d=1;f&&f.ownerDocument&&f!==b;){for(c=0;c<a.length;c++)l(f).is(a[c])&&e.push({selector:a[c],elem:f,level:d});f=f.parentNode;d++}return e}var g=Na.test(a)||"string"!=typeof a?l(a,b||this.context):0;c=0;for(d=this.length;c<d;c++)for(f=this[c];f;){if(g?-1<g.index(f):l.find.matchesSelector(f,a)){e.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||11===f.nodeType)break}e=1<e.length?l.unique(e):e;return this.pushStack(e,"closest",
a)},index:function(a){return a?"string"==typeof a?l.inArray(this[0],l(a)):l.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var e="string"==typeof a?l(a,b):l.makeArray(a&&a.nodeType?[a]:a),c=l.merge(this.get(),e);return this.pushStack(F(e[0])||F(c[0])?c:l.unique(c))},andSelf:function(){return this.add(this.prevObject)}});l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return l.dir(a,"parentNode")},
parentsUntil:function(a,b,e){return l.dir(a,"parentNode",e)},next:function(a){return l.nth(a,2,"nextSibling")},prev:function(a){return l.nth(a,2,"previousSibling")},nextAll:function(a){return l.dir(a,"nextSibling")},prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,e){return l.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return l.dir(a,"previousSibling",e)},siblings:function(a){return l.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return l.sibling(a.firstChild)},
contents:function(a){return l.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:l.makeArray(a.childNodes)}},function(a,b){l.fn[a]=function(e,c){var d=l.map(this,b,e);pa.test(a)||(c=e);c&&"string"==typeof c&&(d=l.filter(c,d));d=1<this.length&&!hb[a]?l.unique(d):d;(1<this.length||fb.test(c))&&eb.test(a)&&(d=d.reverse());return this.pushStack(d,a,gb.call(arguments).join(","))}});l.extend({filter:function(a,b,e){e&&(a=":not("+a+")");return 1===b.length?l.find.matchesSelector(b[0],a)?[b[0]]:
[]:l.find.matches(a,b)},dir:function(a,b,e){var c=[];for(a=a[b];a&&9!==a.nodeType&&(e===h||1!==a.nodeType||!l(a).is(e));)1===a.nodeType&&c.push(a),a=a[b];return c},nth:function(a,b,e,c){b=b||1;for(c=0;a&&(1!==a.nodeType||++c!==b);a=a[e]);return a},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e}});var Ma="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
ib=/ jQuery\d+="(?:\d+|null)"/g,Ga=/^\s+/,Oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Pa=/<([\w:]+)/,jb=/<tbody/i,kb=/<|&#?\w+;/,lb=/<(?:script|style)/i,mb=/<(?:script|object|embed|option|style)/i,Qa=RegExp("<(?:"+Ma+")[\\s/>]","i"),Ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/\/(java|ecma)script/i,nb=/^\s*<!(?:\[CDATA\[|\-\-)/,ca={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>",
"</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ha=x(v);ca.optgroup=ca.option;ca.tbody=ca.tfoot=ca.colgroup=ca.caption=ca.thead;ca.th=ca.td;l.support.htmlSerialize||(ca._default=[1,"div<div>","</div>"]);l.fn.extend({text:function(a){return l.access(this,function(a){return a===h?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||v).createTextNode(a))},
null,a,arguments.length)},wrapAll:function(a){if(l.isFunction(a))return this.each(function(b){l(this).wrapAll(a.call(this,b))});if(this[0]){var b=l(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return l.isFunction(a)?this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=l(this),e=b.contents();
e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=l.isFunction(a);return this.each(function(e){l(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=l.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,l.clean(arguments));return a}},remove:function(a,
b){for(var e=0,c;null!=(c=this[e]);e++)if(!a||l.filter(a,[c]).length)!b&&1===c.nodeType&&(l.cleanData(c.getElementsByTagName("*")),l.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&l.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return l.clone(this,a,b)})},html:function(a){return l.access(this,
function(a){var b=this[0]||{},e=0,c=this.length;if(a===h)return 1===b.nodeType?b.innerHTML.replace(ib,""):null;if("string"==typeof a&&!(lb.test(a)||!l.support.leadingWhitespace&&Ga.test(a)||ca[(Pa.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Oa,"<$1></$2>");try{for(;e<c;e++)b=this[e]||{},1===b.nodeType&&(l.cleanData(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(l.isFunction(a))return this.each(function(b){var e=
l(this),c=e.html();e.replaceWith(a.call(this,b,c))});"string"!=typeof a&&(a=l(a).detach());return this.each(function(){var b=this.nextSibling,e=this.parentNode;l(this).remove();b?l(b).before(a):l(e).append(a)})}return this.length?this.pushStack(l(l.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,e){var c,d,f,g=a[0],k=[];if(!l.support.checkClone&&3===arguments.length&&"string"==typeof g&&Ra.test(g))return this.each(function(){l(this).domManip(a,
b,e,!0)});if(l.isFunction(g))return this.each(function(c){var d=l(this);a[0]=g.call(this,c,b?d.html():h);d.domManip(a,b,e)});if(this[0]){f=g&&g.parentNode;l.support.parentNode&&f&&11===f.nodeType&&f.childNodes.length===this.length?c={fragment:f}:c=l.buildFragment(a,this,k);f=c.fragment;1===f.childNodes.length?d=f=f.firstChild:d=f.firstChild;if(d){b=b&&l.nodeName(d,"tr");for(var m=0,n=this.length,p=n-1;m<n;m++)e.call(b?z(this[m],d):this[m],c.cacheable||1<n&&m<p?l.clone(f,!0,!0):f)}k.length&&l.each(k,
function(a,b){b.src?l.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):l.globalEval((b.text||b.textContent||b.innerHTML||"").replace(nb,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});l.buildFragment=function(a,b,e){var c,d,f,g,k=a[0];b&&b[0]&&(g=b[0].ownerDocument||b[0]);g.createDocumentFragment||(g=v);1===a.length&&"string"==typeof k&&512>k.length&&g===v&&"<"===k.charAt(0)&&!(mb.test(k)||!l.support.checkClone&&Ra.test(k)||!l.support.html5Clone&&Qa.test(k))&&
(d=!0,f=l.fragments[k],f&&1!==f&&(c=f));c||(c=g.createDocumentFragment(),l.clean(a,g,c,e));d&&(l.fragments[k]=f?c:1);return{fragment:c,cacheable:d}};l.fragments={};l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(e){var c=[];e=l(e);var d=1===this.length&&this[0].parentNode;if(d&&11===d.nodeType&&1===d.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var d=0,f=e.length;d<f;d++){var g=(0<d?this.clone(!0):
this).get();l(e[d])[b](g);c=c.concat(g)}return this.pushStack(c,a,e.selector)}});l.extend({clone:function(a,b,e){var c,d,f;l.support.html5Clone||l.isXMLDoc(a)||!Qa.test("<"+a.nodeName+">")?c=a.cloneNode(!0):(c=v.createElement("div"),Ha.appendChild(c),c.innerHTML=a.outerHTML,c=c.firstChild);var g=c;if(!(l.support.noCloneEvent&&l.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||l.isXMLDoc(a)))for(w(a,g),c=u(a),d=u(g),f=0;c[f];++f)d[f]&&w(c[f],d[f]);if(b&&(A(a,g),e))for(c=u(a),d=u(g),f=0;c[f];++f)A(c[f],
d[f]);return g},clean:function(a,b,e,c){var d,f=[];b=b||v;"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||v);for(var g=0,k;null!=(k=a[g]);g++)if("number"==typeof k&&(k+=""),k){if("string"==typeof k)if(kb.test(k)){k=k.replace(Oa,"<$1></$2>");d=(Pa.exec(k)||["",""])[1].toLowerCase();var m=ca[d]||ca._default,n=m[0],p=b.createElement("div"),r=Ha.childNodes,h;b===v?Ha.appendChild(p):x(b).appendChild(p);for(p.innerHTML=m[1]+k+m[2];n--;)p=p.lastChild;if(!l.support.tbody)for(n=
jb.test(k),m="table"!==d||n?"<table>"!==m[1]||n?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,d=m.length-1;0<=d;--d)l.nodeName(m[d],"tbody")&&!m[d].childNodes.length&&m[d].parentNode.removeChild(m[d]);!l.support.leadingWhitespace&&Ga.test(k)&&p.insertBefore(b.createTextNode(Ga.exec(k)[0]),p.firstChild);k=p.childNodes;p&&(p.parentNode.removeChild(p),0<r.length&&(h=r[r.length-1],h&&h.parentNode&&h.parentNode.removeChild(h)))}else k=b.createTextNode(k);var q;if(!l.support.appendChecked)if(k[0]&&
"number"==typeof(q=k.length))for(d=0;d<q;d++)s(k[d]);else s(k);k.nodeType?f.push(k):f=l.merge(f,k)}if(e)for(a=function(a){return!a.type||Sa.test(a.type)},g=0;f[g];g++)b=f[g],c&&l.nodeName(b,"script")&&(!b.type||Sa.test(b.type))?c.push(b.parentNode?b.parentNode.removeChild(b):b):(1===b.nodeType&&(k=l.grep(b.getElementsByTagName("script"),a),f.splice.apply(f,[g+1,0].concat(k))),e.appendChild(b));return f},cleanData:function(a){for(var b,e,c=l.cache,d=l.event.special,f=l.support.deleteExpando,g=0,k;null!=
(k=a[g]);g++)if(!k.nodeName||!l.noData[k.nodeName.toLowerCase()])if(e=k[l.expando]){if((b=c[e])&&b.events){for(var m in b.events)d[m]?l.event.remove(k,m):l.removeEvent(k,m,b.handle);b.handle&&(b.handle.elem=null)}f?delete k[l.expando]:k.removeAttribute&&k.removeAttribute(l.expando);delete c[e]}}});var Ia=/alpha\([^)]*\)/i,ob=/opacity=([^)]*)/,pb=/([A-Z]|^ms)/g,qb=/^[\-+]?(?:\d*\.)?\d+$/i,Da=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,rb=/^([\-+])=([\-+.\de]+)/,sb=/^margin/,tb={position:"absolute",visibility:"hidden",
display:"block"},ia=["Top","Right","Bottom","Left"],na,Ta,Ua;l.fn.css=function(a,b){return l.access(this,function(a,b,e){return e!==h?l.style(a,b,e):l.css(a,b)},a,b,1<arguments.length)};l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=na(a,"opacity");return""===e?"1":e}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,e,c){if(a&&
3!==a.nodeType&&8!==a.nodeType&&a.style){var d,f=l.camelCase(b),g=a.style,k=l.cssHooks[f];b=l.cssProps[f]||f;if(e===h)return k&&"get"in k&&(d=k.get(a,!1,c))!==h?d:g[b];c=typeof e;"string"===c&&(d=rb.exec(e))&&(e=+(d[1]+1)*+d[2]+parseFloat(l.css(a,b)),c="number");if(!(null==e||"number"===c&&isNaN(e)||("number"===c&&!l.cssNumber[f]&&(e+="px"),k&&"set"in k&&(e=k.set(a,e))===h)))try{g[b]=e}catch(m){}}},css:function(a,b,e){var c,d;b=l.camelCase(b);d=l.cssHooks[b];b=l.cssProps[b]||b;"cssFloat"===b&&(b=
"float");if(d&&"get"in d&&(c=d.get(a,!0,e))!==h)return c;if(na)return na(a,b)},swap:function(a,b,e){var c={},d;for(d in b)c[d]=a.style[d],a.style[d]=b[d];e=e.call(a);for(d in b)a.style[d]=c[d];return e}});l.curCSS=l.css;v.defaultView&&v.defaultView.getComputedStyle&&(Ta=function(a,b){var e,c,d,f,g=a.style;b=b.replace(pb,"-$1").toLowerCase();(c=a.ownerDocument.defaultView)&&(d=c.getComputedStyle(a,null))&&(e=d.getPropertyValue(b),""===e&&!l.contains(a.ownerDocument.documentElement,a)&&(e=l.style(a,
b)));!l.support.pixelMargin&&d&&sb.test(b)&&Da.test(e)&&(f=g.width,g.width=e,e=d.width,g.width=f);return e});v.documentElement.currentStyle&&(Ua=function(a,b){var e,c,d,f=a.currentStyle&&a.currentStyle[b],g=a.style;null==f&&g&&(d=g[b])&&(f=d);Da.test(f)&&(e=g.left,c=a.runtimeStyle&&a.runtimeStyle.left,c&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":f,f=g.pixelLeft+"px",g.left=e,c&&(a.runtimeStyle.left=c));return""===f?"auto":f});na=Ta||Ua;l.each(["height","width"],function(a,
b){l.cssHooks[b]={get:function(a,e,c){if(e)return 0!==a.offsetWidth?n(a,b,c):l.swap(a,tb,function(){return n(a,b,c)})},set:function(a,b){return qb.test(b)?b+"px":b}}});l.support.opacity||(l.cssHooks.opacity={get:function(a,b){return ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var e=a.style,c=a.currentStyle,d=l.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=c&&c.filter||e.filter||"";e.zoom=1;1<=b&&""===l.trim(f.replace(Ia,
""))&&(e.removeAttribute("filter"),c&&!c.filter)||(e.filter=Ia.test(f)?f.replace(Ia,d):f+" "+d)}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,b){return l.swap(a,{display:"inline-block"},function(){return b?na(a,"margin-right"):a.style.marginRight})}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!l.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||l.css(a,"display"))},l.expr.filters.visible=
function(a){return!l.expr.filters.hidden(a)});l.each({margin:"",padding:"",border:"Width"},function(a,b){l.cssHooks[a+b]={expand:function(e){var c="string"==typeof e?e.split(" "):[e],d={};for(e=0;4>e;e++)d[a+ia[e]+b]=c[e]||c[e-2]||c[0];return d}}});var ub=/%20/g,bb=/\[\]$/,Va=/\r?\n/g,vb=/#.*$/,wb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,yb=/^(?:GET|HEAD)$/,zb=/^\/\//,Wa=/\?/,Ab=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Bb=/^(?:select|textarea)/i,La=/\s+/,Cb=/([?&])_=[^&]*/,Xa=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ya=l.fn.load,Ca={},Za={},ka,la,$a=["*/"]+["*"];try{ka=M.href}catch(Ib){ka=v.createElement("a"),ka.href="",ka=ka.href}la=Xa.exec(ka.toLowerCase())||[];l.fn.extend({load:function(a,b,e){if("string"!=typeof a&&Ya)return Ya.apply(this,arguments);if(!this.length)return this;var c=a.indexOf(" ");if(0<=c){var d=a.slice(c,a.length);a=a.slice(0,c)}c="GET";b&&(l.isFunction(b)?(e=b,b=h):"object"==typeof b&&
(b=l.param(b,l.ajaxSettings.traditional),c="POST"));var f=this;l.ajax({url:a,type:c,dataType:"html",data:b,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),f.html(d?l("<div>").append(c.replace(Ab,"")).find(d):c));e&&f.each(e,[c,b,a])}});return this},serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?l.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&
(this.checked||Bb.test(this.nodeName)||xb.test(this.type))}).map(function(a,b){var e=l(this).val();return null==e?null:l.isArray(e)?l.map(e,function(a,e){return{name:b.name,value:a.replace(Va,"\r\n")}}):{name:b.name,value:e.replace(Va,"\r\n")}}).get()}});l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){l.fn[b]=function(a){return this.on(b,a)}});l.each(["get","post"],function(a,b){l[b]=function(a,e,c,d){l.isFunction(e)&&(d=d||c,c=e,e=h);return l.ajax({type:b,
url:a,data:e,success:c,dataType:d})}});l.extend({getScript:function(a,b){return l.get(a,h,b,"script")},getJSON:function(a,b,e){return l.get(a,b,e,"json")},ajaxSetup:function(a,b){b?m(a,l.ajaxSettings):(b=a,a=l.ajaxSettings);m(a,b);return a},ajaxSettings:{url:ka,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(la[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",
text:"text/plain",json:"application/json, text/javascript","*":$a},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:p(Ca),ajaxTransport:p(Za),ajax:function(a,b){function e(a,b,p,r){if(2!==z){z=2;J&&clearTimeout(J);w=h;s=r||"";x.readyState=0<a?4:0;var q,u,R;r=b;if(p){var E=c,H=x,A=E.contents,N=E.dataTypes,v=E.responseFields,
y,C,G,Ba;for(C in v)C in p&&(H[v[C]]=p[C]);for(;"*"===N[0];)N.shift(),y===h&&(y=E.mimeType||H.getResponseHeader("content-type"));if(y)for(C in A)if(A[C]&&A[C].test(y)){N.unshift(C);break}if(N[0]in p)G=N[0];else{for(C in p){if(!N[0]||E.converters[C+" "+N[0]]){G=C;break}Ba||(Ba=C)}G=G||Ba}G?(G!==N[0]&&N.unshift(G),p=p[G]):p=void 0}else p=h;if(200<=a&&300>a||304===a){if(c.ifModified){if(y=x.getResponseHeader("Last-Modified"))l.lastModified[n]=y;if(y=x.getResponseHeader("Etag"))l.etag[n]=y}if(304===a)r=
"notmodified",q=!0;else try{y=c;y.dataFilter&&(p=y.dataFilter(p,y.dataType));var F=y.dataTypes;C={};var K,ja,ha=F.length,pa,B=F[0],ea,D,L,da,I;for(K=1;K<ha;K++){if(1===K)for(ja in y.converters)"string"==typeof ja&&(C[ja.toLowerCase()]=y.converters[ja]);ea=B;B=F[K];if("*"===B)B=ea;else if("*"!==ea&&ea!==B){D=ea+" "+B;L=C[D]||C["* "+B];if(!L)for(da in I=h,C)if(pa=da.split(" "),pa[0]===ea||"*"===pa[0])if(I=C[pa[1]+" "+B]){da=C[da];!0===da?L=I:!0===I&&(L=da);break}L||I||l.error("No conversion from "+
D.replace(" "," to "));!0!==L&&(p=L?L(p):I(da(p)))}}u=p;r="success";q=!0}catch(T){r="parsererror",R=T}}else if(R=r,!r||a)r="error",0>a&&(a=0);x.status=a;x.statusText=""+(b||r);q?g.resolveWith(d,[u,r,x]):g.rejectWith(d,[x,r,R]);x.statusCode(m);m=h;O&&f.trigger("ajax"+(q?"Success":"Error"),[x,c,q?u:R]);k.fireWith(d,[x,r]);O&&(f.trigger("ajaxComplete",[x,c]),--l.active||l.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=h);b=b||{};var c=l.ajaxSetup({},b),d=c.context||c,f=d!==c&&(d.nodeType||d instanceof
l)?l(d):l.event,g=l.Deferred(),k=l.Callbacks("once memory"),m=c.statusCode||{},n,p={},q={},s,u,w,J,E,z=0,O,A,x={readyState:0,setRequestHeader:function(a,b){if(!z){var e=a.toLowerCase();a=q[e]=q[e]||a;p[a]=b}return this},getAllResponseHeaders:function(){return 2===z?s:null},getResponseHeader:function(a){var b;if(2===z){if(!u)for(u={};b=wb.exec(s);)u[b[1].toLowerCase()]=b[2];b=u[a.toLowerCase()]}return b===h?null:b},overrideMimeType:function(a){z||(c.mimeType=a);return this},abort:function(a){a=a||
"abort";w&&w.abort(a);e(0,a);return this}};g.promise(x);x.success=x.done;x.error=x.fail;x.complete=k.add;x.statusCode=function(a){if(a){var b;if(2>z)for(b in a)m[b]=[m[b],a[b]];else b=a[x.status],x.then(b,b)}return this};c.url=((a||c.url)+"").replace(vb,"").replace(zb,la[1]+"//");c.dataTypes=l.trim(c.dataType||"*").toLowerCase().split(La);null==c.crossDomain&&(E=Xa.exec(c.url.toLowerCase()),c.crossDomain=!(!E||E[1]==la[1]&&E[2]==la[2]&&(E[3]||("http:"===E[1]?80:443))==(la[3]||("http:"===la[1]?80:
443))));c.data&&c.processData&&"string"!=typeof c.data&&(c.data=l.param(c.data,c.traditional));r(Ca,c,b,x);if(2===z)return!1;O=c.global;c.type=c.type.toUpperCase();c.hasContent=!yb.test(c.type);O&&0===l.active++&&l.event.trigger("ajaxStart");if(!c.hasContent&&(c.data&&(c.url+=(Wa.test(c.url)?"&":"?")+c.data,delete c.data),n=c.url,!1===c.cache)){E=l.now();var N=c.url.replace(Cb,"$1_="+E);c.url=N+(N===c.url?(Wa.test(c.url)?"&":"?")+"_="+E:"")}(c.data&&c.hasContent&&!1!==c.contentType||b.contentType)&&
x.setRequestHeader("Content-Type",c.contentType);c.ifModified&&(n=n||c.url,l.lastModified[n]&&x.setRequestHeader("If-Modified-Since",l.lastModified[n]),l.etag[n]&&x.setRequestHeader("If-None-Match",l.etag[n]));x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+$a+"; q=0.01":""):c.accepts["*"]);for(A in c.headers)x.setRequestHeader(A,c.headers[A]);if(c.beforeSend&&(!1===c.beforeSend.call(d,x,c)||2===z))return x.abort(),!1;for(A in{success:1,
error:1,complete:1})x[A](c[A]);if(w=r(Za,c,b,x)){x.readyState=1;O&&f.trigger("ajaxSend",[x,c]);c.async&&0<c.timeout&&(J=setTimeout(function(){x.abort("timeout")},c.timeout));try{z=1,w.send(p,e)}catch(v){if(2>z)e(-1,v);else throw v;}}else e(-1,"No Transport");return x},param:function(a,b){var e=[],c=function(a,b){b=l.isFunction(b)?b():b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===h&&(b=l.ajaxSettings.traditional);if(l.isArray(a)||a.jquery&&!l.isPlainObject(a))l.each(a,function(){c(this.name,
this.value)});else for(var d in a)k(d,a[d],b,c);return e.join("&").replace(ub,"+")}});l.extend({active:0,lastModified:{},etag:{}});var Db=l.now(),ya=/(\=)\?(&|$)|\?\?/i;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return l.expando+"_"+Db++}});l.ajaxPrefilter("json jsonp",function(b,e,c){e="string"==typeof b.data&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if("jsonp"===b.dataTypes[0]||!1!==b.jsonp&&(ya.test(b.url)||e&&ya.test(b.data))){var d,f=b.jsonpCallback=l.isFunction(b.jsonpCallback)?
b.jsonpCallback():b.jsonpCallback,g=a[f],k=b.url,m=b.data,n="$1"+f+"$2";!1!==b.jsonp&&(k=k.replace(ya,n),b.url===k&&(e&&(m=m.replace(ya,n)),b.data===m&&(k+=(/\?/.test(k)?"&":"?")+b.jsonp+"="+f)));b.url=k;b.data=m;a[f]=function(a){d=[a]};c.always(function(){a[f]=g;d&&l.isFunction(g)&&a[f](d[0])});b.converters["script json"]=function(){d||l.error(f+" was not called");return d[0]};b.dataTypes[0]="json";return"script"}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){l.globalEval(a);return a}}});l.ajaxPrefilter("script",function(a){a.cache===h&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});l.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=v.head||v.getElementsByTagName("head")[0]||v.documentElement;return{send:function(c,d){b=v.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,e&&b.parentNode&&e.removeChild(b),b=h,c||d(200,"success")};e.insertBefore(b,e.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Ja=a.ActiveXObject?function(){for(var a in qa)qa[a](0,1)}:!1,Eb=0,qa;l.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&e()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:e;(function(a){l.extend(l.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})})(l.ajaxSettings.xhr());l.support.ajax&&l.ajaxTransport(function(b){if(!b.crossDomain||l.support.cors){var e;return{send:function(c,d){var f=b.xhr(),g,k;b.username?f.open(b.type,b.url,b.async,b.username,b.password):f.open(b.type,b.url,b.async);if(b.xhrFields)for(k in b.xhrFields)f[k]=b.xhrFields[k];b.mimeType&&f.overrideMimeType&&f.overrideMimeType(b.mimeType);b.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(k in c)f.setRequestHeader(k,
c[k])}catch(m){}f.send(b.hasContent&&b.data||null);e=function(a,c){var k,m,n,p,r;try{if(e&&(c||4===f.readyState))if(e=h,g&&(f.onreadystatechange=l.noop,Ja&&delete qa[g]),c)4!==f.readyState&&f.abort();else{k=f.status;n=f.getAllResponseHeaders();p={};(r=f.responseXML)&&r.documentElement&&(p.xml=r);try{p.text=f.responseText}catch(q){}try{m=f.statusText}catch(s){m=""}k||!b.isLocal||b.crossDomain?1223===k&&(k=204):k=p.text?200:404}}catch(u){c||d(-1,u)}p&&d(k,m,p,n)};b.async&&4!==f.readyState?(g=++Eb,Ja&&
(qa||(qa={},l(a).unload(Ja)),qa[g]=e),f.onreadystatechange=e):e()},abort:function(){e&&e(0,1)}}}});var Aa={},fa,ma,Fb=/^(?:toggle|show|hide)$/,Gb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,za,ua=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],va;l.fn.extend({show:function(a,b,e){var f;if(a||0===a)return this.animate(d("show",3),a,b,e);b=0;for(e=this.length;b<e;b++)a=this[b],a.style&&(f=a.style.display,!l._data(a,
"olddisplay")&&"none"===f&&(f=a.style.display=""),(""===f&&"none"===l.css(a,"display")||!l.contains(a.ownerDocument.documentElement,a))&&l._data(a,"olddisplay",c(a.nodeName)));for(b=0;b<e;b++)if(a=this[b],a.style&&(f=a.style.display,""===f||"none"===f))a.style.display=l._data(a,"olddisplay")||"";return this},hide:function(a,b,e){if(a||0===a)return this.animate(d("hide",3),a,b,e);var c;b=0;for(e=this.length;b<e;b++)a=this[b],a.style&&(c=l.css(a,"display"),"none"!==c&&!l._data(a,"olddisplay")&&l._data(a,
"olddisplay",c));for(b=0;b<e;b++)this[b].style&&(this[b].style.display="none");return this},_toggle:l.fn.toggle,toggle:function(a,b,e){var c="boolean"==typeof a;l.isFunction(a)&&l.isFunction(b)?this._toggle.apply(this,arguments):null==a||c?this.each(function(){var b=c?a:l(this).is(":hidden");l(this)[b?"show":"hide"]()}):this.animate(d("toggle",3),a,b,e);return this},fadeTo:function(a,b,e,c){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,e,c)},animate:function(a,
b,e,d){function f(){!1===g.queue&&l._mark(this);var b=l.extend({},g),e=1===this.nodeType,d=e&&l(this).is(":hidden"),k,m,n,p,r,h,q,s,u;b.animatedProperties={};for(n in a)if(k=l.camelCase(n),n!==k&&(a[k]=a[n],delete a[n]),(m=l.cssHooks[k])&&"expand"in m)for(n in p=m.expand(a[k]),delete a[k],p)n in a||(a[n]=p[n]);for(k in a){m=a[k];l.isArray(m)?(b.animatedProperties[k]=m[1],m=a[k]=m[0]):b.animatedProperties[k]=b.specialEasing&&b.specialEasing[k]||b.easing||"swing";if("hide"===m&&d||"show"===m&&!d)return b.complete.call(this);
e&&("height"===k||"width"===k)&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===l.css(this,"display")&&"none"===l.css(this,"float")&&(l.support.inlineBlockNeedsLayout&&"inline"!==c(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=b.overflow&&(this.style.overflow="hidden");for(n in a)e=new l.fx(this,b,n),m=a[n],Fb.test(m)?(u=l._data(this,"toggle"+n)||("toggle"===m?d?"show":"hide":0),u?(l._data(this,"toggle"+n,"show"===u?"hide":"show"),
e[u]()):e[m]()):(r=Gb.exec(m),h=e.cur(),r?(q=parseFloat(r[2]),s=r[3]||(l.cssNumber[n]?"":"px"),"px"!==s&&(l.style(this,n,(q||1)+s),h*=(q||1)/e.cur(),l.style(this,n,h+s)),r[1]&&(q=("-="===r[1]?-1:1)*q+h),e.custom(h,q,s)):e.custom(h,m,""));return!0}var g=l.speed(b,e,d);if(l.isEmptyObject(a))return this.each(g.complete,[!1]);a=l.extend({},a);return!1===g.queue?this.each(f):this.queue(g.queue,f)},stop:function(a,b,e){"string"!=typeof a&&(e=b,b=a,a=h);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b,
c=!1,d=l.timers,f=l._data(this);e||l._unmark(!0,this);if(null==a)for(b in f){if(f[b]&&f[b].stop&&b.indexOf(".run")===b.length-4){var g=f[b];l.removeData(this,b,!0);g.stop(e)}}else f[b=a+".run"]&&f[b].stop&&(f=f[b],l.removeData(this,b,!0),f.stop(e));for(b=d.length;b--;)d[b].elem!==this||null!=a&&d[b].queue!==a||(e?d[b](!0):d[b].saveState(),c=!0,d.splice(b,1));e&&c||l.dequeue(this,a)})}});l.each({slideDown:d("show",1),slideUp:d("hide",1),slideToggle:d("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){l.fn[a]=function(a,e,c){return this.animate(b,a,e,c)}});l.extend({speed:function(a,b,e){var c=a&&"object"==typeof a?l.extend({},a):{complete:e||!e&&b||l.isFunction(a)&&a,duration:a,easing:e&&b||b&&!l.isFunction(b)&&b};c.duration=l.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in l.fx.speeds?l.fx.speeds[c.duration]:l.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";c.old=c.complete;c.complete=function(a){l.isFunction(c.old)&&c.old.call(this);
c.queue?l.dequeue(this,c.queue):!1!==a&&l._unmark(this)};return c},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,e){this.options=b;this.elem=a;this.prop=e;b.orig=b.orig||{}}});l.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(l.fx.step[this.prop]||l.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,b=l.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,b,e){function c(a){return d.step(a)}var d=this,g=l.fx;this.startTime=va||f();this.end=b;this.now=this.start=a;this.pos=this.state=0;this.unit=e||this.unit||(l.cssNumber[this.prop]?"":"px");c.queue=this.options.queue;c.elem=this.elem;c.saveState=function(){l._data(d.elem,"fxshow"+d.prop)===h&&(d.options.hide?l._data(d.elem,"fxshow"+d.prop,d.start):d.options.show&&l._data(d.elem,"fxshow"+d.prop,d.end))};
c()&&l.timers.push(c)&&!za&&(za=setInterval(g.tick,g.interval))},show:function(){var a=l._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||l.style(this.elem,this.prop);this.options.show=!0;a!==h?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());l(this.elem).show()},hide:function(){this.options.orig[this.prop]=l._data(this.elem,"fxshow"+this.prop)||l.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b,
e,c=va||f(),d=!0,g=this.elem,k=this.options;if(a||c>=k.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();k.animatedProperties[this.prop]=!0;for(b in k.animatedProperties)!0!==k.animatedProperties[b]&&(d=!1);if(d){null!=k.overflow&&!l.support.shrinkWrapBlocks&&l.each(["","X","Y"],function(a,b){g.style["overflow"+b]=k.overflow[a]});k.hide&&l(g).hide();if(k.hide||k.show)for(b in k.animatedProperties)l.style(g,b,k.orig[b]),l.removeData(g,"fxshow"+b,!0),l.removeData(g,"toggle"+
b,!0);(a=k.complete)&&(k.complete=!1,a.call(g))}return!1}Infinity==k.duration?this.now=c:(e=c-this.startTime,this.state=e/k.duration,this.pos=l.easing[k.animatedProperties[this.prop]](this.state,e,0,1,k.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};l.extend(l.fx,{tick:function(){for(var a,b=l.timers,e=0;e<b.length;e++)a=b[e],!a()&&b[e]===a&&b.splice(e--,1);b.length||l.fx.stop()},interval:13,stop:function(){clearInterval(za);za=null},speeds:{slow:600,fast:200,
_default:400},step:{opacity:function(a){l.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});l.each(ua.concat.apply([],ua),function(a,b){b.indexOf("margin")&&(l.fx.step[b]=function(a){l.style(a.elem,b,Math.max(0,a.now)+a.unit)})});l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,function(b){return a===b.elem}).length});var Ka,Hb=/^t(?:able|d|h)$/i,ab=/^(?:body|html)$/i;
"getBoundingClientRect"in v.documentElement?Ka=function(a,e,c,d){try{d=a.getBoundingClientRect()}catch(f){}if(!d||!l.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};a=e.body;e=b(e);return{top:d.top+(e.pageYOffset||l.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:d.left+(e.pageXOffset||l.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:Ka=function(a,b,e){var c,d=a.offsetParent,f=b.body;c=(b=b.defaultView)?b.getComputedStyle(a,
null):a.currentStyle;for(var g=a.offsetTop,k=a.offsetLeft;(a=a.parentNode)&&a!==f&&a!==e&&(!l.support.fixedPosition||"fixed"!==c.position);)c=b?b.getComputedStyle(a,null):a.currentStyle,g-=a.scrollTop,k-=a.scrollLeft,a===d&&(g+=a.offsetTop,k+=a.offsetLeft,l.support.doesNotAddBorder&&(!l.support.doesAddBorderForTableAndCells||!Hb.test(a.nodeName))&&(g+=parseFloat(c.borderTopWidth)||0,k+=parseFloat(c.borderLeftWidth)||0),d=a.offsetParent),l.support.subtractsBorderForOverflowNotVisible&&"visible"!==
c.overflow&&(g+=parseFloat(c.borderTopWidth)||0,k+=parseFloat(c.borderLeftWidth)||0);if("relative"===c.position||"static"===c.position)g+=f.offsetTop,k+=f.offsetLeft;l.support.fixedPosition&&"fixed"===c.position&&(g+=Math.max(e.scrollTop,f.scrollTop),k+=Math.max(e.scrollLeft,f.scrollLeft));return{top:g,left:k}};l.fn.offset=function(a){if(arguments.length)return a===h?this:this.each(function(b){l.offset.setOffset(this,a,b)});var b=this[0],e=b&&b.ownerDocument;return e?b===e.body?l.offset.bodyOffset(b):
Ka(b,e,e.documentElement):null};l.offset={bodyOffset:function(a){var b=a.offsetTop,e=a.offsetLeft;l.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(l.css(a,"marginTop"))||0,e+=parseFloat(l.css(a,"marginLeft"))||0);return{top:b,left:e}},setOffset:function(a,b,e){var c=l.css(a,"position");"static"===c&&(a.style.position="relative");var d=l(a),f=d.offset(),g=l.css(a,"top"),k=l.css(a,"left"),m={},n={},p,r;("absolute"===c||"fixed"===c)&&-1<l.inArray("auto",[g,k])?(n=d.position(),p=n.top,r=n.left):
(p=parseFloat(g)||0,r=parseFloat(k)||0);l.isFunction(b)&&(b=b.call(a,e,f));null!=b.top&&(m.top=b.top-f.top+p);null!=b.left&&(m.left=b.left-f.left+r);"using"in b?b.using.call(a,m):d.css(m)}};l.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),e=this.offset(),c=ab.test(b[0].nodeName)?{top:0,left:0}:b.offset();e.top-=parseFloat(l.css(a,"marginTop"))||0;e.left-=parseFloat(l.css(a,"marginLeft"))||0;c.top+=parseFloat(l.css(b[0],"borderTopWidth"))||0;c.left+=parseFloat(l.css(b[0],
"borderLeftWidth"))||0;return{top:e.top-c.top,left:e.left-c.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||v.body;a&&!ab.test(a.nodeName)&&"static"===l.css(a,"position");)a=a.offsetParent;return a})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var c=/Y/.test(e);l.fn[a]=function(d){return l.access(this,function(a,d,f){var g=b(a);if(f===h)return g?e in g?g[e]:l.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:a[d];
g?g.scrollTo(c?l(g).scrollLeft():f,c?f:l(g).scrollTop()):a[d]=f},a,d,arguments.length,null)}});l.each({Height:"height",Width:"width"},function(a,b){var e="client"+a,c="scroll"+a,d="offset"+a;l.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(l.css(a,b,"padding")):this[b]():null};l.fn["outer"+a]=function(a){var e=this[0];return e?e.style?parseFloat(l.css(e,b,a?"margin":"border")):this[b]():null};l.fn[b]=function(a){return l.access(this,function(a,b,f){if(l.isWindow(a))return b=a.document,
a=b.documentElement[e],l.support.boxModel&&a||b.body&&b.body[e]||a;if(9===a.nodeType)return b=a.documentElement,b[e]>=b[c]?b[e]:Math.max(a.body[c],b[c],a.body[d],b[d]);if(f===h)return a=l.css(a,b),b=parseFloat(a),l.isNumeric(b)?b:a;l(a).css(b,f)},b,a,arguments.length,null)}});a.jQuery=a.$=l;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return l})})(window);
(function(a,h){function b(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}function c(c,g){var f=c.nodeName.toLowerCase();if("area"===f){var f=c.parentNode,e=f.name;if(!c.href||!e||"map"!==f.nodeName.toLowerCase())return!1;f=a("img[usemap=#"+e+"]")[0];return!!f&&b(f)}return(/input|select|textarea|button|object/.test(f)?!c.disabled:"a"==f?c.href||g:g)&&b(c)}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.18",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var f=
this;setTimeout(function(){a(f).focus();c&&c.call(f)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==h)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var c;b.length&&b[0]!==document;){c=b.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c)return c;b=b.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(b,c){function f(b,c,d,f){a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0;d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0);f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],k=c.toLowerCase(),m={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,
outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return b===h?m["inner"+c].call(this):this.each(function(){a(this).css(k,f(this,b)+"px")})};a.fn["outer"+c]=function(b,e){return"number"!=typeof b?m["outer"+c].call(this,b):this.each(function(){a(this).css(k,f(this,b,!0,e)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,f){return!!a.data(b,f[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var g=a.attr(b,"tabindex"),f=isNaN(g);
return(f||0<=g)&&c(b,!f)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight;a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===c.offsetHeight;a.support.selectstart="onselectstart"in c;b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,f){b=a.ui[b].prototype;for(var e in f)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,f[e]])},call:function(a,b,c){if((b=a.plugins[b])&&
a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var f=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;if(0<b[f])return!0;b[f]=1;e=0<b[f];b[f]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,f,e,k,m){return a.ui.isOverAxis(b,f,k)&&a.ui.isOverAxis(c,
e,m)}}))})(jQuery);
(function(a,h){if(a.cleanData){var b=a.cleanData;a.cleanData=function(c){for(var g=0,f;null!=(f=c[g]);g++)try{a(f).triggerHandler("remove")}catch(e){}b(c)}}else{var c=a.fn.remove;a.fn.remove=function(b,g){return this.each(function(){g||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return c.call(a(this),b,g)})}}a.widget=function(b,c,f){var e=b.split(".")[0],k;b=b.split(".")[1];k=e+"-"+b;f||(f=c,c=a.Widget);a.expr[":"][k]=
function(e){return!!a.data(e,b)};a[e]=a[e]||{};a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};c=new c;c.options=a.extend(!0,{},c.options);a[e][b].prototype=a.extend(!0,c,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:k},f);a.widget.bridge(b,a[e][b])};a.widget.bridge=function(b,c){a.fn[b]=function(f){var e="string"==typeof f,k=Array.prototype.slice.call(arguments,1),m=this;f=!e&&k.length?a.extend.apply(null,[!0,f].concat(k)):f;if(e&&
"_"===f.charAt(0))return m;e?this.each(function(){var e=a.data(this,b),c=e&&a.isFunction(e[f])?e[f].apply(e,k):e;if(c!==e&&c!==h)return m=c,!1}):this.each(function(){var e=a.data(this,b);e?e.option(f||{})._init():a.data(this,b,new c(f,this))});return m}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this);this.element=a(c);this.options=a.extend(!0,
{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,c){var f=b;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof b){if(c===h)return this.options[b];f={};f[b]=c}this._setOptions(f);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,f){var e,k=this.options[b];f=f||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);this.element.trigger(c,f);return!(a.isFunction(k)&&!1===k.call(this.element[0],c,f)||c.isDefaultPrevented())}}})(jQuery);
(function(a,h){var b=!1;a(document).mouseup(function(a){b=!1});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(d){if(!0===a.data(d.target,b.widgetName+".preventClickEvent"))return a.removeData(d.target,b.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var d=this,g=1==c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;if(!g||f||!this._mouseCapture(c))return!0;(this.mouseDelayMet=!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),
!this._mouseStarted))return c.preventDefault(),!0;!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};this._mouseUpDelegate=function(a){return d._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);c.preventDefault();return b=!0}},_mouseMove:function(b){if(a.browser.msie&&!(9<=document.documentMode||
b.button))return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target==
this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);
(function(a,h){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d={},g=a.fn.position,f=a.fn.offset;a.fn.position=function(e){if(!e||!e.of)return g.apply(this,arguments);e=a.extend({},e);var f=a(e.of),m=f[0],r=(e.collision||"flip").split(" "),p=e.offset?e.offset.split(" "):[0,0],n,h,q;9===m.nodeType?(n=f.width(),h=f.height(),q={top:0,left:0}):m.setTimeout?(n=f.width(),h=f.height(),q={top:f.scrollTop(),left:f.scrollLeft()}):m.preventDefault?(e.at="left top",n=h=0,q={top:e.of.pageY,left:e.of.pageX}):
(n=f.outerWidth(),h=f.outerHeight(),q=f.offset());a.each(["my","at"],function(){var a=(e[this]||"").split(" ");1===a.length&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]);a[0]=b.test(a[0])?a[0]:"center";a[1]=c.test(a[1])?a[1]:"center";e[this]=a});1===r.length&&(r[1]=r[0]);p[0]=parseInt(p[0],10)||0;1===p.length&&(p[1]=p[0]);p[1]=parseInt(p[1],10)||0;"right"===e.at[0]?q.left+=n:"center"===e.at[0]&&(q.left+=n/2);"bottom"===e.at[1]?q.top+=h:"center"===e.at[1]&&
(q.top+=h/2);q.left+=p[0];q.top+=p[1];return this.each(function(){var b=a(this),c=b.outerWidth(),f=b.outerHeight(),k=parseInt(a.curCSS(this,"marginLeft",!0))||0,g=parseInt(a.curCSS(this,"marginTop",!0))||0,m=c+k+(parseInt(a.curCSS(this,"marginRight",!0))||0),F=f+g+(parseInt(a.curCSS(this,"marginBottom",!0))||0),B=a.extend({},q),D;"right"===e.my[0]?B.left-=c:"center"===e.my[0]&&(B.left-=c/2);"bottom"===e.my[1]?B.top-=f:"center"===e.my[1]&&(B.top-=f/2);d.fractions||(B.left=Math.round(B.left),B.top=
Math.round(B.top));D={left:B.left-k,top:B.top-g};a.each(["left","top"],function(b,d){a.ui.position[r[b]]&&a.ui.position[r[b]][d](B,{targetWidth:n,targetHeight:h,elemWidth:c,elemHeight:f,collisionPosition:D,collisionWidth:m,collisionHeight:F,offset:p,my:e.my,at:e.at})});a.fn.bgiframe&&b.bgiframe();b.offset(a.extend(B,{using:e.using}))})};a.ui.position={fit:{left:function(b,c){var d=a(window),d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=0<d?b.left-d:Math.max(b.left-c.collisionPosition.left,
b.left)},top:function(b,c){var d=a(window),d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=0<d?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if("center"!==c.at[0]){var d=a(window),d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),f="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,g="left"===c.at[0]?c.targetWidth:-c.targetWidth,n=-2*c.offset[0];b.left+=0>c.collisionPosition.left?f+g+n:0<d?f+g+n:0}},top:function(b,
c){if("center"!==c.at[1]){var d=a(window),d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),f="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,g="top"===c.at[1]?c.targetHeight:-c.targetHeight,n=-2*c.offset[1];b.top+=0>c.collisionPosition.top?f+g+n:0<d?f+g+n:0}}}};a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),f=d.offset(),g=parseInt(a.curCSS(b,"top",!0),10)||0,n=parseInt(a.curCSS(b,
"left",!0),10)||0,f={top:c.top-f.top+g,left:c.left-f.left+n};"using"in c?c.using.call(b,f):d.css(f)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?this.each(function(){a.offset.setOffset(this,b)}):f.call(this):null});(function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),f,g;f=document.createElement(b?"div":"body");g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});
for(var p in g)f.style[p]=g[p];f.appendChild(c);g=b||document.documentElement;g.insertBefore(f,g.firstChild);c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";c=a(c).offset(function(a,b){return b}).offset();f.innerHTML="";g.removeChild(f);b=c.top+c.left+(b?2E3:0);d.fractions=21<b&&22>b})()})(jQuery);
(function(a,h){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(b);if(!this.handle)return!1;c.iframeFix&&a(!0===c.iframeFix?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();a.ui.ddmanager&&(a.ui.ddmanager.current=
this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;
this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(!1===this._trigger("start",b))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
if(!c){var d=this._uiHash();if(!1===this._trigger("drag",b,d))return this._mouseUp({}),!1;this.position=d.position}this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b));this.dropped&&(c=this.dropped,this.dropped=
!1);if(!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",b)&&d._clear()})}else!1!==this._trigger("stop",b)&&this._clear();return!1},_mouseUp:function(b){!0===
this.options.iframeFix&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=
!0)});return c},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||
0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:
window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var b=a(b.containment),c=b[0];if(c){b.offset();var d="hidden"!=a(c).css("overflow");this.containment=
[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=b}}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,g="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(g[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?
0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:g.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:g.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,
g=/(html|body)/i.test(d[0].tagName),f=b.pageX,e=b.pageY;if(this.originalPosition){var k;this.containment&&(this.relative_container?(k=this.relative_container.offset(),k=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]):k=this.containment,b.pageX-this.offset.click.left<k[0]&&(f=k[0]+this.offset.click.left),b.pageY-this.offset.click.top<k[1]&&(e=k[1]+this.offset.click.top),b.pageX-this.offset.click.left>k[2]&&(f=k[2]+this.offset.click.left),
b.pageY-this.offset.click.top>k[3]&&(e=k[3]+this.offset.click.top));c.grid&&(e=c.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,e=k?e-this.offset.click.top<k[1]||e-this.offset.click.top>k[3]?e-this.offset.click.top<k[1]?e+c.grid[1]:e-c.grid[1]:e:e,f=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,f=k?f-this.offset.click.left<k[0]||f-this.offset.click.left>k[2]?f-this.offset.click.left<k[0]?
f+c.grid[0]:f-c.grid[0]:f:f)}return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():g?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.18"});
a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),g=d.options,f=a.extend({},c,{item:d.element});d.sortables=[];a(g.connectToSortable).each(function(){var e=a.data(this,"sortable");e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),g=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?
(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,g))})},drag:function(b,c){var d=a(this).data("draggable"),g=this;a.each(d.sortables,function(f){this.instance.positionAbs=
d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(g).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,
!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&
(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),g=a(this).data("draggable").options;
d.css("cursor")&&(g._cursor=d.css("cursor"));d.css("cursor",g.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),g=a(this).data("draggable").options;d.css("opacity")&&(g._opacity=d.css("opacity"));d.css("opacity",g.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable",
"scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),g=d.options,f=!1;d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName?(g.axis&&"x"==g.axis||(d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-d.overflowOffset.top<
g.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-g.scrollSpeed)),g.axis&&"y"==g.axis||(d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-d.overflowOffset.left<g.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-g.scrollSpeed))):(g.axis&&"x"==g.axis||(b.pageY-a(document).scrollTop()<g.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-
g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed))),g.axis&&"y"==g.axis||(b.pageX-a(document).scrollLeft()<g.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))));!1!==f&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,
b)}});a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),g=d.options;d.snapElements=[];a(g.snap.constructor!=String?g.snap.items||":data(draggable)":g.snap).each(function(){var b=a(this),e=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),g=d.options,f=g.snapTolerance,e=c.offset.left,k=e+d.helperProportions.width,m=c.offset.top,
h=m+d.helperProportions.height,p=d.snapElements.length-1;0<=p;p--){var n=d.snapElements[p].left,s=n+d.snapElements[p].width,q=d.snapElements[p].top,u=q+d.snapElements[p].height;if(n-f<e&&e<s+f&&q-f<m&&m<u+f||n-f<e&&e<s+f&&q-f<h&&h<u+f||n-f<k&&k<s+f&&q-f<m&&m<u+f||n-f<k&&k<s+f&&q-f<h&&h<u+f){if("inner"!=g.snapMode){var w=Math.abs(q-h)<=f,A=Math.abs(u-m)<=f,z=Math.abs(n-k)<=f,x=Math.abs(s-e)<=f;w&&(c.position.top=d._convertPositionTo("relative",{top:q-d.helperProportions.height,left:0}).top-d.margins.top);
A&&(c.position.top=d._convertPositionTo("relative",{top:u,left:0}).top-d.margins.top);z&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left);x&&(c.position.left=d._convertPositionTo("relative",{top:0,left:s}).left-d.margins.left)}var C=w||A||z||x;"outer"!=g.snapMode&&(w=Math.abs(q-m)<=f,A=Math.abs(u-h)<=f,z=Math.abs(n-e)<=f,x=Math.abs(s-k)<=f,w&&(c.position.top=d._convertPositionTo("relative",{top:q,left:0}).top-d.margins.top),A&&(c.position.top=
d._convertPositionTo("relative",{top:u-d.helperProportions.height,left:0}).top-d.margins.top),z&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left),x&&(c.position.left=d._convertPositionTo("relative",{top:0,left:s-d.helperProportions.width}).left-d.margins.left));!d.snapElements[p].snapping&&(w||A||z||x||C)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[p].item}));d.snapElements[p].snapping=w||A||z||x||C}else d.snapElements[p].snapping&&
d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=!1}}});a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,d=a.makeArray(a(d.stack)).sort(function(b,e){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});if(d.length){var g=parseInt(d[0].style.zIndex)||0;a(d).each(function(a){this.style.zIndex=g+a});this[0].style.zIndex=g+d.length}}});
a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),g=a(this).data("draggable").options;d.css("zIndex")&&(g._zIndex=d.css("zIndex"));d.css("zIndex",g.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a,h){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(a){return a.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);
b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var g=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,
"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return g=!0,!1});return g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):
!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.18"});a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var g=(b.positionAbs||b.position.absolute).left,f=g+b.helperProportions.width,e=(b.positionAbs||b.position.absolute).top,k=e+b.helperProportions.height,m=c.offset.left,h=m+c.proportions.width,p=c.offset.top,n=p+c.proportions.height;switch(d){case "fit":return m<=g&&f<=h&&p<=e&&k<=n;
case "intersect":return m<g+b.helperProportions.width/2&&f-b.helperProportions.width/2<h&&p<e+b.helperProportions.height/2&&k-b.helperProportions.height/2<n;case "pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,p,m,c.proportions.height,c.proportions.width);case "touch":return(e>=p&&e<=n||k>=p&&k<=n||e<p&&k>n)&&(g>=m&&g<=h||f>=m&&f<=h||g<m&&f>h);default:return!1}};
a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf(),e=0;a:for(;e<d.length;e++)if(!(d[e].options.disabled||b&&!d[e].accept.call(d[e].element[0],b.currentItem||b.element))){for(var k=0;k<f.length;k++)if(f[k]==d[e].element[0]){d[e].proportions.height=0;continue a}d[e].visible="none"!=d[e].element.css("display");d[e].visible&&("mousedown"==
g&&d[e]._activate.call(d[e],c),d[e].offset=d[e].element.offset(),d[e].proportions={width:d[e].element[0].offsetWidth,height:d[e].element[0].offsetHeight})}},drop:function(b,c){var d=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=
0,this._deactivate.call(this,c)))});return d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance);if(d=d||1!=this.isover?d&&0==this.isover?
"isover":null:"isout"){var g;if(this.options.greedy){var f=this.element.parents(":data(droppable):eq(0)");f.length&&(g=a.data(f[0],"droppable"),g.greedyChild="isover"==d?1:0)}g&&"isover"==d&&(g.isover=0,g.isout=1,g._out.call(g,c));this[d]=1;this["isout"==d?"isover":"isout"]=0;this["isover"==d?"_over":"_out"].call(this,c);g&&"isout"==d&&(g.isout=0,g.isover=1,g._over.call(g,c))}}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable");b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,
c)}}})(jQuery);
(function(a,h){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=
!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,
display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var f=this.handles.split(",");this.handles=
{};for(var e=0;e<f.length;e++){var k=a.trim(f[e]),m=a('<div class="ui-resizable-handle ui-resizable-'+k+'"></div>');/sw|se|ne|nw/.test(k)&&m.css({zIndex:++c.zIndex});"se"==k&&m.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[k]=".ui-resizable-"+k;this.element.append(m)}}this._renderAxis=function(b){b=b||this.element;for(var e in this.handles){this.handles[e].constructor==String&&(this.handles[e]=a(this.handles[e],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var c=
a(this.handles[e],this.element),d=0,d=/sw|ne|nw|se|n|s/.test(e)?c.outerHeight():c.outerWidth(),c=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");b.css(c,d);this._proportionallyResize()}a(this.handles[e])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=
a&&a[1]?a[1]:"se"}});c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())}));this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var c=!1,f;for(f in this.handles)a(this.handles[f])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var g=this.options,f=this.element.position(),
e=this.element;this.resizing=!0;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};(e.is(".ui-draggable")||/absolute/.test(e.css("position")))&&e.css({position:"absolute",top:f.top,left:f.left});this._renderProxy();var f=b(this.helper.css("left")),k=b(this.helper.css("top"));g.containment&&(f+=a(g.containment).scrollLeft()||0,k+=a(g.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:f,top:k};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:
{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:f,top:k};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:c.pageX,top:c.pageY};this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;g=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",
"auto"==g?this.axis+"-resize":g);e.addClass("ui-resizable-resizing");this._propagate("start",c);return!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,e=this._change[this.axis];if(!e)return!1;c=e.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);c=this._respectSize(c,a);this._propagate("resize",a);b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",a,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options;if(this._helper){var f=this._proportionallyResizeElements,e=f.length&&/textarea/i.test(f[0].nodeName),f=e&&a.ui.hasScroll(f[0],"left")?0:this.sizeDiff.height,e=e?0:this.sizeDiff.width,e={width:this.helper.width()-e,height:this.helper.height()-f},f=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,k=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;c.animate||this.element.css(a.extend(e,{top:k,left:f}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!c.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var b=
this.options,f,e,k,b={minWidth:c(b.minWidth)?b.minWidth:0,maxWidth:c(b.maxWidth)?b.maxWidth:Infinity,minHeight:c(b.minHeight)?b.minHeight:0,maxHeight:c(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)a=b.minHeight*this.aspectRatio,e=b.minWidth/this.aspectRatio,f=b.maxHeight*this.aspectRatio,k=b.maxWidth/this.aspectRatio,a>b.minWidth&&(b.minWidth=a),e>b.minHeight&&(b.minHeight=e),f<b.maxWidth&&(b.maxWidth=f),k<b.maxHeight&&(b.maxHeight=k);this._vBoundaries=b},_updateCache:function(a){this.offset=
this.helper.offset();c(a.left)&&(this.position.left=a.left);c(a.top)&&(this.position.top=a.top);c(a.height)&&(this.size.height=a.height);c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var f=this.position,e=this.size,k=this.axis;c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio);"sw"==k&&(a.left=f.left+(e.width-a.width),a.top=null);"nw"==k&&(a.top=f.top+(e.height-a.height),a.left=f.left+(e.width-a.width));return a},_respectSize:function(a,
b){var f=this._vBoundaries,e=this.axis,k=c(a.width)&&f.maxWidth&&f.maxWidth<a.width,m=c(a.height)&&f.maxHeight&&f.maxHeight<a.height,h=c(a.width)&&f.minWidth&&f.minWidth>a.width,p=c(a.height)&&f.minHeight&&f.minHeight>a.height;h&&(a.width=f.minWidth);p&&(a.height=f.minHeight);k&&(a.width=f.maxWidth);m&&(a.height=f.maxHeight);var n=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,q=/sw|nw|w/.test(e),e=/nw|ne|n/.test(e);h&&q&&(a.left=n-f.minWidth);k&&q&&(a.left=
n-f.maxWidth);p&&e&&(a.top=s-f.minHeight);m&&e&&(a.top=s-f.maxHeight);(f=!a.width&&!a.height)&&!a.left&&a.top?a.top=null:f&&!a.top&&a.left&&(a.left=null);return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var f=this._proportionallyResizeElements[c];if(!this.borderDif){var e=[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")],
k=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];this.borderDif=a.map(e,function(a,b){var c=parseInt(a,10)||0,e=parseInt(k[b],10)||0;return c+e})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||f.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||
a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&7>a.browser.version,f=c?1:0,c=c?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){return{left:this.originalPosition.left+
b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,f]))},sw:function(b,c,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,f]))},ne:function(b,c,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,
[b,c,f]))},nw:function(b,c,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,f]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,{version:"1.8.18"});a.ui.plugin.add("resizable",
"alsoResize",{start:function(b,c){var f=a(this).data("resizable").options,e=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof f.alsoResize||f.alsoResize.parentNode?e(f.alsoResize):f.alsoResize.length?(f.alsoResize=f.alsoResize[0],e(f.alsoResize)):a.each(f.alsoResize,function(a){e(a)})},resize:function(b,c){var f=a(this).data("resizable"),
e=f.options,k=f.originalSize,m=f.originalPosition,h={height:f.size.height-k.height||0,width:f.size.width-k.width||0,top:f.position.top-m.top||0,left:f.position.left-m.left||0},p=function(b,e){a(b).each(function(){var b=a(this),d=a(this).data("resizable-alsoresize"),f={},k=e&&e.length?e:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(k,function(a,b){var c=(d[b]||0)+(h[b]||0);c&&0<=c&&(f[b]=c||null)});b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?
p(e.alsoResize):a.each(e.alsoResize,function(a,b){p(a,b)})},stop:function(b,c){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","animate",{stop:function(b,c){var f=a(this).data("resizable"),e=f.options,k=f._proportionallyResizeElements,m=k.length&&/textarea/i.test(k[0].nodeName),h=m&&a.ui.hasScroll(k[0],"left")?0:f.sizeDiff.height,m={width:f.size.width-(m?0:f.sizeDiff.width),height:f.size.height-h},h=parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left)||
null,p=parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top)||null;f.element.animate(a.extend(m,p&&h?{top:p,left:h}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(f.element.css("width"),10),height:parseInt(f.element.css("height"),10),top:parseInt(f.element.css("top"),10),left:parseInt(f.element.css("left"),10)};k&&k.length&&a(k[0]).css({width:c.width,height:c.height});f._updateCache(c);f._propagate("resize",b)}})}});a.ui.plugin.add("resizable",
"containment",{start:function(c,g){var f=a(this).data("resizable"),e=f.element,k=f.options.containment;if(e=k instanceof a?k.get(0):/parent/.test(k)?e.parent().get(0):k)if(f.containerElement=a(e),/document/.test(k)||k==document)f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var m=a(e),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,
c){h[a]=b(m.css("padding"+c))});f.containerOffset=m.offset();f.containerPosition=m.position();f.containerSize={height:m.innerHeight()-h[3],width:m.innerWidth()-h[1]};var k=f.containerOffset,p=f.containerSize.height,n=f.containerSize.width,n=a.ui.hasScroll(e,"left")?e.scrollWidth:n,p=a.ui.hasScroll(e)?e.scrollHeight:p;f.parentData={element:e,left:k.left,top:k.top,width:n,height:p}}},resize:function(b,c){var f=a(this).data("resizable"),e=f.options,k=f.containerOffset,m=f.position,h=f._aspectRatio||
b.shiftKey,p={top:0,left:0},n=f.containerElement;n[0]!=document&&/static/.test(n.css("position"))&&(p=k);m.left<(f._helper?k.left:0)&&(f.size.width+=f._helper?f.position.left-k.left:f.position.left-p.left,h&&(f.size.height=f.size.width/e.aspectRatio),f.position.left=e.helper?k.left:0);m.top<(f._helper?k.top:0)&&(f.size.height+=f._helper?f.position.top-k.top:f.position.top,h&&(f.size.width=f.size.height*e.aspectRatio),f.position.top=f._helper?k.top:0);f.offset.left=f.parentData.left+f.position.left;
f.offset.top=f.parentData.top+f.position.top;e=Math.abs(f.offset.left-p.left+f.sizeDiff.width);k=Math.abs((f._helper?f.offset.top-p.top:f.offset.top-k.top)+f.sizeDiff.height);p=f.containerElement.get(0)==f.element.parent().get(0);m=/relative|absolute/.test(f.containerElement.css("position"));p&&m&&(e-=f.parentData.left);e+f.size.width>=f.parentData.width&&(f.size.width=f.parentData.width-e,h&&(f.size.height=f.size.width/f.aspectRatio));k+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-
k,h&&(f.size.width=f.size.height*f.aspectRatio))},stop:function(b,c){var f=a(this).data("resizable"),e=f.options,k=f.containerOffset,m=f.containerPosition,h=f.containerElement,p=a(f.helper),n=p.offset(),s=p.outerWidth()-f.sizeDiff.width,p=p.outerHeight()-f.sizeDiff.height;f._helper&&!e.animate&&/relative/.test(h.css("position"))&&a(this).css({left:n.left-m.left-k.left,width:s,height:p});f._helper&&!e.animate&&/static/.test(h.css("position"))&&a(this).css({left:n.left-m.left-k.left,width:s,height:p})}});
a.ui.plugin.add("resizable","ghost",{start:function(b,c){var f=a(this).data("resizable"),e=f.options,k=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:k.height,width:k.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:"");f.ghost.appendTo(f.helper)},resize:function(b,c){var f=a(this).data("resizable");f.ghost&&f.ghost.css({position:"relative",height:f.size.height,width:f.size.width})},
stop:function(b,c){var f=a(this).data("resizable");f.ghost&&f.helper&&f.helper.get(0).removeChild(f.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(b,c){var f=a(this).data("resizable"),e=f.options,k=f.size,m=f.originalSize,h=f.originalPosition,p=f.axis;e.grid="number"==typeof e.grid?[e.grid,e.grid]:e.grid;var n=Math.round((k.width-m.width)/(e.grid[0]||1))*(e.grid[0]||1),e=Math.round((k.height-m.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(p)?(f.size.width=m.width+
n,f.size.height=m.height+e):/^(ne)$/.test(p)?(f.size.width=m.width+n,f.size.height=m.height+e,f.position.top=h.top-e):/^(sw)$/.test(p)?(f.size.width=m.width+n,f.size.height=m.height+e,f.position.left=h.left-n):(f.size.width=m.width+n,f.size.height=m.height+e,f.position.top=h.top-e,f.position.left=h.left-n)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}})(jQuery);
(function(a,h){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]);c.addClass("ui-selectee");c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,
selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(b){var c=
this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]);this._trigger("start",b);a(d.appendTo).append(this.helper);this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0;b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=
!0,c._trigger("unselecting",b,{unselecting:d.element}))});a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var f=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");d.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting");d.unselecting=!f;d.selecting=f;(d.selected=f)?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element});return!1}})}},_mouseDrag:function(b){var c=
this;this.dragged=!0;if(!this.options.disabled){var d=this.options,g=this.opos[0],f=this.opos[1],e=b.pageX,k=b.pageY;if(g>e)var m=e,e=g,g=m;f>k&&(m=k,k=f,f=m);this.helper.css({left:g,top:f,width:e-g,height:k-f});this.selectees.each(function(){var m=a.data(this,"selectable-item");if(m&&m.element!=c.element[0]){var p=!1;"touch"==d.tolerance?p=!(m.left>e||m.right<g||m.top>k||m.bottom<f):"fit"==d.tolerance&&(p=m.left>g&&m.right<e&&m.top>f&&m.bottom<k);p?(m.selected&&(m.$element.removeClass("ui-selected"),
m.selected=!1),m.unselecting&&(m.$element.removeClass("ui-unselecting"),m.unselecting=!1),m.selecting||(m.$element.addClass("ui-selecting"),m.selecting=!0,c._trigger("selecting",b,{selecting:m.element}))):(m.selecting&&((b.metaKey||b.ctrlKey)&&m.startselected?(m.$element.removeClass("ui-selecting"),m.selecting=!1,m.$element.addClass("ui-selected"),m.selected=!0):(m.$element.removeClass("ui-selecting"),m.selecting=!1,m.startselected&&(m.$element.addClass("ui-unselecting"),m.unselecting=!0),c._trigger("unselecting",
b,{unselecting:m.element}))),m.selected&&!b.metaKey&&!b.ctrlKey&&!m.startselected&&(m.$element.removeClass("ui-selected"),m.selected=!1,m.$element.addClass("ui-unselecting"),m.unselecting=!0,c._trigger("unselecting",b,{unselecting:m.element})))}});return!1}},_mouseStop:function(b){var c=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=!1;d.startselected=!1;c._trigger("unselected",b,
{unselected:d.element})});a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=!1;d.selected=!0;d.startselected=!0;c._trigger("selected",b,{selected:d.element})});this._trigger("stop",b);this.helper.remove();return!1}});a.extend(a.ui.selectable,{version:"1.8.18"})})(jQuery);
(function(a,h){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,
c){"disabled"===b?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var g=null,f=this;a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==f)return g=a(this),!1});a.data(b.target,d.widgetName+"-item")==f&&(g=a(b.target));if(!g)return!1;if(this.options.handle&&
!c){var e=!1;a(this.options.handle,g).find("*").andSelf().each(function(){this==b.target&&(e=!0)});if(!e)return!1}this.currentItem=g;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!=
document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",b,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);
return!0},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<
c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-
c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)));!1!==d&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=
this._convertPositionTo("absolute");this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--){var d=this.items[c],g=d.item[0],f=this._intersectsWithPointer(d);if(f&&g!=this.currentItem[0]&&this.placeholder[1==f?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.ui.contains(this.element[0],
g):1)){this.direction=1==f?"down":"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(d))this._rearrange(b,d);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,g=d.placeholder.offset();
d.reverting=!0;a(this.helper).animate({left:g.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,
dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))});!d.length&&b.key&&d.push(b.key+"=");return d.join("&")},toArray:function(b){var c=
this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")});return d},_intersectsWith:function(a){var c=this.positionAbs.left,d=c+this.helperProportions.width,g=this.positionAbs.top,f=g+this.helperProportions.height,e=a.left,k=e+a.width,m=a.top,h=m+a.height,p=this.offset.click.top,n=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?
"width":"height"]>a[this.floating?"width":"height"]?g+p>m&&g+p<h&&c+n>e&&c+n<k:e<c+this.helperProportions.width/2&&d-this.helperProportions.width/2<k&&m<g+this.helperProportions.height/2&&f-this.helperProportions.height/2<h},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);c=c&&b;b=this._getDragVerticalDirection();var d=this._getDragHorizontalDirection();
return c?this.floating?d&&"right"==d||"down"==b?2:1:b&&("down"==b?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var d=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"==g&&b||"left"==g&&!b:d&&("down"==d&&c||"up"==d&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-
this.lastPositionAbs.top;return 0!=a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],g=this._connectWith();if(g&&b)for(b=g.length-1;0<=b;b--)for(var f=a(g[b]),e=f.length-
1;0<=e;e--){var k=a.data(f[e],this.widgetName);k&&k!=this&&!k.options.disabled&&d.push([a.isFunction(k.options.items)?k.options.items.call(k.element):a(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=d.length-1;0<=b;b--)d[b][0].each(function(){c.push(this)});
return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data("+this.widgetName+"-item)"),c=0;c<this.items.length;c++)for(var d=0;d<a.length;d++)a[d]==this.items[c].item[0]&&this.items.splice(c,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],g=this._connectWith();if(g&&this.ready)for(var f=g.length-
1;0<=f;f--)for(var e=a(g[f]),k=e.length-1;0<=k;k--){var m=a.data(e[k],this.widgetName);m&&m!=this&&!m.options.disabled&&(d.push([a.isFunction(m.options.items)?m.options.items.call(m.element[0],b,{item:this.currentItem}):a(m.options.items,m.element),m]),this.containers.push(m))}for(f=d.length-1;0<=f;f--)for(b=d[f][1],g=d[f][0],k=0,e=g.length;k<e;k++)m=a(g[k]),m.data(this.widgetName+"-item",b),c.push({item:m,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&
this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;0<=c;c--){var d=this.items[c];if(d.instance==this.currentContainer||!this.currentContainer||d.item[0]==this.currentItem[0]){var g=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=g.outerWidth(),d.height=g.outerHeight());g=g.offset();d.left=g.left;d.top=g.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=
this.containers.length-1;0<=c;c--)g=this.containers[c].element.offset(),this.containers[c].containerCache.left=g.left,this.containers[c].containerCache.top=g.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var g=d.placeholder;d.placeholder={element:function(){var b=
a(document.createElement(c.currentItem[0].nodeName)).addClass(g||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];g||(b.style.visibility="hidden");return b},update:function(a,b){if(!g||d.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||
0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,g=this.containers.length-1;0<=g;g--)a.ui.contains(this.currentItem[0],this.containers[g].element[0])||(this._intersectsWith(this.containers[g].containerCache)?c&&a.ui.contains(this.containers[g].element[0],c.element[0])||(c=this.containers[g],d=g):this.containers[g].containerCache.over&&(this.containers[g]._trigger("out",
b,this._uiHash(this)),this.containers[g].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var c=1E4,g=null,f=this.positionAbs[this.containers[d].floating?"left":"top"],e=this.items.length-1;0<=e;e--)if(a.ui.contains(this.containers[d].element[0],this.items[e].item[0])){var k=this.items[e][this.containers[d].floating?"left":"top"];Math.abs(k-
f)<c&&(c=Math.abs(k-f),g=this.items[e])}if(g||this.options.dropOnEmpty)this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=
this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(""==
b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width());(""==b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in
b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&
a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins=
{left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-
this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],b=a(b.containment).offset(),d="hidden"!=a(c).css("overflow");this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),
10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,g="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(g[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:g.scrollTop())*d),left:c.left+this.offset.relative.left*
d+this.offset.parent.left*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:g.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(d[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||
(this.offset.relative=this._getRelativeOffset());var f=b.pageX,e=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),
c.grid&&(e=this.originalPageY+Math.round((e-this.originalPageY)/c.grid[1])*c.grid[1],e=this.containment?e-this.offset.click.top<this.containment[1]||e-this.offset.click.top>this.containment[3]?e-this.offset.click.top<this.containment[1]?e+c.grid[1]:e-c.grid[1]:e:e,f=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0],f=this.containment?f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2]?f-this.offset.click.left<this.containment[0]?f+c.grid[0]:
f-c.grid[0]:f:f));return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():g?0:d.scrollLeft())}},_rearrange:function(a,c,d,g){d?d[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],
"down"==this.direction?c.item[0]:c.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,e=this.counter;window.setTimeout(function(){e==f.counter&&f.refreshPositions(!g)},0)},_clear:function(b,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS)if("auto"==this._storedCSS[g]||"static"==this._storedCSS[g])this._storedCSS[g]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||c||d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0]))for(c||d.push(function(a){this._trigger("remove",
a,this._uiHash())}),g=this.containers.length-1;0<=g;g--)a.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[g])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[g])));for(g=this.containers.length-1;0<=g;g--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[g])),
this.containers[g].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,
this._uiHash());for(g=0;g<d.length;g++)d[g].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(g=0;g<d.length;g++)d[g].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=
b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});a.extend(a.ui.sortable,{version:"1.8.18"})})(jQuery);
(function(a,h){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0;b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");
b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")});b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var g=d.closest(".ui-accordion-header");g.length?b.active=g:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");b.active.next().addClass("ui-accordion-content-active");b._createIcons();b.resize();b.element.attr("role","tablist");b.headers.attr("role","tab").bind("keydown.accordion",
function(a){return b._keydown(a)}).next().attr("role","tabpanel");b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0);a.browser.safari||b.headers.find("a").attr("tabIndex",-1);c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this);a.preventDefault()})},_createIcons:function(){var b=
this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");
this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(b.autoHeight||b.fillHeight)&&c.css("height","");return a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);"active"==b&&this.activate(c);"icons"==b&&(this._destroyIcons(),
c&&this._createIcons());"disabled"==b&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,g=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(g+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(g-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?
(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0}},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height();a.browser.msie&&this.element.parent().css("overflow",d);this.headers.each(function(){c-=a(this).outerHeight(!0)});this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow",
"auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;a=this._findActive(a)[0];this._clickHandler({target:a},a);return this},_findActive:function(b){return b?"number"==typeof b?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):!1===b?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled)if(b.target){var g=a(b.currentTarget||
c),f=g[0]===this.active[0];d.active=d.collapsible&&f?!1:this.headers.index(g);if(!(this.running||!d.collapsible&&f)){var e=this.active,k=g.next(),m=this.active.next(),h={options:d,newHeader:f&&d.collapsible?a([]):g,oldHeader:this.active,newContent:f&&d.collapsible?a([]):k,oldContent:m},p=this.headers.index(this.active[0])>this.headers.index(g[0]);this.active=f?a([]):g;this._toggle(k,m,h,f,p);e.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);
f||(g.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),g.next().addClass("ui-accordion-content-active"))}}else d.collapsible&&(this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active"),m=this.active.next(),
h={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:m},k=this.active=a([]),this._toggle(k,m,h))},_toggle:function(b,c,d,g,f){var e=this,k=e.options;e.toShow=b;e.toHide=c;e.data=d;var m=function(){if(e)return e._completed.apply(e,arguments)};e._trigger("changestart",null,e.data);e.running=0===c.size()?b.size():c.size();if(k.animated){d={};k.collapsible&&g?d={toShow:a([]),toHide:c,complete:m,down:f,autoHeight:k.autoHeight||k.fillSpace}:d={toShow:b,toHide:c,complete:m,down:f,
autoHeight:k.autoHeight||k.fillSpace};k.proxied||(k.proxied=k.animated);k.proxiedDuration||(k.proxiedDuration=k.duration);k.animated=a.isFunction(k.proxied)?k.proxied(d):k.proxied;k.duration=a.isFunction(k.proxiedDuration)?k.proxiedDuration(d):k.proxiedDuration;g=a.ui.accordion.animations;var h=k.duration,p=k.animated;p&&!g[p]&&!a.easing[p]&&(p="slide");g[p]||(g[p]=function(a){this.slide(a,{easing:p,duration:h||700})});g[p](d)}else k.collapsible&&g?b.toggle():(c.hide(),b.show()),m(!0);c.prev().attr({"aria-expanded":"false",
"aria-selected":"false",tabIndex:-1}).blur();b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){(this.running=a?0:--this.running)||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});a.extend(a.ui.accordion,{version:"1.8.18",animations:{slide:function(b,
c){b=a.extend({easing:"swing",duration:300},b,c);if(b.toHide.size())if(b.toShow.size()){var d=b.toShow.css("overflow"),g=0,f={},e={},k,m=b.toShow;k=m[0].style.width;m.width(m.parent().width()-parseFloat(m.css("paddingLeft"))-parseFloat(m.css("paddingRight"))-(parseFloat(m.css("borderLeftWidth"))||0)-(parseFloat(m.css("borderRightWidth"))||0));a.each(["height","paddingTop","paddingBottom"],function(c,d){e[d]="hide";var k=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:k[1],unit:k[2]||
"px"}});b.toShow.css({height:0,overflow:"hidden"}).show();b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(e,{step:function(a,c){"height"==c.prop&&(g=0===c.end-c.start?0:(c.now-c.start)/(c.end-c.start));b.toShow[0].style[c.prop]=g*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height","");b.toShow.css({width:k,overflow:d});b.complete()}})}else b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},
b);else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1E3:200})}}})})(jQuery);
(function(a,h){var b=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,d=this.element[0].ownerDocument,g;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){if(!b.options.disabled&&!b.element.propAttr("readOnly")){g=
!1;var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:b._move("previousPage",d);break;case e.PAGE_DOWN:b._move("nextPage",d);break;case e.UP:b._move("previous",d);d.preventDefault();break;case e.DOWN:b._move("next",d);d.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(g=!0,d.preventDefault());case e.TAB:if(!b.menu.active)break;b.menu.select(d);break;case e.ESCAPE:b.element.val(b.term);b.close(d);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=
b.element.val()&&(b.selectedItem=null,b.search(null,d))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){g&&(g=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a);b._change(a)},150))});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||
"body",d)[0]).mousedown(function(d){var e=b.menu.element[0];a(d.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(d){d.target!==b.element[0]&&d.target!==e&&!a.ui.contains(e,d.target)&&b.close()})},1);setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,e){var d=e.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,e){var k=e.item.data("item.autocomplete"),
g=b.previous;b.element[0]!==d.activeElement&&(b.element.focus(),b.previous=g,setTimeout(function(){b.previous=g;b.selectedItem=k},1));!1!==b._trigger("select",a,{item:k})&&b.element.val(k.value);b.term=b.element.val();b.close(a);b.selectedItem=k},blur:function(a,e){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe();b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")};
a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a(window).unbind("beforeunload",this.beforeunloadHandler);a.Widget.prototype.destroy.call(this)},_setOption:function(b,d){a.Widget.prototype._setOption.apply(this,arguments);"source"===b&&this._initSource();"appendTo"===b&&this.menu.element.appendTo(a(d||
"body",this.element[0].ownerDocument)[0]);"disabled"===b&&d&&this.xhr&&this.xhr.abort()},_initSource:function(){var c=this,d,g;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):"string"==typeof this.options.source?(g=this.options.source,this.source=function(d,e){c.xhr&&c.xhr.abort();c.xhr=a.ajax({url:g,data:d,dataType:"json",context:{autocompleteRequest:++b},success:function(a,c){this.autocompleteRequest===b&&e(a)},error:function(){this.autocompleteRequest===
b&&e([])}})}):this.source=this.options.source},search:function(a,b){a=null!=a?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):
this.close();this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||
b.value,value:b.value||b.label},b)})},_suggest:function(b){var d=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(d,b);this.menu.deactivate();this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,d){var g=
this;a.each(d,function(a,e){g._renderItem(b,e)})},_renderItem:function(b,d){return a("<li></li>").data("item.autocomplete",d).append(a("<a></a>").text(d.label)).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))this.element.val(this.term),this.menu.deactivate();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")},filter:function(b,d){var g=RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(b,function(a){return g.test(a.label||a.value||a)})}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var h=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(b){!a(b.target).closest(".ui-menu-item a").length||(b.preventDefault(),h.select(b))});this.refresh()},refresh:function(){var h=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(b){h.activate(b,a(this).parent())}).mouseleave(function(){h.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),g=this.element.height();0>c?this.element.scrollTop(d+c):c>=g&&this.element.scrollTop(d+c-g+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",a,{item:b})},deactivate:function(){!this.active||
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(c,
a):this.activate(c,this.element.children(b))):this.activate(c,this.element.children(b))},nextPage:function(h){if(this.hasScroll())if(!this.active||this.last())this.activate(h,this.element.children(".ui-menu-item:first"));else{var b=this.active.offset().top,c=this.element.height(),d=this.element.children(".ui-menu-item").filter(function(){var d=a(this).offset().top-b-c+a(this).height();return 10>d&&-10<d});d.length||(d=this.element.children(".ui-menu-item:last"));this.activate(h,d)}else this.activate(h,
this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(h){if(this.hasScroll())if(!this.active||this.first())this.activate(h,this.element.children(".ui-menu-item:last"));else{var b=this.active.offset().top,c=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var d=a(this).offset().top-b+c-a(this).height();return 10>d&&-10<d});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(h,
result)}else this.activate(h,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})})(jQuery);
(function(a,h){var b,c,d,g,f=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},e=function(b){var e=b.name,c=b.form,d=a([]);e&&(c?d=a(c).find("[name='"+e+"']"):d=a("[name='"+e+"']",b.ownerDocument).filter(function(){return!this.form}));return d};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",f);"boolean"!=typeof this.options.disabled?
this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var k=this,m=this.options,h="checkbox"===this.type||"radio"===this.type,p="ui-state-hover"+(h?"":" ui-state-active");null===m.label&&(m.label=this.buttonElement.html());this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){m.disabled||
(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){m.disabled||a(this).removeClass(p)}).bind("click.button",function(a){m.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus.button",function(){k.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){k.buttonElement.removeClass("ui-state-focus")});h&&(this.element.bind("change.button",function(){g||k.refresh()}),this.buttonElement.bind("mousedown.button",
function(a){m.disabled||(g=!1,c=a.pageX,d=a.pageY)}).bind("mouseup.button",function(a){m.disabled||c===a.pageX&&d===a.pageY||(g=!0)}));"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(m.disabled||g)return!1;a(this).toggleClass("ui-state-active");k.buttonElement.attr("aria-pressed",k.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(m.disabled||g)return!1;a(this).addClass("ui-state-active");k.buttonElement.attr("aria-pressed",
"true");var b=k.element[0];e(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(m.disabled)return!1;a(this).addClass("ui-state-active");b=this;a(document).one("mouseup",function(){b=null})}).bind("mouseup.button",function(){if(m.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(m.disabled)return!1;b.keyCode!=a.ui.keyCode.SPACE&&
b.keyCode!=a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",m.disabled);this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";
if("checkbox"===this.type||"radio"===this.type){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b);this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b)));this.element.addClass("ui-helper-hidden-accessible");(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",
a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this)},_setOption:function(b,e){a.Widget.prototype._setOption.apply(this,arguments);"disabled"===b?e?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?e(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
e=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),c=this.options.icons,d=c.primary&&c.secondary,f=[];c.primary||c.secondary?(this.options.text&&f.push("ui-button-text-icon"+(d?"s":c.primary?"-primary":"-secondary")),c.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>"),c.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>"),this.options.text||
(f.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",e))):f.push("ui-button-text-only");b.addClass(f.join(" "))}}});a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,e){"disabled"===b&&this.buttons.button("option",b,e);a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b="rtl"===
this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
a.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(a,h){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},c={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},d=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=
a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");"string"!=typeof this.originalTitle&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var b=this,c=b.options,e=c.title||"&#160;",d=a.ui.dialog.getTitleId(b.element),m=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+
c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(e){c.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===a.ui.keyCode.ESCAPE&&(b.close(e),e.preventDefault())}).attr({role:"dialog","aria-labelledby":d}).mousedown(function(a){b.moveToTop(!1,a)});b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(m);var h=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(m),
p=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){p.addClass("ui-state-hover")},function(){p.removeClass("ui-state-hover")}).focus(function(){p.addClass("ui-state-focus")}).blur(function(){p.removeClass("ui-state-focus")}).click(function(a){b.close(a);return!1}).appendTo(h);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(p);a("<span></span>").addClass("ui-dialog-title").attr("id",
d).html(e).prependTo(h);a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose);h.find("*").add(h).disableSelection();c.draggable&&a.fn.draggable&&b._makeDraggable();c.resizable&&a.fn.resizable&&b._makeResizable();b._createButtons(c.buttons);b._isOpen=!1;a.fn.bgiframe&&m.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");
this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(b){var c=this,e,d;if(!1!==c._trigger("beforeClose",b))return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(e=0,a(".ui-dialog").each(function(){this!==
c.uiDialog[0]&&(d=a(this).css("z-index"),isNaN(d)||(e=Math.max(e,d)))}),a.ui.dialog.maxZ=e),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var e=this.options;if(e.modal&&!b||!e.stack&&!e.modal)return this._trigger("focus",c);e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex);this.overlay&&(a.ui.dialog.maxZ+=1,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ));e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};a.ui.dialog.maxZ+=
1;this.uiDialog.css("z-index",a.ui.dialog.maxZ);this.element.attr(e);this._trigger("focus",c);return this},open:function(){if(!this._isOpen){var b=this.options,c=this.uiDialog;this.overlay=b.modal?new a.ui.dialog.overlay(this):null;this._size();this._position(b.position);c.show(b.show);this.moveToTop(!0);b.modal&&c.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),c=c.filter(":last");if(b.target===c[0]&&!b.shiftKey)return d.focus(1),
!1;if(b.target===d[0]&&b.shiftKey)return c.focus(1),!1}});a(this.element.find(":tabbable").get().concat(c.find(".ui-dialog-buttonpane :tabbable").get().concat(c.get()))).eq(0).focus();this._isOpen=!0;this._trigger("open");return this}},_createButtons:function(b){var c=this,e=!1,k=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),m=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(k);c.uiDialog.find(".ui-dialog-buttonpane").remove();"object"==typeof b&&
null!==b&&a.each(b,function(){return!(e=!0)});e&&(a.each(b,function(b,e){e=a.isFunction(e)?{click:e,text:b}:e;var k=a('<button type="button"></button>').click(function(){e.click.apply(c.element[0],arguments)}).appendTo(m);a.each(e,function(a,b){"click"!==a&&(a in d?k[a](b):k.attr(a,b))});a.fn.button&&k.button()}),k.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,e=c.options,d=a(document),m;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(d,k){m="auto"===e.height?"auto":a(this).height();a(this).height(a(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",d,b(k))},drag:function(a,e){c._trigger("drag",a,b(e))},stop:function(h,p){e.position=[p.position.left-d.scrollLeft(),p.position.top-d.scrollTop()];a(this).removeClass("ui-dialog-dragging").height(m);c._trigger("dragStop",h,b(p));a.ui.dialog.overlay.resize()}})},_makeResizable:function(b){function c(a){return{originalPosition:a.originalPosition,
originalSize:a.originalSize,position:a.position,size:a.size}}b=b===h?this.options.resizable:b;var e=this,d=e.options,m=e.uiDialog.css("position");b="string"==typeof b?b:"n,e,s,w,se,sw,ne,nw";e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:e._minHeight(),handles:b,start:function(b,d){a(this).addClass("ui-dialog-resizing");e._trigger("resizeStart",b,c(d))},resize:function(a,b){e._trigger("resize",
a,c(b))},stop:function(b,g){a(this).removeClass("ui-dialog-resizing");d.height=a(this).height();d.width=a(this).width();e._trigger("resizeStop",b,c(g));a.ui.dialog.overlay.resize()}}).css("position",m).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],e=[0,0],d;if(b){if("string"==typeof b||"object"==typeof b&&"0"in b)c=b.split?b.split(" "):
[b[0],b[1]],1===c.length&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(e[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:e.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(d=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b));d||this.uiDialog.hide()},_setOptions:function(d){var f=this,e={},k=!1;a.each(d,function(a,d){f._setOption(a,d);a in
b&&(k=!0);a in c&&(e[a]=d)});k&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(b,c){var e=this.uiDialog;switch(b){case "beforeclose":b="beforeClose";break;case "buttons":this._createButtons(c);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+c);break;case "dialogClass":e.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case "disabled":c?e.addClass("ui-dialog-disabled"):
e.removeClass("ui-dialog-disabled");break;case "draggable":var d=e.is(":data(draggable)");d&&!c&&e.draggable("destroy");!d&&c&&this._makeDraggable();break;case "position":this._position(c);break;case "resizable":(d=e.is(":data(resizable)"))&&!c&&e.resizable("destroy");d&&"string"==typeof c&&e.resizable("option","handles",c);!d&&!1!==c&&this._makeResizable(c);break;case "title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(c||"&#160;"))}a.Widget.prototype._setOption.apply(this,arguments)},_size:function(){var b=
this.options,c,e,d=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});b.minWidth>b.width&&(b.width=b.minWidth);c=this.uiDialog.css({height:"auto",width:b.width}).height();e=Math.max(0,b.minHeight-c);"auto"===b.height?a.support.minHeight?this.element.css({minHeight:e,height:"auto"}):(this.uiDialog.show(),b=this.element.css("height","auto").height(),d||this.uiDialog.hide(),this.element.height(Math.max(b,e))):this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&
this.uiDialog.resizable("option","minHeight",this._minHeight())}});a.extend(a.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(a){(a=a.attr("id"))||(this.uuid+=1,a=this.uuid);return"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}});a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus mousedown mouseup keydown keypress click".split(" "),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&
(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),
height:this.height()});a.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(b){var c=a.inArray(b,this.instances);-1!=c&&this.oldInstances.push(this.instances.splice(c,1)[0]);0===this.instances.length&&a([document,window]).unbind(".dialog-overlay");b.remove();var e=0;a.each(this.instances,function(){e=Math.max(e,this.css("z-index"))});this.maxZ=e},height:function(){var b,c;return a.browser.msie&&7>a.browser.version?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),
c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)});b.css({width:0,
height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}});a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(a,h){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,c=this.options,d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g=c.values&&c.values.length||1,f=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+
this.orientation+" ui-widget ui-widget-content ui-corner-all"+(c.disabled?" ui-slider-disabled ui-disabled":""));this.range=a([]);c.range&&(!0===c.range&&(c.values||(c.values=[this._valueMin(),this._valueMin()]),c.values.length&&2!==c.values.length&&(c.values=[c.values[0],c.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:"")));for(var e=d.length;e<g;e+=1)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=d.add(a(f.join("")).appendTo(b.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(b){a(this).data("index.ui-slider-handle",
b)});this.handles.keydown(function(c){var e=a(this).data("index.ui-slider-handle"),d,f,g;if(!b.options.disabled){switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!b._keySliding&&(b._keySliding=!0,a(this).addClass("ui-state-active"),d=b._start(c,e),!1===d))return}d=b.options.step;b.options.values&&b.options.values.length?
f=g=b.values(e):f=g=b.value();switch(c.keyCode){case a.ui.keyCode.HOME:g=b._valueMin();break;case a.ui.keyCode.END:g=b._valueMax();break;case a.ui.keyCode.PAGE_UP:g=b._trimAlignValue(f+(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:g=b._trimAlignValue(f-(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===b._valueMax())return;g=b._trimAlignValue(f+d);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===b._valueMin())return;g=b._trimAlignValue(f-
d)}b._slide(c,e,g)}}).keyup(function(c){var e=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,e),b._change(c,e),a(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},
_mouseCapture:function(b){var c=this.options,d,g,f,e,k;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();d=this._normValueFromMouse({x:b.pageX,y:b.pageY});g=this._valueMax()-this._valueMin()+1;e=this;this.handles.each(function(b){var c=Math.abs(d-e.values(b));g>c&&(g=c,f=a(this),k=b)});!0===c.range&&this.values(1)===c.min&&(k+=1,f=a(this.handles[k]));if(!1===this._start(b,k))return!1;this._mouseSliding=
!0;e._handleIndex=k;f.addClass("ui-state-active").focus();c=f.offset();this._clickOffset=a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:b.pageX-c.left-f.width()/2,top:b.pageY-c.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(b,k,d);return this._animateOff=!0},_mouseStart:function(a){return!0},_mouseDrag:function(a){var c=this._normValueFromMouse({x:a.pageX,
y:a.pageY});this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var c,d;"horizontal"===this.orientation?(c=this.elementSize.width,d=a.x-this.elementOffset.left-
(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,d=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));a=d/c;1<a&&(a=1);0>a&&(a=0);"vertical"===this.orientation&&(a=1-a);c=this._valueMax()-this._valueMin();a=this._valueMin()+a*c;return this._trimAlignValue(a)},_start:function(a,c){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());return this._trigger("start",
a,d)},_slide:function(a,c,d){var g,f,e;this.options.values&&this.options.values.length?(g=this.values(c?0:1),2===this.options.values.length&&!0===this.options.range&&(0===c&&d>g||1===c&&d<g)&&(d=g),d!==this.values(c)&&(f=this.values(),f[c]=d,e=this._trigger("slide",a,{handle:this.handles[c],value:d,values:f}),this.values(c?0:1),!1!==e&&this.values(c,d,!0))):d!==this.value()&&(e=this._trigger("slide",a,{handle:this.handles[c],value:d}),!1!==e&&this.value(d))},_stop:function(a,c){var d={handle:this.handles[c],
value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());this._trigger("stop",a,d)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());this._trigger("change",a,d)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,
0);else return this._value()},values:function(b,c){var d,g,f;if(1<arguments.length)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values;g=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(g[f]),this._change(null,f);this._refreshValue()}},_setOption:function(b,c){var d,g=
0;a.isArray(this.options.values)&&(g=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case "disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<g;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var c,d;if(arguments.length)return c=this.options.values[a],this._trimAlignValue(c);c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);
return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var c=0<this.options.step?this.options.step:1,d=(a-this._valueMin())%c;a-=d;2*Math.abs(d)>=c&&(a+=0<d?c:-c);return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,g=this._animateOff?!1:c.animate,f,e={},k,m,h,p;this.options.values&&
this.options.values.length?this.handles.each(function(b,m){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100;e["horizontal"===d.orientation?"left":"bottom"]=f+"%";a(this).stop(1,1)[g?"animate":"css"](e,c.animate);!0===d.options.range&&("horizontal"===d.orientation?(0===b&&d.range.stop(1,1)[g?"animate":"css"]({left:f+"%"},c.animate),1===b&&d.range[g?"animate":"css"]({width:f-k+"%"},{queue:!1,duration:c.animate})):(0===b&&d.range.stop(1,1)[g?"animate":"css"]({bottom:f+"%"},c.animate),
1===b&&d.range[g?"animate":"css"]({height:f-k+"%"},{queue:!1,duration:c.animate})));k=f}):(m=this.value(),h=this._valueMin(),p=this._valueMax(),f=p!==h?(m-h)/(p-h)*100:0,e["horizontal"===d.orientation?"left":"bottom"]=f+"%",this.handle.stop(1,1)[g?"animate":"css"](e,c.animate),"min"===b&&"horizontal"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({width:f+"%"},c.animate),"max"===b&&"horizontal"===this.orientation&&this.range[g?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),
"min"===b&&"vertical"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({height:f+"%"},c.animate),"max"===b&&"vertical"===this.orientation&&this.range[g?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}});a.extend(a.ui.slider,{version:"1.8.18"})})(jQuery);
(function(a,h){var b=0,c=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){"selected"==a?this.options.collapsible&&b==this.options.selected||this.select(b):
(this.options[a]=b,this._tabify())},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++b},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++c);return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=
a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(b){function c(b,e){b.css("display","");!a.support.opacity&&e.opacity&&b[0].style.removeAttribute("filter")}var f=this,e=this.options,k=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=a(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return a("a",this)[0]});this.panels=a([]);this.anchors.each(function(b,c){var d=a(c).attr("href"),g=d.split("#")[0],m;g&&(g===location.toString().split("#")[0]||
(m=a("base")[0])&&g===m.href)&&(d=c.hash,c.href=d);k.test(d)?f.panels=f.panels.add(f.element.find(f._sanitizeSelector(d))):d&&"#"!==d?(a.data(c,"href.tabs",d),a.data(c,"load.tabs",d.replace(/#.*$/,"")),d=f._tabId(c),c.href="#"+d,g=f.element.find("#"+d),g.length||(g=a(e.panelTemplate).attr("id",d).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(f.panels[b-1]||f.list),g.data("destroy.tabs",!0)),f.panels=f.panels.add(g)):e.disabled.push(b)});b?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===h?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return e.selected=a,!1}),"number"!=typeof e.selected&&e.cookie&&(e.selected=parseInt(f._cookie(),10)),"number"!=typeof e.selected&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):null===e.selected&&(e.selected=-1),e.selected=0<=e.selected&&this.anchors[e.selected]||0>e.selected?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return f.lis.index(a)}))).sort(),-1!=a.inArray(e.selected,e.disabled)&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=e.selected&&this.anchors.length&&(f.element.find(f._sanitizeSelector(f.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),f.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[e.selected],f.element.find(f._sanitizeSelector(f.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){f.lis.add(f.anchors).unbind(".tabs");f.lis=f.anchors=f.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));
this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");e.cookie&&this._cookie(e.selected,e.cookie);b=0;for(var m;m=this.lis[b];b++)a(m)[-1==a.inArray(b,e.disabled)||a(m).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");!1===e.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!==e.event){var r=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){r("hover",
a(this))});this.lis.bind("mouseout.tabs",function(){a(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){r("focus",a(this).closest("li"))});this.anchors.bind("blur.tabs",function(){a(this).closest("li").removeClass("ui-state-focus")})}var p,n;e.fx&&(a.isArray(e.fx)?(p=e.fx[0],n=e.fx[1]):p=n=e.fx);var s=n?function(b,e){a(b).closest("li").addClass("ui-tabs-selected ui-state-active");e.hide().removeClass("ui-tabs-hide").animate(n,n.duration||"normal",function(){c(e,n);f._trigger("show",
null,f._ui(b,e[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active");c.removeClass("ui-tabs-hide");f._trigger("show",null,f._ui(b,c[0]))},q=p?function(a,b){b.animate(p,p.duration||"normal",function(){f.lis.removeClass("ui-tabs-selected ui-state-active");b.addClass("ui-tabs-hide");c(b,p);f.element.dequeue("tabs")})}:function(a,b,c){f.lis.removeClass("ui-tabs-selected ui-state-active");b.addClass("ui-tabs-hide");f.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",
function(){var b=this,c=a(b).closest("li"),d=f.panels.filter(":not(.ui-tabs-hide)"),k=f.element.find(f._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||f.panels.filter(":animated").length||!1===f._trigger("select",null,f._ui(this,k[0])))return this.blur(),!1;e.selected=f.anchors.index(this);f.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected"))return e.selected=-1,e.cookie&&f._cookie(e.selected,
e.cookie),f.element.queue("tabs",function(){q(b,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return e.cookie&&f._cookie(e.selected,e.cookie),f.element.queue("tabs",function(){s(b,k)}),f.load(f.anchors.index(this)),this.blur(),!1}e.cookie&&f._cookie(e.selected,e.cookie);if(k.length)d.length&&f.element.queue("tabs",function(){q(b,d)}),f.element.queue("tabs",function(){s(b,k)}),f.load(f.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()});
this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]")));return a},destroy:function(){var b=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var b=a.data(this,
"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});b.cookie&&this._cookie(null,b.cookie);return this},add:function(b,
c,f){f===h&&(f=this.anchors.length);var e=this,k=this.options;c=a(k.tabTemplate.replace(/#\{href\}/g,b).replace(/#\{label\}/g,c));b=b.indexOf("#")?this._tabId(a("a",c)[0]):b.replace("#","");c.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var m=e.element.find("#"+b);m.length||(m=a(k.panelTemplate).attr("id",b).data("destroy.tabs",!0));m.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");f>=this.lis.length?(c.appendTo(this.list),m.appendTo(this.list[0].parentNode)):
(c.insertBefore(this.lis[f]),m.insertBefore(this.panels[f]));k.disabled=a.map(k.disabled,function(a,b){return a>=f?++a:a});this._tabify();1==this.anchors.length&&(k.selected=0,c.addClass("ui-tabs-selected ui-state-active"),m.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[0],e.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[f],this.panels[f]));return this},remove:function(b){b=this._getIndex(b);var c=this.options,f=
this.lis.eq(b).remove(),e=this.panels.eq(b).remove();f.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(b+(b+1<this.anchors.length?1:-1));c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a});this._tabify();this._trigger("remove",null,this._ui(f.find("a")[0],e[0]));return this},enable:function(b){b=this._getIndex(b);var c=this.options;if(-1!=a.inArray(b,c.disabled))return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,
function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this.options;a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(-1==a)if(this.options.collapsible&&-1!=this.options.selected)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+
".tabs");return this},load:function(b){b=this._getIndex(b);var c=this,f=this.options,e=this.anchors.eq(b)[0],k=a.data(e,"load.tabs");this.abort();if(!k||0!==this.element.queue("tabs").length&&a.data(e,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(b).addClass("ui-state-processing");if(f.spinner){var m=a("span",e);m.data("label.tabs",m.html()).html(f.spinner)}this.xhr=a.ajax(a.extend({},f.ajaxOptions,{url:k,success:function(k,m){c.element.find(c._sanitizeSelector(e.hash)).html(k);c._cleanup();
f.cache&&a.data(e,"cache.tabs",!0);c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{f.ajaxOptions.success(k,m)}catch(n){}},error:function(a,k,m){c._cleanup();c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{f.ajaxOptions.error(a,k,b,e)}catch(h){}}}));c.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();
return this},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b);return this},length:function(){return this.anchors.length}});a.extend(a.ui.tabs,{version:"1.8.18"});a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,e=this.options,k=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation);c.rotation=setTimeout(function(){var a=e.selected;c.select(++a<c.anchors.length?a:0)},a);b&&b.stopPropagation()}),m=c._unrotate||(c._unrotate=b?function(a){t=
e.selected;k()}:function(a){a.clientX&&c.rotate(null)});a?(this.element.bind("tabsshow",k),this.anchors.bind(e.event+".tabs",m),k()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",k),this.anchors.unbind(e.event+".tabs",m),delete this._rotate,delete this._unrotate);return this}})})(jQuery);
(function(a,h){function b(b,c){a.extend(b,c);for(var d in c)if(null==c[d]||c[d]==h)b[d]=c[d];return b}function c(b){return b.bind("mouseout",function(b){b=a(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");!b.length||b.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){c=a(c.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");!a.datepicker._isDisabledDatepicker(f.inline?
b.parent()[0]:f.input[0])&&c.length&&(c.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c.addClass("ui-state-hover"),c.hasClass("ui-datepicker-prev")&&c.addClass("ui-datepicker-prev-hover"),c.hasClass("ui-datepicker-next")&&c.addClass("ui-datepicker-next-hover"))})}function d(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,
this.regional[""]);this.dpDiv=c(a('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}a.extend(a.ui,{datepicker:{version:"1.8.18"}});var g=(new Date).getTime(),f;a.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){b(this._defaults,a||{});return this},_attachDatepicker:function(b,c){var d=
null,f;for(f in this._defaults){var g=b.getAttribute("date:"+f);if(g){d=d||{};try{d[f]=eval(g)}catch(n){d[f]=g}}}f=b.nodeName.toLowerCase();g="div"==f||"span"==f;b.id||(this.uuid+=1,b.id="dp"+this.uuid);var h=this._newInst(a(b),g);h.settings=a.extend({},c||{},d||{});"input"==f?this._connectDatepicker(b,h):g&&this._inlineDatepicker(b,h)},_newInst:function(b,d){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,
dpDiv:d?c(a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,b,e){c.settings[b]=e}).bind("getData.datepicker",function(a,b){return this._get(c,
b)}),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d=this._get(c,"appendText"),f=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=a('<span class="'+this._appendClass+'">'+d+"</span>"),b[f?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");"focus"!=d&&"both"!=d||b.focus(this._showDatepicker);if("button"==d||"both"==d){var d=this._get(c,"buttonText"),
g=this._get(c,"buttonImage");c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:d,title:d}):a('<button type="button"></button>').addClass(this._triggerClass).html(""==g?d:a("<img/>").attr({src:g,alt:d,title:d})));b[f?"before":"after"](c.trigger);c.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput==b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!=b[0]?(a.datepicker._hideDatepicker(),
a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]);return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,e=0;e<a.length;e++)a[e].length>b&&(b=a[e].length,c=e);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,
b).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv).bind("setData.datepicker",function(a,b,e){c.settings[b]=e}).bind("getData.datepicker",function(a,b){return this._get(c,b)}),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(c,d,f,g,h){(c=
this._dialogInst)||(this.uuid+=1,this._dialogInput=a('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},a.data(this._dialogInput[0],"datepicker",c));b(c.settings,g||{});d=d&&d.constructor==Date?this._formatDate(c,d):d;this._dialogInput.val(d);(this._pos=h?h.length?h:[h.pageX,h.pageY]:null)||
(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");c.settings.onSelect=f;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",
c);return this},_destroyDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var f=b.nodeName.toLowerCase();a.removeData(b,"datepicker");"input"==f?(d.append.remove(),d.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==f||"span"==f)&&c.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(b){var c=
a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var f=b.nodeName.toLowerCase();if("input"==f)b.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==f||"span"==f)c=c.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=a.map(this._disabledInputs,function(a){return a==
b?null:a})}},_disableDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var f=b.nodeName.toLowerCase();if("input"==f)b.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==f||"span"==f)c=c.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled");this._disabledInputs=
a.map(this._disabledInputs,function(a){return a==b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,d,f){var g=this._getInst(c);if(2==arguments.length&&"string"==typeof d)return"defaults"==d?a.extend({},
a.datepicker._defaults):g?"all"==d?a.extend({},g.settings):this._get(g,d):null;var p=d||{};"string"==typeof d&&(p={},p[d]=f);if(g){this._curInst==g&&this._hideDatepicker();var n=this._getDateDatepicker(c,!0),s=this._getMinMaxDate(g,"min"),q=this._getMinMaxDate(g,"max");b(g.settings,p);null!==s&&p.dateFormat!==h&&p.minDate===h&&(g.settings.minDate=this._formatDate(g,s));null!==q&&p.dateFormat!==h&&p.maxDate===h&&(g.settings.maxDate=this._formatDate(g,q));this._attachments(a(c),g);this._autoSize(g);
this._setDate(g,n);this._updateAlternate(g);this._updateDatepicker(g)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(b){var c=
a.datepicker._getInst(b.target),d=!0,f=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();d=!1;break;case 13:return d=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",c.dpDiv),d[0]&&a.datepicker._selectDay(b.target,c.selectedMonth,c.selectedYear,d[0]),(b=a.datepicker._get(c,"onSelect"))?(d=a.datepicker._formatDate(c),b.apply(c.input?c.input[0]:null,[d,c])):a.datepicker._hideDatepicker(),
!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);d=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);d=b.ctrlKey||b.metaKey;
break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,f?1:-1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");d=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,f?-1:1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,
b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");d=b.ctrlKey||b.metaKey;break;default:d=!1}else 36==b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):d=!1;d&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c=a.datepicker._getInst(b.target);if(a.datepicker._get(c,"constrainInput")){var c=a.datepicker._possibleChars(a.datepicker._get(c,"dateFormat")),d=String.fromCharCode(b.charCode==
h?b.keyCode:b.charCode);return b.ctrlKey||b.metaKey||" ">d||!c||-1<c.indexOf(d)}},_doKeyUp:function(b){b=a.datepicker._getInst(b.target);if(b.input.val()!=b.lastVal)try{a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b))}catch(c){a.datepicker.log(c)}return!0},_showDatepicker:function(c){c=c.target||c;"input"!=c.nodeName.toLowerCase()&&
(c=a("input",c.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(c)&&a.datepicker._lastInput!=c){var d=a.datepicker._getInst(c);a.datepicker._curInst&&a.datepicker._curInst!=d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));var f=a.datepicker._get(d,"beforeShow"),f=f?f.apply(c,[c,d]):{};if(!1!==f){b(d.settings,f);d.lastVal=null;a.datepicker._lastInput=c;a.datepicker._setDateFromField(d);a.datepicker._inDialog&&
(c.value="");a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(c),a.datepicker._pos[1]+=c.offsetHeight);var g=!1;a(c).parents().each(function(){g|="fixed"==a(this).css("position");return!g});g&&a.browser.opera&&(a.datepicker._pos[0]-=document.documentElement.scrollLeft,a.datepicker._pos[1]-=document.documentElement.scrollTop);f={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;d.dpDiv.empty();d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});a.datepicker._updateDatepicker(d);
f=a.datepicker._checkOffset(d,f,g);d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!d.inline){var f=a.datepicker._get(d,"showAnim"),h=a.datepicker._get(d,"duration"),n=function(){var b=d.dpDiv.find("iframe.ui-datepicker-cover");if(b.length){var c=a.datepicker._getBorders(d.dpDiv);b.css({left:-c[0],top:-c[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()})}};d.dpDiv.zIndex(a(c).zIndex()+1);a.datepicker._datepickerShowing=
!0;a.effects&&a.effects[f]?d.dpDiv.show(f,a.datepicker._get(d,"showOptions"),h,n):d.dpDiv[f||"show"](f?h:null,n);f&&h||n();d.input.is(":visible")&&!d.input.is(":disabled")&&d.input.focus();a.datepicker._curInst=d}}}},_updateDatepicker:function(b){this.maxRows=4;var c=a.datepicker._getBorders(b.dpDiv);f=b;b.dpDiv.empty().append(this._generateHTML(b));var d=b.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()});b.dpDiv.find("."+
this._dayOverClass+" a").mouseover();c=this._getNumberOfMonths(b);d=c[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<d&&b.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",17*d+"em");b.dpDiv[(1!=c[0]||1!=c[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b==a.datepicker._curInst&&a.datepicker._datepickerShowing&&b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&
b.input[0]!=document.activeElement&&b.input.focus();if(b.yearshtml){var g=b.yearshtml;setTimeout(function(){g===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);g=b.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,c,d){var f=b.dpDiv.outerWidth(),g=b.dpDiv.outerHeight(),n=b.input?b.input.outerWidth():
0,h=b.input?b.input.outerHeight():0,q=document.documentElement.clientWidth+a(document).scrollLeft(),u=document.documentElement.clientHeight+a(document).scrollTop();c.left-=this._get(b,"isRTL")?f-n:0;c.left-=d&&c.left==b.input.offset().left?a(document).scrollLeft():0;c.top-=d&&c.top==b.input.offset().top+h?a(document).scrollTop():0;c.left-=Math.min(c.left,c.left+f>q&&q>f?Math.abs(c.left+f-q):0);c.top-=Math.min(c.top,c.top+g>u&&u>g?Math.abs(g+h):0);return c},_findPos:function(b){for(var c=this._getInst(b),
c=this._get(c,"isRTL");b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var c=this._curInst;if(c&&(!b||c==a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(c,"showAnim");var d=this._get(c,"duration"),f=this,g=function(){a.datepicker._tidyDialog(c);f._curInst=null};a.effects&&a.effects[b]?c.dpDiv.hide(b,a.datepicker._get(c,"showOptions"),d,g):c.dpDiv["slideDown"==b?"slideUp":
"fadeIn"==b?"fadeOut":"hide"](b?d:null,g);b||g();this._datepickerShowing=!1;(b=this._get(c,"onClose"))&&b.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=
a(b.target);var c=a.datepicker._getInst(b[0]);(b[0].id!=a.datepicker._mainDivId&&0==b.parents("#"+a.datepicker._mainDivId).length&&!(b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!=c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){b=a(b);var f=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(f,
c+("M"==d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){b=a(b);var c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate();c.drawMonth=c.selectedMonth=d.getMonth();c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c);this._adjustDate(b)},_selectMonthYear:function(b,c,d){b=a(b);var f=
this._getInst(b[0]);f["selected"+("M"==d?"Month":"Year")]=f["draw"+("M"==d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(b)},_selectDay:function(b,c,d,f){var g=a(b);a(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(g=this._getInst(g[0]),g.selectedDay=g.currentDay=a("a",f).html(),g.selectedMonth=g.currentMonth=c,g.selectedYear=g.currentYear=d,this._selectDate(b,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},
_clearDate:function(b){b=a(b);this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(b,c){var d=a(b),d=this._getInst(d[0]);c=null!=c?c:this._formatDate(d);d.input&&d.input.val(c);this._updateAlternate(d);var f=this._get(d,"onSelect");f?f.apply(d.input?d.input[0]:null,[c,d]):d.input&&d.input.trigger("change");d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c=
this._get(b,"altField");if(c){var d=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),g=this.formatDate(d,f,this._getFormatConfig(b));a(c).each(function(){a(this).val(g)})}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";
c="object"==typeof c?c.toString():c+"";if(""==c)return null;for(var f=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,f="string"!=typeof f?f:(new Date).getFullYear()%100+parseInt(f,10),g=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,n=(d?d.dayNames:null)||this._defaults.dayNames,h=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,q=(d?d.monthNames:null)||this._defaults.monthNames,u=d=-1,w=-1,A=-1,z=!1,x=function(a){(a=S+1<b.length&&b.charAt(S+1)==a)&&S++;return a},C=function(a){var b=
x(a);a=RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a&&b?4:"o"==a?3:2)+"}");a=c.substring(D).match(a);if(!a)throw"Missing number at position "+D;D+=a[0].length;return parseInt(a[0],10)},F=function(b,e,d){b=a.map(x(b)?d:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});var f=-1;a.each(b,function(a,b){var e=b[1];if(c.substr(D,e.length).toLowerCase()==e.toLowerCase())return f=b[0],D+=e.length,!1});if(-1!=f)return f+1;throw"Unknown name at position "+D;},B=function(){if(c.charAt(D)!=
b.charAt(S))throw"Unexpected literal at position "+D;D++},D=0,S=0;S<b.length;S++)if(z)"'"!=b.charAt(S)||x("'")?B():z=!1;else switch(b.charAt(S)){case "d":w=C("d");break;case "D":F("D",g,n);break;case "o":A=C("o");break;case "m":u=C("m");break;case "M":u=F("M",h,q);break;case "y":d=C("y");break;case "@":var Q=new Date(C("@"));d=Q.getFullYear();u=Q.getMonth()+1;w=Q.getDate();break;case "!":Q=new Date((C("!")-this._ticksTo1970)/1E4);d=Q.getFullYear();u=Q.getMonth()+1;w=Q.getDate();break;case "'":x("'")?
B():z=!0;break;default:B()}if(D<c.length)throw"Extra/unparsed characters found in date: "+c.substring(D);-1==d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=f?0:-100));if(-1<A)for(u=1,w=A;;){f=this._getDaysInMonth(d,u-1);if(w<=f)break;u++;w-=f}Q=this._daylightSavingAdjust(new Date(d,u-1,w));if(Q.getFullYear()!=d||Q.getMonth()+1!=u||Q.getDate()!=w)throw"Invalid date";return Q},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",
RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var h=function(b){(b=
z+1<a.length&&a.charAt(z+1)==b)&&z++;return b},q=function(a,b,c){b=""+b;if(h(a))for(;b.length<c;)b="0"+b;return b},u=function(a,b,c,e){return h(a)?e[b]:c[b]},w="",A=!1;if(b)for(var z=0;z<a.length;z++)if(A)"'"!=a.charAt(z)||h("'")?w+=a.charAt(z):A=!1;else switch(a.charAt(z)){case "d":w+=q("d",b.getDate(),2);break;case "D":w+=u("D",b.getDay(),d,f);break;case "o":w+=q("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;
case "m":w+=q("m",b.getMonth()+1,2);break;case "M":w+=u("M",b.getMonth(),g,c);break;case "y":w+=h("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":w+=b.getTime();break;case "!":w+=1E4*b.getTime()+this._ticksTo1970;break;case "'":h("'")?w+="'":A=!0;break;default:w+=a.charAt(z)}return w},_possibleChars:function(a){for(var b="",c=!1,d=function(b){(b=f+1<a.length&&a.charAt(f+1)==b)&&f++;return b},f=0;f<a.length;f++)if(c)"'"!=a.charAt(f)||d("'")?b+=a.charAt(f):c=!1;else switch(a.charAt(f)){case "d":case "m":case "y":case "@":b+=
"0123456789";break;case "D":case "M":return null;case "'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(f)}return b},_get:function(a,b){return a.settings[b]!==h?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,f,g;f=g=this._getDefaultDate(a);var h=this._getFormatConfig(a);try{f=this.parseDate(c,d,h)||g}catch(q){this.log(q),d=b?"":d}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=
f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=d?f.getDate():0;a.currentMonth=d?f.getMonth():0;a.currentYear=d?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var f=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},g=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var f=
(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,g=f.getFullYear(),k=f.getMonth(),f=f.getDate(),m=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=m.exec(c);h;){switch(h[2]||"d"){case "d":case "D":f+=parseInt(h[1],10);break;case "w":case "W":f+=7*parseInt(h[1],10);break;case "m":case "M":k+=parseInt(h[1],10);f=Math.min(f,a.datepicker._getDaysInMonth(g,k));break;case "y":case "Y":g+=parseInt(h[1],10),f=Math.min(f,a.datepicker._getDaysInMonth(g,k))}h=m.exec(c)}return new Date(g,k,f)};(c=
(c=null==c||""===c?d:"string"==typeof c?g(c):"number"==typeof c?isNaN(c)?d:f(c):new Date(c.getTime()))&&"Invalid Date"==c.toString()?d:c)&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0));return this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,f=a.selectedMonth,g=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=
b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();f==a.selectedMonth&&g==a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(b){var c=new Date,c=this._daylightSavingAdjust(new Date(c.getFullYear(),
c.getMonth(),c.getDate())),d=this._get(b,"isRTL"),f=this._get(b,"showButtonPanel"),h=this._get(b,"hideIfNoPrevNext"),n=this._get(b,"navigationAsDateFormat"),s=this._getNumberOfMonths(b),q=this._get(b,"showCurrentAtPos"),u=this._get(b,"stepMonths"),w=1!=s[0]||1!=s[1],A=this._daylightSavingAdjust(b.currentDay?new Date(b.currentYear,b.currentMonth,b.currentDay):new Date(9999,9,9)),z=this._getMinMaxDate(b,"min"),x=this._getMinMaxDate(b,"max"),q=b.drawMonth-q,C=b.drawYear;0>q&&(q+=12,C--);if(x)for(var F=
this._daylightSavingAdjust(new Date(x.getFullYear(),x.getMonth()-s[0]*s[1]+1,x.getDate())),F=z&&F<z?z:F;this._daylightSavingAdjust(new Date(C,q,1))>F;)q--,0>q&&(q=11,C--);b.drawMonth=q;b.drawYear=C;var F=this._get(b,"prevText"),F=n?this.formatDate(F,this._daylightSavingAdjust(new Date(C,q-u,1)),this._getFormatConfig(b)):F,F=this._canAdjustMonth(b,-1,C,q)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+g+".datepicker._adjustDate('#"+b.id+"', -"+u+", 'M');\" title=\""+F+'"><span class="ui-icon ui-icon-circle-triangle-'+
(d?"e":"w")+'">'+F+"</span></a>":h?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+F+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"e":"w")+'">'+F+"</span></a>",B=this._get(b,"nextText"),B=n?this.formatDate(B,this._daylightSavingAdjust(new Date(C,q+u,1)),this._getFormatConfig(b)):B,h=this._canAdjustMonth(b,1,C,q)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+g+".datepicker._adjustDate('#"+b.id+"', +"+u+", 'M');\" title=\""+B+'"><span class="ui-icon ui-icon-circle-triangle-'+
(d?"w":"e")+'">'+B+"</span></a>":h?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+B+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"w":"e")+'">'+B+"</span></a>",u=this._get(b,"currentText"),B=this._get(b,"gotoCurrent")&&b.currentDay?A:c,u=n?this.formatDate(u,B,this._getFormatConfig(b)):u,n=b.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+g+'.datepicker._hideDatepicker();">'+this._get(b,
"closeText")+"</button>",f=f?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(d?n:"")+(this._isInRange(b,B)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+g+".datepicker._gotoToday('#"+b.id+"');\">"+u+"</button>":"")+(d?"":n)+"</div>":"",n=parseInt(this._get(b,"firstDay"),10),n=isNaN(n)?0:n,u=this._get(b,"showWeek"),B=this._get(b,"dayNames");this._get(b,"dayNamesShort");var D=this._get(b,"dayNamesMin"),S=this._get(b,
"monthNames"),Q=this._get(b,"monthNamesShort"),I=this._get(b,"beforeShowDay"),V=this._get(b,"showOtherMonths"),v=this._get(b,"selectOtherMonths");this._get(b,"calculateWeek");for(var X=this._getDefaultDate(b),M="",l=0;l<s[0];l++){var J="";this.maxRows=4;for(var O=0;O<s[1];O++){var N=this._daylightSavingAdjust(new Date(C,q,b.selectedDay)),G=" ui-corner-all",K="";if(w){K+='<div class="ui-datepicker-group';if(1<s[1])switch(O){case 0:K+=" ui-datepicker-group-first";G=" ui-corner-"+(d?"right":"left");
break;case s[1]-1:K+=" ui-datepicker-group-last";G=" ui-corner-"+(d?"left":"right");break;default:K+=" ui-datepicker-group-middle",G=""}K+='">'}for(var K=K+('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+G+'">'+(/all|left/.test(G)&&0==l?d?h:F:"")+(/all|right/.test(G)&&0==l?d?F:h:"")+this._generateMonthYearHeader(b,q,C,z,x,0<l||0<O,S,Q)+'</div><table class="ui-datepicker-calendar"><thead><tr>'),T=u?'<th class="ui-datepicker-week-col">'+this._get(b,"weekHeader")+"</th>":"",G=
0;7>G;G++)var L=(G+n)%7,T=T+("<th"+(5<=(G+n+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+B[L]+'">'+D[L]+"</span></th>");K+=T+"</tr></thead><tbody>";T=this._getDaysInMonth(C,q);C==b.selectedYear&&q==b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,T));G=(this._getFirstDayOfMonth(C,q)-n+7)%7;T=Math.ceil((G+T)/7);this.maxRows=T=w?this.maxRows>T?this.maxRows:T:T;for(var L=this._daylightSavingAdjust(new Date(C,q,1-G)),aa=0;aa<T;aa++){for(var K=K+"<tr>",P=u?'<td class="ui-datepicker-week-col">'+
this._get(b,"calculateWeek")(L)+"</td>":"",G=0;7>G;G++){var ba=I?I.apply(b.input?b.input[0]:null,[L]):[!0,""],W=L.getMonth()!=q,Y=W&&!v||!ba[0]||z&&L<z||x&&L>x,P=P+('<td class="'+(5<=(G+n+6)%7?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(L.getTime()==N.getTime()&&q==b.selectedMonth&&b._keyEvent||X.getTime()==L.getTime()&&X.getTime()==N.getTime()?" "+this._dayOverClass:"")+(Y?" "+this._unselectableClass+" ui-state-disabled":"")+(W&&!V?"":" "+ba[1]+(L.getTime()==A.getTime()?" "+
this._currentClass:"")+(L.getTime()==c.getTime()?" ui-datepicker-today":""))+'"'+(W&&!V||!ba[2]?"":' title="'+ba[2]+'"')+(Y?"":' onclick="DP_jQuery_'+g+".datepicker._selectDay('#"+b.id+"',"+L.getMonth()+","+L.getFullYear()+', this);return false;"')+">"+(W&&!V?"&#xa0;":Y?'<span class="ui-state-default">'+L.getDate()+"</span>":'<a class="ui-state-default'+(L.getTime()==c.getTime()?" ui-state-highlight":"")+(L.getTime()==A.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+'" href="#">'+
L.getDate()+"</a>")+"</td>");L.setDate(L.getDate()+1);L=this._daylightSavingAdjust(L)}K+=P+"</tr>"}q++;11<q&&(q=0,C++);K+="</tbody></table>"+(w?"</div>"+(0<s[0]&&O==s[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");J+=K}M+=J}M+=f+(a.browser.msie&&7>parseInt(a.browser.version,10)&&!b.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");b._keyEvent=!1;return M},_generateMonthYearHeader:function(a,b,c,d,f,n,h,q){var u=this._get(a,"changeMonth"),
w=this._get(a,"changeYear"),A=this._get(a,"showMonthAfterYear"),z='<div class="ui-datepicker-title">',x="";if(n||!u)x+='<span class="ui-datepicker-month">'+h[b]+"</span>";else{h=d&&d.getFullYear()==c;for(var C=f&&f.getFullYear()==c,x=x+('<select class="ui-datepicker-month" onchange="DP_jQuery_'+g+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >"),F=0;12>F;F++)(!h||F>=d.getMonth())&&(!C||F<=f.getMonth())&&(x+='<option value="'+F+'"'+(F==b?' selected="selected"':"")+">"+q[F]+"</option>");
x+="</select>"}A||(z+=x+(!n&&u&&w?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",n||!w)z+='<span class="ui-datepicker-year">'+c+"</span>";else{q=this._get(a,"yearRange").split(":");var B=(new Date).getFullYear();h=function(a){a=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?B+parseInt(a,10):parseInt(a,10);return isNaN(a)?B:a};b=h(q[0]);q=Math.max(b,h(q[1]||""));b=d?Math.max(b,d.getFullYear()):b;q=f?Math.min(q,f.getFullYear()):q;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+
g+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";b<=q;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>";z+=a.yearshtml;a.yearshtml=null}z+=this._get(a,"yearSuffix");A&&(z+=(!n&&u&&w?"":"&#xa0;")+x);return z+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),f=a.drawMonth+("M"==c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,f))+("D"==c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,
f,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!=c&&"Y"!=c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&b<c?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,
1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:f[0]*f[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,
c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,
b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick).find("body").append(a.datepicker.dpDiv),
a.datepicker.initialized=!0);var c=Array.prototype.slice.call(arguments,1);return"string"==typeof b&&("isDisabled"==b||"getDate"==b||"widget"==b)||"option"==b&&2==arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new d;a.datepicker.initialized=!1;a.datepicker.uuid=
(new Date).getTime();a.datepicker.version="1.8.18";window["DP_jQuery_"+g]=a})(jQuery);
(function(a,h){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===h)return this._value();this._setOption("value",a);return this},_setOption:function(b,c){"value"===b&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;"number"!=typeof a&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*
this._value()/this.options.max},_refreshValue:function(){var a=this.value(),c=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change"));this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(c.toFixed(0)+"%");this.element.attr("aria-valuenow",a)}});a.extend(a.ui.progressbar,{version:"1.8.18"})})(jQuery);
jQuery.effects||function(a,h){function b(b){return!b||"number"==typeof b||a.fx.speeds[b]||"string"==typeof b&&!a.effects[b]?!0:!1}function c(b,c,d,e){"object"==typeof b&&(e=c,d=null,c=b,b=c.effect);a.isFunction(c)&&(e=c,d=null,c={});if("number"==typeof c||a.fx.speeds[c])e=d,d=c,c={};a.isFunction(d)&&(e=d,d=null);c=c||{};d=d||c.duration;d=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default;e=e||c.complete;return[b,c,d,e]}function d(a,b){var c={_:0},d;for(d in b)a[d]!=
b[d]&&(c[d]=b[d]);return c}function g(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in r||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function f(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],"string"==typeof a[c]&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)"string"==typeof a[c]&&(b[c]=
a[c]);return b}function e(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],
16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?k.transparent:k[a.trim(b).toLowerCase()]}a.effects={};a.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(b,c){a.fx.step[c]=function(b){if(!b.colorInit){var d;d=b.elem;var f=c,g;do{g=a.curCSS(d,f);if(""!=g&&"transparent"!=g||a.nodeName(d,"body"))break;
f="backgroundColor"}while(d=d.parentNode);d=e(g);b.start=d;b.end=e(b.end);b.colorInit=!0}b.elem.style[c]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var k={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,
0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,
255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},m=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,e,k){a.isFunction(e)&&(k=e,e=null);return this.queue(function(){var h=
a(this),r=h.attr("style")||" ",A=g(f.call(this)),z,x=h.attr("class");a.each(m,function(a,c){b[c]&&h[c+"Class"](b[c])});z=g(f.call(this));h.attr("class",x);h.animate(d(A,z),{queue:!1,duration:c,easing:e,complete:function(){a.each(m,function(a,c){b[c]&&h[c+"Class"](b[c])});"object"==typeof h.attr("style")?(h.attr("style").cssText="",h.attr("style").cssText=r):h.attr("style",r);k&&k.apply(this,arguments);a.dequeue(this)}})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,
[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(b,c,d,e,f){return"boolean"==typeof c||c===h?d?a.effects.animateClass.apply(this,[c?{add:b}:{remove:b},d,e,f]):this._toggleClass(b,c):a.effects.animateClass.apply(this,[{toggle:b},c,d,e])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,
remove:b},d,e,f])}});a.extend(a.effects,{version:"1.8.18",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){"toggle"==b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c,d;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":d=
0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;b.wrap(d);(b[0]===e||a.contains(b[0],e))&&a(e).focus();d=b.parent();"static"==b.css("position")?
(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),
c):b},setTransition:function(b,c,d,e){e=e||{};a.each(c,function(a,c){unit=b.cssUnit(c);0<unit[0]&&(e[c]=unit[0]*d+unit[1])});return e}});a.fn.extend({effect:function(b,d,e,f){var g=c.apply(this,arguments),k={options:g[1],duration:g[2],callback:g[3]},g=k.options.mode,h=a.effects[b];return a.fx.off||!h?g?this[g](k.duration,k.callback):this.each(function(){k.callback&&k.callback.call(this)}):h.call(this,k)},_show:a.fn.show,show:function(a){if(b(a))return this._show.apply(this,arguments);var d=c.apply(this,
arguments);d[1].mode="show";return this.effect.apply(this,d)},_hide:a.fn.hide,hide:function(a){if(b(a))return this._hide.apply(this,arguments);var d=c.apply(this,arguments);d[1].mode="hide";return this.effect.apply(this,d)},__toggle:a.fn.toggle,toggle:function(d){if(b(d)||"boolean"==typeof d||a.isFunction(d))return this.__toggle.apply(this,arguments);var e=c.apply(this,arguments);e[1].mode="toggle";return this.effect.apply(this,e)},cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%",
"pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])});return d}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=
b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*
b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+c:d/
2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return 1>(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(0==b)return c;if(1==(b/=e))return c+d;f||(f=0.3*e);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return-(g*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/
f))+c},easeOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(0==b)return c;if(1==(b/=e))return c+d;f||(f=0.3*e);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return g*Math.pow(2,-10*b)*Math.sin(2*(b*e-a)*Math.PI/f)+d+c},easeInOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(0==b)return c;if(2==(b/=e/2))return c+d;f||(f=0.3*e*1.5);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return 1>b?-0.5*g*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/f)+c:g*Math.pow(2,-10*
(b-=1))*Math.sin(2*(b*e-a)*Math.PI/f)*0.5+d+c},easeInBack:function(a,b,c,d,e,f){f==h&&(f=1.70158);return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){f==h&&(f=1.70158);return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){f==h&&(f=1.70158);return 1>(b/=e/2)?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?
7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+0.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+0.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?0.5*a.easing.easeInBounce(b,2*c,0,e,f)+d:0.5*a.easing.easeOutBounce(b,2*c-f,0,e,f)+0.5*e+d}})}(jQuery);
(function(a,h){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],g=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d);c.show();var e=a.effects.createWrapper(c).css({overflow:"hidden"}),k="vertical"==f?"height":"width",f="vertical"==f?e.height():e.width();"show"==g&&e.css(k,0);var h={};h[k]="show"==g?f:0;e.animate(h,b.duration,b.options.easing,function(){"hide"==g&&c.hide();a.effects.restore(c,
d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);
(function(a,h){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],g=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",e=b.options.distance||20,k=b.options.times||5,h=b.duration||250;/show|hide/.test(g)&&d.push("opacity");a.effects.save(c,d);c.show();a.effects.createWrapper(c);var r="up"==f||"down"==f?"top":"left",f="up"==f||"left"==f?"pos":"neg",e=b.options.distance||("top"==r?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/
3);"show"==g&&c.css("opacity",0).css(r,"pos"==f?-e:e);"hide"==g&&(e/=2*k);"hide"!=g&&k--;if("show"==g){var p={opacity:1};p[r]=("pos"==f?"+=":"-=")+e;c.animate(p,h/2,b.options.easing);e/=2;k--}for(p=0;p<k;p++){var n={},s={};n[r]=("pos"==f?"-=":"+=")+e;s[r]=("pos"==f?"+=":"-=")+e;c.animate(n,h/2,b.options.easing).animate(s,h/2,b.options.easing);e="hide"==g?2*e:e/2}"hide"==g?(p={opacity:0},p[r]=("pos"==f?"-=":"+=")+e,c.animate(p,h/2,b.options.easing,function(){c.hide();a.effects.restore(c,d);a.effects.removeWrapper(c);
b.callback&&b.callback.apply(this,arguments)})):(n={},s={},n[r]=("pos"==f?"-=":"+=")+e,s[r]=("pos"==f?"+=":"-=")+e,c.animate(n,h/2,b.options.easing).animate(s,h/2,b.options.easing,function(){a.effects.restore(c,d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments)}));c.queue("fx",function(){c.dequeue()});c.dequeue()})}})(jQuery);
(function(a,h){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d="position top bottom left right height width".split(" "),g=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d);c.show();var e=a.effects.createWrapper(c).css({overflow:"hidden"}),e="IMG"==c[0].tagName?e:c,k="vertical"==f?"height":"width",h="vertical"==f?"top":"left",f="vertical"==f?e.height():e.width();"show"==g&&(e.css(k,0),e.css(h,f/2));var r={};r[k]="show"==g?f:0;
r[h]="show"==g?0:f/2;e.animate(r,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==g&&c.hide();a.effects.restore(c,d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()}})})}})(jQuery);
(function(a,h){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d="position top bottom left right opacity".split(" "),g=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d);c.show();a.effects.createWrapper(c);var e="up"==f||"down"==f?"top":"left",f="up"==f||"left"==f?"pos":"neg",k=b.options.distance||("top"==e?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);"show"==g&&c.css("opacity",0).css(e,"pos"==f?-k:k);var h={opacity:"show"==
g?1:0};h[e]=("show"==g?"pos"==f?"+=":"-=":"pos"==f?"-=":"+=")+k;c.animate(h,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==g&&c.hide();a.effects.restore(c,d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a,h){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode="toggle"==b.options.mode?a(this).is(":visible")?"hide":"show":b.options.mode;var g=a(this).show().css("visibility","hidden"),f=g.offset();f.top-=parseInt(g.css("marginTop"),10)||0;f.left-=parseInt(g.css("marginLeft"),10)||0;for(var e=g.outerWidth(!0),k=g.outerHeight(!0),h=0;h<c;h++)for(var r=
0;r<d;r++)g.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:e/d*-r,top:k/c*-h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:e/d,height:k/c,left:f.left+e/d*r+("show"==b.options.mode?e/d*(r-Math.floor(d/2)):0),top:f.top+k/c*h+("show"==b.options.mode?k/c*(h-Math.floor(c/2)):0),opacity:"show"==b.options.mode?0:1}).animate({left:f.left+e/d*r+("show"==b.options.mode?0:e/d*(r-Math.floor(d/2))),top:f.top+k/c*h+("show"==
b.options.mode?0:k/c*(h-Math.floor(c/2))),opacity:"show"==b.options.mode?1:0},b.duration||500);setTimeout(function(){"show"==b.options.mode?g.css({visibility:"visible"}):g.css({visibility:"visible"}).hide();b.callback&&b.callback.apply(g[0]);g.dequeue();a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);
(function(a,h){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a,h){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],g=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,e=!!b.options.horizFirst,k=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d);c.show();var h=a.effects.createWrapper(c).css({overflow:"hidden"}),r="show"==g!=e,p=r?["width","height"]:["height","width"],r=r?[h.width(),h.height()]:[h.height(),h.width()],n=/([0-9]+)%/.exec(f);n&&(f=parseInt(n[1],
10)/100*r["hide"==g?0:1]);"show"==g&&h.css(e?{height:0,width:f}:{height:f,width:0});e={};n={};e[p[0]]="show"==g?r[0]:f;n[p[1]]="show"==g?r[1]:0;h.animate(e,k,b.options.easing).animate(n,k,b.options.easing,function(){"hide"==g&&c.hide();a.effects.restore(c,d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);
(function(a,h){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"==g&&(f.opacity=0);a.effects.save(c,d);c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==g&&c.hide();a.effects.restore(c,d);"show"==g&&!a.support.opacity&&
this.style.removeAttribute("filter");b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a,h){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=2*(b.options.times||5)-1;duration=b.duration?b.duration/2:a.fx.speeds._default/2;isVisible=c.is(":visible");animateTo=0;isVisible||(c.css("opacity",0).show(),animateTo=1);("hide"==d&&isVisible||"show"==d&&!isVisible)&&times--;for(d=0;d<times;d++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,
b.options.easing,function(){0==animateTo&&c.hide();b.callback&&b.callback.apply(this,arguments)});c.queue("fx",function(){c.dequeue()}).dequeue()})}})(jQuery);
(function(a,h){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),g=parseInt(b.options.percent,10)||150,f=g/100,e={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:"hide"==d?g:100,from:"hide"==d?e:{height:e.height*f,width:e.width*f}});c.effect("scale",b.options,b.duration,b.callback);c.dequeue()})};a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),g=a.effects.setMode(c,
b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(0==parseInt(b.options.percent,10)?0:"hide"==g?0:100),e=b.options.direction||"both",k=b.options.origin;"effect"!=g&&(d.origin=k||["middle","center"],d.restore=!0);k={height:c.height(),width:c.width()};c.from=b.options.from||("show"==g?{height:0,width:0}:k);c.to={height:k.height*("horizontal"!=e?f/100:1),width:k.width*("vertical"!=e?f/100:1)};b.options.fade&&("show"==g&&(c.from.opacity=0,c.to.opacity=1),"hide"==g&&(c.from.opacity=1,c.to.opacity=
0));d.from=c.from;d.to=c.to;d.mode=g;c.effect("size",d,b.duration,b.callback);c.dequeue()})};a.effects.size=function(b){return this.queue(function(){var c=a(this),d="position top bottom left right width height overflow opacity".split(" "),g="position top bottom left right overflow opacity".split(" "),f=["width","height","overflow"],e=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=a.effects.setMode(c,
b.options.mode||"effect"),p=b.options.restore||!1,n=b.options.scale||"both",s=b.options.origin,q={height:c.height(),width:c.width()};c.from=b.options.from||q;c.to=b.options.to||q;s&&(s=a.effects.getBaseline(s,q),c.from.top=(q.height-c.from.height)*s.y,c.from.left=(q.width-c.from.width)*s.x,c.to.top=(q.height-c.to.height)*s.y,c.to.left=(q.width-c.to.width)*s.x);var u=c.from.height/q.height,w=c.from.width/q.width,A=c.to.height/q.height,z=c.to.width/q.width;if("box"==n||"both"==n)u!=A&&(d=d.concat(k),
c.from=a.effects.setTransition(c,k,u,c.from),c.to=a.effects.setTransition(c,k,A,c.to)),w!=z&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,w,c.from),c.to=a.effects.setTransition(c,h,z,c.to));("content"==n||"both"==n)&&u!=A&&(d=d.concat(e),c.from=a.effects.setTransition(c,e,u,c.from),c.to=a.effects.setTransition(c,e,A,c.to));a.effects.save(c,p?d:g);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);if("content"==n||"both"==n)k=k.concat(["marginTop","marginBottom"]).concat(e),
h=h.concat(["marginLeft","marginRight"]),f=d.concat(k).concat(h),c.find("*[width]").each(function(){child=a(this);p&&a.effects.save(child,f);var c=child.height(),d=child.width();child.from={height:c*u,width:d*w};child.to={height:c*A,width:d*z};u!=A&&(child.from=a.effects.setTransition(child,k,u,child.from),child.to=a.effects.setTransition(child,k,A,child.to));w!=z&&(child.from=a.effects.setTransition(child,h,w,child.from),child.to=a.effects.setTransition(child,h,z,child.to));child.css(child.from);
child.animate(child.to,b.duration,b.options.easing,function(){p&&a.effects.restore(child,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){0===c.to.opacity&&c.css("opacity",c.from.opacity);"hide"==r&&c.hide();a.effects.restore(c,p?d:g);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a,h){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"];a.effects.setMode(c,b.options.mode||"effect");var g=b.options.direction||"left",f=b.options.distance||20,e=b.options.times||3,k=b.duration||b.options.duration||140;a.effects.save(c,d);c.show();a.effects.createWrapper(c);var h="up"==g||"down"==g?"top":"left",r="up"==g||"left"==g?"pos":"neg",g={},p={},n={};g[h]=("pos"==r?"-=":"+=")+f;p[h]=("pos"==r?"+=":"-=")+2*f;n[h]=("pos"==
r?"-=":"+=")+2*f;c.animate(g,k,b.options.easing);for(f=1;f<e;f++)c.animate(p,k,b.options.easing).animate(n,k,b.options.easing);c.animate(p,k,b.options.easing).animate(g,k/2,b.options.easing,function(){a.effects.restore(c,d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments)});c.queue("fx",function(){c.dequeue()});c.dequeue()})}})(jQuery);
(function(a,h){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],g=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d);c.show();a.effects.createWrapper(c).css({overflow:"hidden"});var e="up"==f||"down"==f?"top":"left",f="up"==f||"left"==f?"pos":"neg",k=b.options.distance||("top"==e?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));"show"==g&&c.css(e,"pos"==f?isNaN(k)?"-"+k:-k:k);var h={};
h[e]=("show"==g?"pos"==f?"+=":"-=":"pos"==f?"-=":"+=")+k;c.animate(h,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==g&&c.hide();a.effects.restore(c,d);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a,h){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),g=d.offset(),d={top:g.top,left:g.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),f=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,b.duration,b.options.easing,function(){f.remove();b.callback&&b.callback.apply(c[0],arguments);
c.dequeue()})})}})(jQuery);window.elFinder=function(a,h){this.time("load");var b=this;a=$(a);var c=$("<div/>").append(a.contents()),d=a.attr("style"),g=a.attr("id")||"",f="elfinder-"+(g||Math.random().toString().substr(2,7)),e="mousedown."+f,k="keydown."+f,m="keypress."+f,r=!0,p=!0,n="",s={path:"",url:"",tmbUrl:"",disabled:[],separator:"/",archives:[],extract:[],copyOverwrite:!0,tmb:!1},q={},u=[],w={},A={},z=[],x=[],C=[],F=new b.command(b),B="auto",D=400,S=$(document.createElement("audio")).hide().appendTo("body")[0],Q,I=function(a){if(a.init)q=
{};else for(var c in q)q.hasOwnProperty(c)&&"directory"!=q[c].mime&&q[c].phash==n&&-1===$.inArray(c,x)&&delete q[c];n=a.cwd.hash;V(a.files);q[n]||V([a.cwd]);b.lastDir(n)},V=function(a){for(var b=a.length,c;b--;)c=a[b],c.name&&c.hash&&c.mime&&(q[c.hash]=c)},v=new Date;this.api=null;this.oldAPI=this.newAPI=!1;this.OS=-1!==navigator.userAgent.indexOf("Mac")?"mac":-1!==navigator.userAgent.indexOf("Win")?"win":"other";this.options=$.extend(!0,{},this._options,h||{});h.ui&&(this.options.ui=h.ui);h.commands&&
(this.options.commands=h.commands);h.uiOptions&&h.uiOptions.toolbar&&(this.options.uiOptions.toolbar=h.uiOptions.toolbar);$.extend(this.options.contextmenu,h.contextmenu);this.requestType=/^(get|post)$/i.test(this.options.requestType)?this.options.requestType.toLowerCase():"get";this.customData=$.isPlainObject(this.options.customData)?this.options.customData:{};this.id=g;this.uploadURL=h.urlUpload||h.url;this.namespace=f;this.lang=this.i18[this.options.lang]&&this.i18[this.options.lang].messages?
this.options.lang:"en";g="en"==this.lang?this.i18.en:$.extend(!0,{},this.i18.en,this.i18[this.lang]);this.direction=g.direction;this.messages=g.messages;this.dateFormat=this.options.dateFormat||g.dateFormat;this.fancyFormat=this.options.fancyDateFormat||g.fancyDateFormat;this.today=(new Date(v.getFullYear(),v.getMonth(),v.getDate())).getTime()/1E3;this.yesterday=this.today-86400;v=this.options.UTCDate?"UTC":"";this.getHours="get"+v+"Hours";this.getMinutes="get"+v+"Minutes";this.getSeconds="get"+v+
"Seconds";this.getDate="get"+v+"Date";this.getDay="get"+v+"Day";this.getMonth="get"+v+"Month";this.getFullYear="get"+v+"FullYear";this.cssClass="ui-helper-reset ui-helper-clearfix ui-widget ui-widget-content ui-corner-all elfinder elfinder-"+("rtl"==this.direction?"rtl":"ltr")+" "+this.options.cssClass;var X;try{X="localStorage"in window&&null!==window.localStorage?b.localStorage:b.cookie}catch(M){X=b.cookie}this.storage=X;this.notifyDelay=0<this.options.notifyDelay?parseInt(this.options.notifyDelay):
500;this.draggable={appendTo:"body",addClasses:!0,delay:30,revert:!0,refreshPositions:!0,cursor:"move",cursorAt:{left:50,top:47},drag:function(a,b){b.helper.toggleClass("elfinder-drag-helper-plus",a.shiftKey||a.ctrlKey||a.metaKey)},stop:function(){b.trigger("focus").trigger("dragstop")},helper:function(a,c){var d=this.id?$(this):$(this).parents("[id]:first"),e=$('<div class="elfinder-drag-helper"><span class="elfinder-drag-helper-icon-plus"/></div>'),f=function(a){return'<div class="elfinder-cwd-icon '+
b.mime2class(a)+' ui-corner-all"/>'},g;b.trigger("dragstart",{target:d[0],originalEvent:a});d=d.is("."+b.res("class","cwdfile"))?b.selected():[b.navId2Hash(d.attr("id"))];e.append(f(q[d[0]].mime)).data("files",d);1<(g=d.length)&&e.append(f(q[d[g-1]].mime)+'<span class="elfinder-drag-num">'+g+"</span>");return e}};this.droppable={tolerance:"pointer",accept:".elfinder-cwd-file-wrapper,.elfinder-navbar-dir,.elfinder-cwd-file",hoverClass:this.res("class","adroppable"),drop:function(a,c){var d=$(this),
e=$.map(c.helper.data("files")||[],function(a){return a||null}),f=[],g,k;d.is("."+b.res("class","cwd"))?g=n:d.is("."+b.res("class","cwdfile"))?g=d.attr("id"):d.is("."+b.res("class","navdir"))&&(g=b.navId2Hash(d.attr("id")));for(d=e.length;d--;)k=e[d],k!=g&&q[k].phash!=g&&f.push(k);f.length&&(c.helper.hide(),b.clipboard(f,!(a.ctrlKey||a.shiftKey||a.metaKey)),b.exec("paste",g).always(function(){b.clipboard([])}),b.trigger("drop",{files:e}))}};this.enabled=function(){return a.is(":visible")&&r};this.visible=
function(){return a.is(":visible")};this.root=function(a){for(a=q[a||n];a&&a.phash;)a=q[a.phash];if(a)return a.hash;for(;void 0 in q&&q.hasOwnProperty(void 0);)if(a=q[void 0],!a.phash&&"directory"==!a.mime&&a.read)return a.hash;return""};this.cwd=function(){return q[n]||{}};this.option=function(a){return s[a]||""};this.file=function(a){return q[a]};this.files=function(){return $.extend(!0,{},q)};this.parents=function(a){for(var b=[];a=this.file(a);)b.unshift(a.hash),a=a.phash;return b};this.path2array=
function(a){for(var b,c=[];a&&(b=q[a])&&b.hash;)c.unshift(b.name),a=b.phash;return c};this.path=function(a){return q[a]&&q[a].path?q[a].path:this.path2array(a).join(s.separator)};this.url=function(a){var b=q[a];if(!b||!b.read)return"";if(b.url)return b.url;if(s.url)return s.url+$.map(this.path2array(a),function(a){return encodeURIComponent(a)}).slice(1).join("/");a=$.extend({},this.customData,{cmd:"file",target:b.hash});this.oldAPI&&(a.cmd="open",a.current=b.phash);return this.options.url+(-1===this.options.url.indexOf("?")?
"?":"&")+$.param(a,!0)};this.tmb=function(a){(a=(a=q[a])&&a.tmb&&1!=a.tmb?s.tmbUrl+a.tmb:"")&&($.browser.opera||$.browser.msie)&&(a+="?_="+(new Date).getTime());return a};this.selected=function(){return u.slice(0)};this.selectedFiles=function(){return $.map(u,function(a){return q[a]||null})};this.fileByName=function(a,b){for(var c in q)if(q.hasOwnProperty(c)&&q[c].phash==b&&q[c].name==a)return q[c]};this.validResponse=function(a,b){return b.error||this.rules[this.rules[a]?a:"defaults"](b)};this.request=
function(a){var b=this,c=this.options,d=$.Deferred(),e=$.extend({},c.customData,{mimes:c.onlyMimes},a.data||a),f=e.cmd,g=!(a.preventDefault||a.preventFail),k=!(a.preventDefault||a.preventDone),h=$.extend({},a.notify),m=!!a.raw,n=a.syncOnFail,p;a=$.extend({url:c.url,async:!0,type:this.requestType,dataType:"json",cache:!1,data:e},a.options||{});var c=function(a){a.warning&&b.error(a.warning);"open"==f&&I($.extend(!0,{},a));a.removed&&a.removed.length&&b.remove(a);a.added&&a.added.length&&b.add(a);a.changed&&
a.changed.length&&b.change(a);b.trigger(f,a);a.sync&&b.sync()},q;k&&d.done(c);d.fail(function(a){a&&(g?b.error(a):b.debug("error",b.i18n(a)))});if(!f)return d.reject("errCmdReq");n&&d.fail(function(a){a&&b.sync()});h.type&&h.cnt&&(p=setTimeout(function(){b.notify(h);d.always(function(){h.cnt=-(parseInt(h.cnt)||0);b.notify(h)})},b.notifyDelay),d.always(function(){clearTimeout(p)}));if("open"==f)for(;k=C.pop();)k.isRejected()||k.isResolved()||(k.quiet=!0,k.abort());delete a.preventFail;q=this.transport.send(a).fail(function(a,
b){var c;switch(b){case "abort":c=a.quiet?"":["errConnect","errAbort"];break;case "timeout":c=["errConnect","errTimeout"];break;case "parsererror":c=["errResponse","errDataNotJSON"];break;default:c=403==a.status?["errConnect","errAccess"]:404==a.status?["errConnect","errNotFound"]:"errConnect"}d.reject(c,a,b)}).done(function(a){if(m)return d.resolve(a);if(a)if($.isPlainObject(a)){if(a.error)return d.reject(a.error,q);if(!b.validResponse(f,a))return d.reject("errResponse",q)}else return d.reject(["errResponse",
"errDataNotJSON"],q);else return d.reject(["errResponse","errDataEmpty"],q);a=b.normalize(a);b.api||(b.api=a.api||1,b.newAPI=2<=b.api,b.oldAPI=!b.newAPI);a.options&&(s=$.extend({},s,a.options));d.resolve(a);a.debug&&b.debug("backend-debug",a.debug)});"open"==f&&(C.unshift(q),d.always(function(){var a=$.inArray(q,C);-1!==a&&C.splice(a,1)}));return d};this.diff=function(a){var b={},c=[],d=[],e=[];$.each(a,function(a,c){b[c.hash]=c});$.each(q,function(a,c){!b[a]&&d.push(a)});$.each(b,function(a,b){var d=
q[a];d?$.each(b,function(a){if(b[a]!=d[a])return e.push(b),!1}):c.push(b)});$.each(d,function(a,c){var f=q[c],g=f.phash,l;if(l=g){if(f="directory"==f.mime)if(f=-1===$.inArray(g,d))if(f=b[g]){a:{for(f=e.length;f--;)if(e[f].hash==g){f=!0;break a}f=void 0}f=!f}l=f}l&&e.push(b[g])});return{added:c,removed:d,changed:e}};this.sync=function(){var a=this,b=$.Deferred().done(function(){a.trigger("sync")}),c={data:{cmd:"parents",target:n},preventDefault:!0};$.when(this.request({data:{cmd:"open",init:1,target:n,
tree:this.ui.tree?1:0},preventDefault:!0}),this.request(c)).fail(function(c){b.reject(c);c&&a.request({data:{cmd:"open",target:a.lastDir(""),tree:1,init:1},notify:{type:"open",cnt:1,hideCnt:!0}})}).done(function(c,d){var e=a.diff(c.files.concat(d&&d.tree?d.tree:[]));e.removed.length&&a.remove(e);e.added.length&&a.add(e);e.changed.length&&a.change(e);return b.resolve(e)});return b};this.upload=function(a){return this.transport.upload(a,this)};this.bind=function(a,b){var c;if("function"==typeof b)for(a=
(""+a).toLowerCase().split(/\s+/),c=0;c<a.length;c++)void 0===w[a[c]]&&(w[a[c]]=[]),w[a[c]].push(b);return this};this.unbind=function(a,b){var c=w[(""+a).toLowerCase()]||[],d=c.indexOf(b);-1<d&&c.splice(d,1);return this};this.trigger=function(a,b){a=a.toLowerCase();var c=w[a]||[],d;this.debug("event-"+a,b);if(c.length)for(a=$.Event(a),d=0;d<c.length;d++){a.data=$.extend(!0,{},b);try{if(!1===c[d](a,this)||a.isDefaultPrevented()){this.debug("event-stoped",a.type);break}}catch(e){window.console&&window.console.log&&
window.console.log(e)}}return this};this.shortcut=function(a){var b,c,d,e,f;if(this.options.allowShortcuts&&a.pattern&&$.isFunction(a.callback))for(b=a.pattern.toUpperCase().split(/\s+/),e=0;e<b.length;e++)c=b[e],f=c.split("+"),(d=1==(d=f.pop()).length?0<d?d:d.charCodeAt(0):$.ui.keyCode[d])&&!A[c]&&(A[c]={keyCode:d,altKey:-1!=$.inArray("ALT",f),ctrlKey:-1!=$.inArray("CTRL",f),shiftKey:-1!=$.inArray("SHIFT",f),type:a.type||"keydown",callback:a.callback,description:a.description,pattern:c});return this};
this.shortcuts=function(){var a=[];$.each(A,function(c,d){a.push([d.pattern,b.i18n(d.description)])});return a};this.clipboard=function(a,b){var c=function(){return $.map(z,function(a){return a.hash})};void 0!==a&&(z.length&&this.trigger("unlockfiles",{files:c()}),x=[],z=$.map(a||[],function(a){var c=q[a];return c?(x.push(a),{hash:a,phash:c.phash,name:c.name,mime:c.mime,read:c.read,locked:c.locked,cut:!!b}):null}),this.trigger("changeclipboard",{clipboard:z.slice(0,z.length)}),b&&this.trigger("lockfiles",
{files:c()}));return z.slice(0,z.length)};this.isCommandEnabled=function(a){return this._commands[a]?-1===$.inArray(a,s.disabled):!1};this.exec=function(a,b,c){return this._commands[a]&&this.isCommandEnabled(a)?this._commands[a].exec(b,c):$.Deferred().reject("No such command")};this.dialog=function(b,c){return $("<div/>").append(b).appendTo(a).elfinderdialog(c)};this.getUI=function(b){return this.ui[b]||a};this.command=function(a){return void 0===a?this._commands:this._commands[a]};this.resize=function(b,
c){a.css("width",b).height(c).trigger("resize");this.trigger("resize",{width:a.width(),height:a.height()})};this.restoreSize=function(){this.resize(B,D)};this.show=function(){a.show();this.enable().trigger("show")};this.hide=function(){this.disable().trigger("hide");a.hide()};this.destroy=function(){a&&a[0].elfinder&&(this.trigger("destroy").disable(),w={},A={},$(document).add(a).unbind("."+this.namespace),b.trigger=function(){},a.children().remove(),a.append(c.contents()).removeClass(this.cssClass).attr("style",
d),a[0].elfinder=null,Q&&clearInterval(Q))};this.setSort(this.options.sort,this.options.sortDirect);if(!($.fn.selectable&&$.fn.draggable&&$.fn.droppable))return alert(this.i18n("errJqui"));if(!a.length)return alert(this.i18n("errNode"));if(!this.options.url)return alert(this.i18n("errURL"));$.extend($.ui.keyCode,{F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120});this.dragUpload=!1;this.xhrUpload="undefined"!=typeof XMLHttpRequestUpload&&"undefined"!=typeof File&&"undefined"!=typeof FormData;
this.transport={};"object"==typeof this.options.transport&&(this.transport=this.options.transport,"function"==typeof this.transport.init&&this.transport.init(this));"function"!=typeof this.transport.send&&(this.transport.send=function(a){return $.ajax(a)});"iframe"==this.transport.upload?this.transport.upload=$.proxy(this.uploads.iframe,this):"function"==typeof this.transport.upload?this.dragUpload=!!this.options.dragUploadAllow:this.xhrUpload?(this.transport.upload=$.proxy(this.uploads.xhr,this),
this.dragUpload=!0):this.transport.upload=$.proxy(this.uploads.iframe,this);this.error=function(){var a=arguments[0];return 1==arguments.length&&"function"==typeof a?b.bind("error",a):b.trigger("error",{error:a})};$.each("enable disable load open reload select add remove change dblclick getfile lockfiles unlockfiles dragstart dragstop search searchend viewchange".split(" "),function(a,c){b[c]=function(){var a=arguments[0];return 1==arguments.length&&"function"==typeof a?b.bind(c,a):b.trigger(c,$.isPlainObject(a)?
a:{})}});this.enable(function(){!r&&b.visible()&&b.ui.overlay.is(":hidden")&&(r=!0,$("texarea:focus,input:focus,button").blur(),a.removeClass("elfinder-disabled"))}).disable(function(){p=r;r=!1;a.addClass("elfinder-disabled")}).open(function(){u=[]}).select(function(a){u=$.map(a.data.selected||a.data.value||[],function(a){return q[a]?a:null})}).error(function(a){var c={cssClass:"elfinder-dialog-error",title:b.i18n(b.i18n("error")),resizable:!1,destroyOnClose:!0,buttons:{}};c.buttons[b.i18n(b.i18n("btnClose"))]=
function(){$(this).elfinderdialog("close")};b.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-error"/>'+b.i18n(a.data.error),c)}).bind("tree parents",function(a){V(a.data.tree||[])}).bind("tmb",function(a){$.each(a.data.images||[],function(a,b){q[a]&&(q[a].tmb=b)})}).add(function(a){V(a.data.added||[])}).change(function(a){$.each(a.data.changed||[],function(a,b){var c=b.hash;q[c]=q[c]?$.extend(q[c],b):b})}).remove(function(a){a=a.data.removed||[];for(var b=a.length,c=function(a){var b=
q[a];b&&("directory"==b.mime&&b.dirs&&$.each(q,function(b,d){d.phash==a&&c(b)}),delete q[a])};b--;)c(a[b])}).bind("search",function(a){V(a.data.files)}).bind("rm",function(a){(a=S.canPlayType&&S.canPlayType('audio/wav; codecs="1"'))&&""!=a&&"no"!=a&&$(S).html('<source src="/static/plugin/elfinder_2_0_rc1/sounds/rm.wav" type="audio/wav">')[0].play()});$.each(this.options.handlers,function(a,c){b.bind(a,c)});this.history=new this.history(this);"function"==typeof this.options.getFileCallback&&this.commands.getfile&&(this.bind("dblclick",
function(a){a.preventDefault();b.exec("getfile").fail(function(){b.exec("open")})}),this.shortcut({pattern:"enter",description:this.i18n("cmdgetfile"),callback:function(){b.exec("getfile").fail(function(){b.exec("mac"==b.OS?"rename":"open")})}}).shortcut({pattern:"ctrl+enter",description:this.i18n("mac"==this.OS?"cmdrename":"cmdopen"),callback:function(){b.exec("mac"==b.OS?"rename":"open")}}));this._commands={};$.isArray(this.options.commands)||(this.options.commands=[]);$.each("open reload back forward up home info quicklook getfile help".split(" "),
function(a,c){-1===$.inArray(c,b.options.commands)&&b.options.commands.push(c)});$.each(this.options.commands,function(a,c){var d=b.commands[c];$.isFunction(d)&&!b._commands[c]&&(d.prototype=F,b._commands[c]=new d,b._commands[c].setup(c,b.options.commandsOptions[c]||{}))});a.addClass(this.cssClass).bind(e,function(){!r&&b.enable()});this.ui={workzone:$("<div/>").appendTo(a).elfinderworkzone(this),navbar:$("<div/>").appendTo(a).elfindernavbar(this,this.options.uiOptions.navbar||{}),contextmenu:$("<div/>").appendTo(a).elfindercontextmenu(this),
overlay:$("<div/>").appendTo(a).elfinderoverlay({show:function(){b.disable()},hide:function(){p&&b.enable()}}),cwd:$("<div/>").appendTo(a).elfindercwd(this),notify:this.dialog("",{cssClass:"elfinder-dialog-notify",position:{top:"12px",right:"12px"},resizable:!1,autoOpen:!1,title:"&nbsp;",width:280}),statusbar:$('<div class="ui-widget-header ui-helper-clearfix ui-corner-bottom elfinder-statusbar"/>').hide().appendTo(a)};$.each(this.options.ui||[],function(c,d){var e="elfinder"+d,f=b.options.uiOptions[d]||
{};!b.ui[d]&&$.fn[e]&&(b.ui[d]=$("<"+(f.tag||"div")+"/>").appendTo(a)[e](b,f))});a[0].elfinder=this;this.options.resizable&&$.fn.resizable&&a.resizable({handles:"se",minWidth:300,minHeight:200});this.options.width&&(B=this.options.width);this.options.height&&(D=parseInt(this.options.height));b.resize(B,D);$(document).bind("click."+this.namespace,function(c){r&&!$(c.target).closest(a).length&&b.disable()}).bind(k+" "+m,function(a){var c=a.keyCode,d=!(!a.ctrlKey&&!a.metaKey);r&&($.each(A,function(e,
f){f.type==a.type&&f.keyCode==c&&f.shiftKey==a.shiftKey&&f.ctrlKey==d&&f.altKey==a.altKey&&(a.preventDefault(),a.stopPropagation(),f.callback(a,b),b.debug("shortcut-exec",e+" : "+f.description))}),9==c&&a.preventDefault())});this.trigger("init").request({data:{cmd:"open",target:b.lastDir(),init:1,tree:this.ui.tree?1:0},preventDone:!0,notify:{type:"open",cnt:1,hideCnt:!0},freeze:!0}).fail(function(){b.trigger("fail").disable().lastDir("");w={};A={};$(document).add(a).unbind("."+this.namespace);b.trigger=
function(){}}).done(function(a){b.load().debug("api",b.api);a=$.extend(!0,{},a);I(a);b.trigger("open",a)});this.one("load",function(){a.trigger("resize");1E3<b.options.sync&&(Q=setInterval(function(){b.sync()},b.options.sync))})};
elFinder.prototype={res:function(a,h){return this.resources[a]&&this.resources[a][h]},i18:{en:{translator:"",language:"English",direction:"ltr",dateFormat:"d.m.Y H:i",fancyDateFormat:"$1 H:i",messages:{}},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},
kinds:{unknown:"Unknown",directory:"Folder",symlink:"Alias","symlink-broken":"AliasBroken","application/x-empty":"TextPlain","application/postscript":"Postscript","application/vnd.ms-office":"MsOffice","application/vnd.ms-word":"MsWord","application/vnd.ms-excel":"MsExcel","application/vnd.ms-powerpoint":"MsPP","application/pdf":"PDF","application/xml":"XML","application/vnd.oasis.opendocument.text":"OO","application/x-shockwave-flash":"AppFlash","application/flash-video":"Flash video","application/x-bittorrent":"Torrent",
"application/javascript":"JS","application/rtf":"RTF","application/rtfd":"RTF","application/x-font-ttf":"TTF","application/x-font-otf":"OTF","application/x-rpm":"RPM","application/x-web-config":"TextPlain","application/xhtml+xml":"HTML","application/docbook+xml":"DOCBOOK","application/x-awk":"AWK","application/x-gzip":"GZIP","application/x-bzip2":"BZIP","application/zip":"ZIP","application/x-zip":"ZIP","application/x-rar":"RAR","application/x-tar":"TAR","application/x-7z-compressed":"7z","application/x-jar":"JAR",
"text/plain":"TextPlain","text/x-php":"PHP","text/html":"HTML","text/javascript":"JS","text/css":"CSS","text/rtf":"RTF","text/rtfd":"RTF","text/x-c":"C","text/x-csrc":"C","text/x-chdr":"CHeader","text/x-c++":"CPP","text/x-c++src":"CPP","text/x-c++hdr":"CPPHeader","text/x-shellscript":"Shell","application/x-csh":"Shell","text/x-python":"Python","text/x-java":"Java","text/x-java-source":"Java","text/x-ruby":"Ruby","text/x-perl":"Perl","text/x-sql":"SQL","text/xml":"XML","text/x-comma-separated-values":"CSV",
"image/x-ms-bmp":"BMP","image/jpeg":"JPEG","image/gif":"GIF","image/png":"PNG","image/tiff":"TIFF","image/x-targa":"TGA","image/vnd.adobe.photoshop":"PSD","image/xbm":"XBITMAP","image/pxm":"PXM","audio/mpeg":"AudioMPEG","audio/midi":"AudioMIDI","audio/ogg":"AudioOGG","audio/mp4":"AudioMPEG4","audio/x-m4a":"AudioMPEG4","audio/wav":"AudioWAV","audio/x-mp3-playlist":"AudioPlaylist","video/x-dv":"VideoDV","video/mp4":"VideoMPEG4","video/mpeg":"VideoMPEG","video/x-msvideo":"VideoAVI","video/quicktime":"VideoMOV",
"video/x-ms-wmv":"VideoWM","video/x-flv":"VideoFlash","video/x-matroska":"VideoMKV","video/ogg":"VideoOGG"},rules:{defaults:function(a){return!a||a.added&&!$.isArray(a.added)||a.removed&&!$.isArray(a.removed)||a.changed&&!$.isArray(a.changed)?!1:!0},open:function(a){return a&&a.cwd&&a.files&&$.isPlainObject(a.cwd)&&$.isArray(a.files)},tree:function(a){return a&&a.tree&&$.isArray(a.tree)},parents:function(a){return a&&a.tree&&$.isArray(a.tree)},tmb:function(a){return a&&a.images&&($.isPlainObject(a.images)||
$.isArray(a.images))},upload:function(a){return a&&($.isPlainObject(a.added)||$.isArray(a.added))},search:function(a){return a&&a.files&&$.isArray(a.files)}},sorts:{nameDirsFirst:1,kindDirsFirst:2,sizeDirsFirst:3,dateDirsFirst:4,name:5,kind:6,size:7,date:8},setSort:function(a,h){this.sort=this.sorts[a]||1;this.sortDirect="asc"==h||"desc"==h?h:"asc";this.trigger("sortchange")},commands:{},parseUploadData:function(a){var h;if(!$.trim(a))return{error:["errResponse","errDataEmpty"]};try{h=$.parseJSON(a)}catch(b){return{error:["errResponse",
"errDataNotJSON"]}}if(!this.validResponse("upload",h))return{error:["errResponse"]};h=this.normalize(h);h.removed=$.map(h.added||[],function(a){return a.hash});return h},iframeCnt:0,uploads:{iframe:function(a,h){var b=h?h:this,c=a.input,d=$.Deferred().fail(function(a){a&&b.error(a)}).done(function(a){a.warning&&b.error(a.warning);a.removed&&b.remove(a);a.added&&b.add(a);a.changed&&b.change(a);b.trigger("upload",a);a.sync&&b.sync()}),g="iframe-"+b.namespace+ ++b.iframeCnt,f=$('<form action="'+b.uploadURL+
'" method="post" enctype="multipart/form-data" encoding="multipart/form-data" target="'+g+'" style="display:none"><input type="hidden" name="cmd" value="upload" /></form>'),e=$.browser.msie,k=function(){s&&clearTimeout(s);n&&clearTimeout(n);p&&b.notify({type:"upload",cnt:-r});setTimeout(function(){e&&$('<iframe src="javascript:false;"/>').appendTo(f);f.remove();m.remove()},100)},m=$('<iframe src="'+(e?"javascript:false;":"about:blank")+'" name="'+g+'" style="position:absolute;left:-1000px;top:-1000px" />').bind("load",
function(){m.unbind("load").bind("load",function(){var a=b.parseUploadData(m.contents().text());k();a.error?d.reject(a.error):d.resolve(a)});n=setTimeout(function(){p=!0;b.notify({type:"upload",cnt:r})},b.options.notifyDelay);0<b.options.iframeTimeout&&(s=setTimeout(function(){k();d.reject([errors.connect,errors.timeout])},b.options.iframeTimeout));f.submit()}),r,p,n,s;if(c&&$(c).is(":file")&&$(c).val())f.append(c);else return d.reject();r=c.files?c.files.length:1;f.append('<input type="hidden" name="'+
(b.newAPI?"target":"current")+'" value="'+b.cwd().hash+'"/>').append('<input type="hidden" name="html" value="1"/>').append($(c).attr("name","upload[]"));$.each(b.options.onlyMimes||[],function(a,b){f.append('<input type="hidden" name="mimes[]" value="'+b+'"/>')});$.each(b.options.customData,function(a,b){f.append('<input type="hidden" name="'+a+'" value="'+b+'"/>')});f.appendTo("body");m.appendTo("body");return d},xhr:function(a,h){var b=h?h:this,c=$.Deferred().fail(function(a){a&&b.error(a)}).done(function(a){a.warning&&
b.error(a.warning);a.removed&&b.remove(a);a.added&&b.add(a);a.changed&&b.change(a);b.trigger("upload",a);a.sync&&b.sync()}).always(function(){p&&clearTimeout(p);m&&b.notify({type:"upload",cnt:-e,progress:100*e})}),d=new XMLHttpRequest,g=new FormData,f=a.input?a.input.files:a.files,e=f.length,k=5,m=!1,r=function(){return setTimeout(function(){m=!0;b.notify({type:"upload",cnt:e,progress:k*e})},b.options.notifyDelay)},p;if(!e)return c.reject();d.addEventListener("error",function(){c.reject("errConnect")},
!1);d.addEventListener("abort",function(){c.reject(["errConnect","errAbort"])},!1);d.addEventListener("load",function(){var a=d.status;if(500<a)return c.reject("errResponse");if(200!=a)return c.reject("errConnect");if(4!=d.readyState)return c.reject(["errConnect","errTimeout"]);if(!d.responseText)return c.reject(["errResponse","errDataEmpty"]);a=b.parseUploadData(d.responseText);a.error?c.reject(a.error):c.resolve(a)},!1);d.upload.addEventListener("progress",function(a){var c=k;a.lengthComputable&&
(a=parseInt(100*a.loaded/a.total),0<a&&!p&&(p=r()),4<a-c&&(k=a,m&&b.notify({type:"upload",cnt:0,progress:(k-c)*e})))},!1);d.open("POST",b.uploadURL,!0);g.append("cmd","upload");g.append(b.newAPI?"target":"current",b.cwd().hash);$.each(b.options.customData,function(a,b){g.append(a,b)});$.each(b.options.onlyMimes,function(a,b){g.append("mimes["+a+"]",b)});$.each(f,function(a,b){g.append("upload[]",b)});d.onreadystatechange=function(){4==d.readyState&&0==d.status&&c.reject(["errConnect","errAbort"])};
d.send(g);$.browser.safari&&a.files||(p=r());return c}},one:function(a,h){var b=this,c=$.proxy(h,function(a){setTimeout(function(){b.unbind(a.type,c)},3);return h.apply(this,arguments)});return this.bind(a,c)},localStorage:function(a,h){var b=window.localStorage;a="elfinder-"+a+this.id;void 0!==h&&b.setItem(a,h);return b.getItem(a)||""},cookie:function(a,h){var b,c;a="elfinder-"+a+this.id;if(void 0===h){if(document.cookie&&""!=document.cookie)for(b=document.cookie.split(";"),a+="=",c=0;c<b.length;c++)if(b[c]=
$.trim(b[c]),b[c].substring(0,a.length)==a)return decodeURIComponent(b[c].substring(a.length));return""}c=$.extend({},this.options.cookie);null===h&&(h="",c.expires=-1);"number"==typeof c.expires&&(b=new Date,b.setTime(b.getTime()+864E5*c.expires),c.expires=b);document.cookie=a+"="+encodeURIComponent(h)+"; expires="+c.expires.toUTCString()+(c.path?"; path="+c.path:"")+(c.domain?"; domain="+c.domain:"")+(c.secure?"; secure":"");return h},lastDir:function(a){return this.options.rememberLastDir?this.storage("lastdir",
a):""},_node:$("<span/>"),escape:function(a){return this._node.text(a).html()},normalize:function(a){var h=function(a){return a&&a.hash&&a.name&&a.mime?("application/x-empty"==a.mime&&(a.mime="text/plain"),a):null};a.files&&(a.files=$.map(a.files,h));a.tree&&(a.tree=$.map(a.tree,h));a.added&&(a.added=$.map(a.added,h));a.changed&&(a.changed=$.map(a.changed,h));a.api&&(a.init=!0);return a},compare:function(a,h){var b=this.sort,c="asc"==this.sortDirect,d=c?a:h,c=c?h:a,g=this.mime2kind(d.mime).toLowerCase(),
f=this.mime2kind(c.mime).toLowerCase(),e="directory"==a.mime,k="directory"==h.mime;d.name.toLowerCase();c.name.toLowerCase();var m=e?0:parseInt(d.size)||0,r=k?0:parseInt(c.size)||0,p=d.ts||d.date||"",n=c.ts||c.date||"";if(4>=b){if(e&&!k)return-1;if(!e&&k)return 1}return 2!=b&&6!=b||g==f?3!=b&&7!=b||m==r?4!=b&&8!=b||p==n?d.name.localeCompare(c.name):p>n?1:-1:m>r?1:-1:g.localeCompare(f)},sortFiles:function(a){return a.sort($.proxy(this.compare,this))},notify:function(a){var h=a.type,b=this.messages["ntf"+
h]?this.i18n("ntf"+h):this.i18n("ntfsmth"),c=this.ui.notify,d=c.children(".elfinder-notify-"+h),g=a.cnt,f=0<=a.progress&&100>=a.progress?a.progress:0,e;if(!h)return this;d.length||(d=$('<div class="elfinder-notify elfinder-notify-{type}"><span class="elfinder-dialog-icon elfinder-dialog-icon-{type}"/><span class="elfinder-notify-msg">{msg}</span> <span class="elfinder-notify-cnt"/><div class="elfinder-notify-progressbar"><div class="elfinder-notify-progress"/></div></div>'.replace(/\{type\}/g,h).replace(/\{msg\}/g,
b)).appendTo(c).data("cnt",0),f&&d.data({progress:0,total:0}));h=g+parseInt(d.data("cnt"));0<h?(!a.hideCnt&&d.children(".elfinder-notify-cnt").text("("+h+")"),c.is(":hidden")&&c.elfinderdialog("open"),d.data("cnt",h),100>f&&0<=d.data("total")&&0<=(e=d.data("progress"))&&(a=g+parseInt(d.data("total")),e=f+e,f=parseInt(e/a),d.data({progress:e,total:a}),c.find(".elfinder-notify-progress").animate({width:(100>f?f:100)+"%"},20))):(d.remove(),!c.children().length&&c.elfinderdialog("close"));return this},
confirm:function(a){var h=!1,b={cssClass:"elfinder-dialog-confirm",modal:!0,resizable:!1,title:this.i18n(a.title||"confirmReq"),buttons:{},close:function(){!h&&a.cancel.callback();$(this).elfinderdialog("destroy")}},c=this.i18n("apllyAll"),d;a.reject&&(b.buttons[this.i18n(a.reject.label)]=function(){a.reject.callback(!(!d||!d.prop("checked")));h=!0;$(this).elfinderdialog("close")});b.buttons[this.i18n(a.accept.label)]=function(){a.accept.callback(!(!d||!d.prop("checked")));h=!0;$(this).elfinderdialog("close")};
b.buttons[this.i18n(a.cancel.label)]=function(){$(this).elfinderdialog("close")};a.all&&(a.reject&&(b.width=370),b.create=function(){d=$('<input type="checkbox" />');$(this).next().children().before($("<label>"+c+"</label>").prepend(d))},b.open=function(){var a=$(this).next(),b=parseInt(a.children(":first").outerWidth()+a.children(":last").outerWidth());b>parseInt(a.width())&&$(this).closest(".elfinder-dialog").width(b+30)});return this.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-confirm"/>'+
this.i18n(a.text),b)},uniqueName:function(a,h){var b=0,c="",d;a=this.i18n(a);h=h||this.cwd().hash;-1!=(d=a.indexOf(".txt"))&&(c=".txt",a=a.substr(0,d));d=a+c;if(!this.fileByName(d,h))return d;for(;1E4>b;)if(d=a+" "+ ++b+c,!this.fileByName(d,h))return d;return a+Math.random()+c},i18n:function(){var a=this,h=this.messages,b=[],c=[],d=function(b){var c;return 0===b.indexOf("#")&&(c=a.file(b.substr(1)))?c.name:b},g,f,e;for(g=0;g<arguments.length;g++)if(e=arguments[g],"string"==typeof e)b.push(d(e));else if($.isArray(e))for(f=
0;f<e.length;f++)"string"==typeof e[f]&&b.push(d(e[f]));for(g=0;g<b.length;g++)-1===$.inArray(g,c)&&(e=b[g],e=h[e]||e,e=e.replace(/\$(\d+)/g,function(a,d){d=g+parseInt(d);0<d&&b[d]&&c.push(d);return b[d]||""}),b[g]=e);return $.map(b,function(a,b){return-1===$.inArray(b,c)?a:null}).join("<br>")},mime2class:function(a){a=a.split("/");return"elfinder-cwd-icon-"+a[0]+("image"!=a[0]&&a[1]?" elfinder-cwd-icon-"+a[1].replace(/(\.|\+)/g,"-"):"")},mime2kind:function(a){var h="object"==typeof a?a.mime:a;a=
a.alias?"Alias":this.kinds[h]?this.kinds[h]:0===h.indexOf("text")?"Text":0===h.indexOf("image")?"Image":0===h.indexOf("audio")?"Audio":0===h.indexOf("video")?"Video":0===h.indexOf("application")?"App":h;return this.messages["kind"+a]?this.i18n("kind"+a):h},formatDate:function(a,h){var b=this;h=h||a.ts;var c=b.i18,d,g,f,e,k,m,r,p,n;return b.options.clientFormatDate&&0<h?(d=new Date(1E3*h),m=d[b.getHours](),r=12<m?m-12:m,p=d[b.getMinutes](),n=d[b.getSeconds](),g=d[b.getDate](),f=d[b.getDay](),e=d[b.getMonth]()+
1,k=d[b.getFullYear](),d=h>=this.yesterday?this.fancyFormat:this.dateFormat,d=d.replace(/[a-z]/gi,function(a){switch(a){case "d":return 9<g?g:"0"+g;case "j":return g;case "D":return b.i18n(c.daysShort[f]);case "l":return b.i18n(c.days[f]);case "m":return 9<e?e:"0"+e;case "n":return e;case "M":return b.i18n(c.monthsShort[e-1]);case "F":return b.i18n(c.months[e-1]);case "Y":return k;case "y":return(""+k).substr(2);case "H":return 9<m?m:"0"+m;case "G":return m;case "g":return r;case "h":return 9<r?r:
"0"+r;case "a":return 12<m?"pm":"am";case "A":return 12<m?"PM":"AM";case "i":return 9<p?p:"0"+p;case "s":return 9<n?n:"0"+n}return a}),h>=this.yesterday?d.replace("$1",this.i18n(h>=this.today?"Today":"Yesterday")):d):a.date?a.date.replace(/([a-z]+)\s/i,function(a,c){return b.i18n(c)+" "}):b.i18n("dateUnknown")},perms2class:function(a){var h="";a.read||a.write?a.read?a.write||(h="elfinder-ro"):h="elfinder-wo":h="elfinder-na";return h},formatPermissions:function(a){var h=[];a.read&&h.push(this.i18n("read"));
a.write&&h.push(this.i18n("write"));return h.length?h.join(" "+this.i18n("and")+" "):this.i18n("noaccess")},formatSize:function(a){var h=1,b="b";if("unknown"==a)return this.i18n("unknown");1073741824<a?(h=1073741824,b="GB"):1048576<a?(h=1048576,b="MB"):1024<a&&(h=1024,b="KB");return(0<a?Math.round(a/h):0)+" "+b},navHash2Id:function(a){return"nav-"+a},navId2Hash:function(a){return"string"==typeof a?a.substr(4):!1},log:function(a){window.console&&window.console.log&&window.console.log(a);return this},
debug:function(a,h){var b=this.options.debug;("all"==b||!0===b||$.isArray(b)&&-1!=$.inArray(a,b))&&window.console&&window.console.log&&window.console.log("elfinder debug: ["+a+"] ["+this.id+"]",h);return this},time:function(a){window.console&&window.console.time&&window.console.time(a)},timeEnd:function(a){window.console&&window.console.timeEnd&&window.console.timeEnd(a)}};elFinder.prototype.version="2.0 rc1";
$.fn.elfinder=function(a){return"instance"==a?this.getElFinder():this.each(function(){var h="string"==typeof a?a:"";this.elfinder||new elFinder(this,"object"==typeof a?a:{});switch(h){case "close":case "hide":this.elfinder.hide();break;case "open":case "show":this.elfinder.show();break;case "destroy":this.elfinder.destroy()}})};$.fn.getElFinder=function(){var a;this.each(function(){if(this.elfinder)return a=this.elfinder,!1});return a};
elFinder.prototype.resources={"class":{hover:"ui-state-hover",active:"ui-state-active",disabled:"ui-state-disabled",draggable:"ui-draggable",droppable:"ui-droppable",adroppable:"elfinder-droppable-active",cwdfile:"elfinder-cwd-file",cwd:"elfinder-cwd",tree:"elfinder-tree",treeroot:"elfinder-navbar-root",navdir:"elfinder-navbar-dir",navdirwrap:"elfinder-navbar-dir-wrapper",navarrow:"elfinder-navbar-arrow",navsubtree:"elfinder-navbar-subtree",navcollapse:"elfinder-navbar-collapsed",navexpand:"elfinder-navbar-expanded",
treedir:"elfinder-tree-dir",placedir:"elfinder-place-dir",searchbtn:"elfinder-button-search"},tpl:{perms:'<span class="elfinder-perms"/>',symlink:'<span class="elfinder-symlink"/>',navicon:'<span class="elfinder-nav-icon"/>',navspinner:'<span class="elfinder-navbar-spinner"/>',navdir:'<div class="elfinder-navbar-wrapper"><span id="{id}" class="ui-corner-all elfinder-navbar-dir {cssclass}"><span class="elfinder-navbar-arrow"/><span class="elfinder-navbar-icon"/>{symlink}{permissions}{name}</span><div class="elfinder-navbar-subtree"/></div>'},
mimes:{text:"application/x-empty application/javascript application/xhtml+xml audio/x-mp3-playlist application/x-web-config application/docbook+xml application/x-php application/x-perl application/x-awk application/x-config application/x-csh application/xml".split(" ")},mixin:{make:function(){var a=this.fm,h=this.name,b=a.getUI("cwd"),c=$.Deferred().fail(function(b){b&&a.error(b)}).always(function(){k.remove();e.remove();a.enable()}),d="tmp_"+parseInt(1E5*Math.random()),g=a.cwd().hash,f=new Date,
f={hash:d,name:a.uniqueName(this.prefix),mime:this.mime,read:!0,write:!0,date:"Today "+f.getHours()+":"+f.getMinutes()},e=b.trigger("create."+a.namespace,f).find("#"+d),k=$('<input type="text"/>').keydown(function(a){a.stopImmediatePropagation();a.keyCode==$.ui.keyCode.ESCAPE?c.reject():a.keyCode==$.ui.keyCode.ENTER&&k.blur()}).mousedown(function(a){a.stopPropagation()}).blur(function(){var b=$.trim(k.val()),e=k.parent();if(e.length){if(!b)return c.reject("errInvName");if(a.fileByName(b,g))return c.reject(["errExists",
b]);e.html(a.escape(b));a.lockfiles({files:[d]});a.request({data:{cmd:h,name:b,target:g},notify:{type:h,cnt:1},preventFail:!0,syncOnFail:!0}).fail(function(a){c.reject(a)}).done(function(a){c.resolve(a)})}});if(this.disabled()||!e.length)return c.reject();a.disable();e.find(".elfinder-cwd-filename").empty("").append(k.val(f.name));k.select().focus();return c}}};
elFinder.prototype._options={url:"",requestType:"get",transport:{},urlUpload:"",dragUploadAllow:"auto",iframeTimeout:0,customData:{},handlers:{},lang:"en",cssClass:"",commands:"open reload home up back forward getfile quicklook download rm duplicate rename mkdir mkfile upload copy cut paste edit extract archive search info view help resize sort".split(" "),commandsOptions:{getfile:{onlyURL:!0,multiple:!1,folders:!1,oncomplete:""},upload:{ui:"uploadbutton"},quicklook:{autoplay:!0,jplayer:"extensions/jplayer"},
edit:{mimes:[],editors:[]},help:{view:["about","shortcuts","help"]}},getFileCallback:null,ui:["toolbar","tree","path","stat"],uiOptions:{toolbar:[["back","forward"],["mkdir","mkfile","upload"],["open","download","getfile"],["info"],["quicklook"],["copy","cut","paste"],["rm"],["duplicate","rename","edit","resize"],["extract","archive"],["search"],["view","sort"],["help"]],tree:{openRootOnLoad:!0,syncTree:!0},navbar:{minWidth:150,maxWidth:500}},onlyMimes:[],sort:"nameDirsFirst",sortDirect:"asc",clientFormatDate:!0,
UTCDate:!1,dateFormat:"",fancyDateFormat:"",width:"auto",height:400,resizable:!0,notifyDelay:500,allowShortcuts:!0,rememberLastDir:!0,showFiles:30,showThreshold:50,validName:!1,sync:0,loadTmbs:5,cookie:{expires:30,domain:"",path:"/",secure:!1},contextmenu:{navbar:"open | copy cut paste duplicate | rm | info".split(" "),cwd:"reload back | upload mkdir mkfile paste | sort | info".split(" "),files:"getfile | open quicklook | download | copy cut paste duplicate | rm | edit rename resize | archive extract | info".split(" ")},
debug:["error","warning","event-destroy"]};
elFinder.prototype.history=function(a){var h=this,b=!0,c=[],d,g=function(){c=[a.cwd().hash];d=0;b=!0},f=function(e){return e&&h.canForward()||!e&&h.canBack()?(b=!1,a.exec("open",c[e?++d:--d]).fail(g)):$.Deferred().reject()};this.canBack=function(){return 0<d};this.canForward=function(){return d<c.length-1};this.back=f;this.forward=function(){return f(!0)};a.open(function(e){e=c.length;var f=a.cwd().hash;b&&(0<=d&&e>d+1&&c.splice(d+1),c[c.length-1]!=f&&c.push(f),d=c.length-1);b=!0}).reload(g)};
elFinder.prototype.command=function(a){this.fm=a;this.title=this.name="";this.state=-1;this.disableOnSearch=this._disabled=this.alwaysEnabled=!1;this.updateOnSelect=!0;this._handlers={enable:function(){this.update(void 0,this.value)},disable:function(){this.update(-1,this.value)},"open reload load":function(a){this._disabled=!(this.alwaysEnabled||this.fm.isCommandEnabled(this.name));this.update(void 0,this.value);this.change()}};this.handlers={};this.shortcuts=[];this.options={ui:"button"};this.setup=
function(a,b){var c=this,d=this.fm,g,f;this.name=a;this.title=d.messages["cmd"+a]?d.i18n("cmd"+a):a;this.options=$.extend({},this.options,b);this.listeners=[];this.updateOnSelect&&(this._handlers.select=function(){this.update(void 0,this.value)});$.each($.extend({},c._handlers,c.handlers),function(a,b){d.bind(a,$.proxy(b,c))});for(g=0;g<this.shortcuts.length;g++)f=this.shortcuts[g],f.callback=$.proxy(f.callback||function(){this.exec()},this),!f.description&&(f.description=this.title),d.shortcut(f);
this.disableOnSearch&&d.bind("search searchend",function(a){c._disabled="search"==a.type;c.update(void 0,c.value)});this.init()};this.init=function(){};this.exec=function(a,b){return $.Deferred().reject()};this.disabled=function(){return 0>this.state};this.enabled=function(){return-1<this.state};this.active=function(){return 0<this.state};this.getstate=function(){return-1};this.update=function(a,b){var c=this.state,d=this.value;this.state=this._disabled?-1:void 0!==a?a:this.getstate();this.value=
b;c==this.state&&d==this.value||this.change()};this.change=function(a){var b;if("function"===typeof a)this.listeners.push(a);else for(b=0;b<this.listeners.length;b++){a=this.listeners[b];try{a(this.state,this.value)}catch(c){this.fm.debug("error",c)}}return this};this.hashes=function(h){return h?$.map($.isArray(h)?h:[h],function(b){return a.file(b)?b:null}):a.selected()};this.files=function(a){var b=this.fm;return a?$.map($.isArray(a)?a:[a],function(a){return b.file(a)||null}):b.selectedFiles()}};$.fn.elfinderoverlay=function(a){this.filter(":not(.elfinder-overlay)").each(function(){a=$.extend({},a);$(this).addClass("ui-widget-overlay elfinder-overlay").hide().mousedown(function(a){a.preventDefault();a.stopPropagation()}).data({cnt:0,show:"function"==typeof a.show?a.show:function(){},hide:"function"==typeof a.hide?a.hide:function(){}})});if("show"==a){var h=this.eq(0),b=h.data("cnt")+1,c=h.data("show");h.data("cnt",b);h.is(":hidden")&&(h.zIndex(h.parent().zIndex()+1),h.show(),c())}"hide"==
a&&(h=this.eq(0),b=h.data("cnt")-1,c=h.data("hide"),h.data("cnt",b),0==b&&h.is(":visible")&&(h.hide(),c()));return this};$.fn.elfinderworkzone=function(a){this.not(".elfinder-workzone").each(function(){var a=$(this).addClass("elfinder-workzone"),b=a.outerHeight(!0)-a.height(),c=a.parent();c.add(window).bind("resize",function(){var d=c.height();c.children(":visible:not(.elfinder-workzone)").each(function(){var a=$(this);"absolute"!=a.css("position")&&(d-=a.outerHeight(!0))});a.height(d-b)})});return this};
$.fn.elfindernavbar=function(a,h){this.not(".elfinder-navbar").each(function(){var b=$(this).addClass("ui-state-default elfinder-navbar"),c=b.parent().resize(function(){b.height(c.height()-d)}).children(".elfinder-workzone").append(b),d=b.outerHeight()-b.height(),g="ltr"==a.direction,f;$.fn.resizable&&(f=b.resizable({handles:g?"e":"w",minWidth:h.minWidth||150,maxWidth:h.maxWidth||500}).bind("resize scroll",function(){f.css({top:parseInt(b.scrollTop())+"px",left:parseInt(g?b.width()+b.scrollLeft()-
f.width()-2:b.scrollLeft()+2)})}).find(".ui-resizable-handle").zIndex(b.zIndex()+10),g||b.resize(function(){b.css("left",null).css("right",0)}),a.one("open",function(){setTimeout(function(){b.trigger("resize")},150)}))});return this};
$.fn.elfinderdialog=function(a){var h;"string"==typeof a&&(h=this.closest(".ui-dialog")).length&&("open"==a&&h.is(":hidden")?h.fadeIn(120,function(){h.trigger("open")}):"close"==a&&h.is(":visible")?h.hide().trigger("close"):"destroy"==a?h.hide().remove():"toTop"==a&&h.trigger("totop"));a=$.extend({},$.fn.elfinderdialog.defaults,a);this.filter(":not(.ui-dialog-content)").each(function(){var b=$(this).addClass("ui-dialog-content ui-widget-content"),c=b.parent(),d=parseInt(1E6*Math.random()),g=c.children(".elfinder-overlay"),
f=$('<div class="ui-dialog-buttonset"/>'),e=$('<div class=" ui-helper-clearfix ui-dialog-buttonpane ui-widget-content"/>').append(f),k=$('<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable std42-dialog  elfinder-dialog '+a.cssClass+'"/>').hide().append(b).appendTo(c).draggable({handle:".ui-dialog-titlebar",containment:$("body")}).css({width:a.width,height:a.height}).mousedown(function(a){a.stopPropagation();$(document).mousedown();k.is(".elfinder-dialog-active")||(c.find(".elfinder-dialog:visible").removeClass("elfinder-dialog-active"),
k.addClass("elfinder-dialog-active").zIndex(h()+1))}).bind("open",function(){a.modal&&g.elfinderoverlay("show");k.trigger("totop");"function"==typeof a.open&&$.proxy(a.open,b[0])();k.is(".elfinder-dialog-notify")||c.find(".elfinder-dialog:visible").not(".elfinder-dialog-notify").each(function(){var a=$(this),b=parseInt(a.css("top")),c=parseInt(a.css("left")),d=parseInt(k.css("top")),e=parseInt(k.css("left"));a[0]==k[0]||b!=d&&c!=e||k.css({top:b+10+"px",left:c+10+"px"})})}).bind("close",function(){var d=
c.find(".elfinder-dialog:visible"),e=h();a.modal&&g.elfinderoverlay("hide");d.length?d.each(function(){var a=$(this);if(a.zIndex()>=e)return a.trigger("totop"),!1}):setTimeout(function(){c.mousedown().click()},10);"function"==typeof a.close?$.proxy(a.close,b[0])():a.destroyOnClose&&k.hide().remove()}).bind("totop",function(){$(this).mousedown().find(".ui-button:first").focus().end().find(":text:first").focus()}),h=function(){var a=c.zIndex()+10;c.find(".elfinder-dialog:visible").each(function(){var b;
this!=k[0]&&(b=$(this).zIndex(),b>a&&(a=b))});return a},r;a.position||(r=parseInt((c.height()-k.outerHeight())/2-42),a.position={top:(0<r?r:0)+"px",left:parseInt((c.width()-k.outerWidth())/2)+"px"});k.css(a.position);a.closeOnEscape&&$(document).bind("keyup."+d,function(a){a.keyCode==$.ui.keyCode.ESCAPE&&k.is(".elfinder-dialog-active")&&(b.elfinderdialog("close"),$(document).unbind("keyup."+d))});k.prepend($('<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">'+a.title+
"</div>").prepend($('<a href="#" class="ui-dialog-titlebar-close ui-corner-all"><span class="ui-icon ui-icon-closethick"/></a>').mousedown(function(a){a.preventDefault();b.elfinderdialog("close")})));$.each(a.buttons,function(a,c){var d=$('<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">'+a+"</span></button>").click($.proxy(c,b[0])).hover(function(a){$(this)["mouseenter"==a.type?"focus":"blur"]()}).focus(function(){$(this).addClass("ui-state-hover")}).blur(function(){$(this).removeClass("ui-state-hover")}).keydown(function(a){a.keyCode==
$.ui.keyCode.ENTER?$(this).click():a.keyCode==$.ui.keyCode.TAB&&(a=$(this).next(".ui-button"),a.length?a.focus():$(this).parent().children(".ui-button:first").focus())});f.append(d)});f.children().length&&k.append(e);a.resizable&&$.fn.resizable&&k.resizable({minWidth:a.minWidth,minHeight:a.minHeight,alsoResize:this});"function"==typeof a.create&&$.proxy(a.create,this)();a.autoOpen&&b.elfinderdialog("open")});return this};
$.fn.elfinderdialog.defaults={cssClass:"",title:"",modal:!1,resizable:!0,autoOpen:!0,closeOnEscape:!0,destroyOnClose:!1,buttons:{},position:null,width:320,height:"auto",minWidth:200,minHeight:110};
$.fn.elfindertree=function(a,h){var b=a.res("class","tree");this.not("."+b).each(function(){var c=a.res("class","treeroot"),d=h.openRootOnLoad,g=a.res("class","navsubtree"),f=a.res("class","treedir"),e=a.res("class","navcollapse"),k=a.res("class","navexpand"),m=a.res("class","navarrow"),r=a.res("class","active"),p=a.res("class","adroppable"),n=a.res("class","hover"),s=a.res("class","disabled"),q=a.res("class","draggable"),u=a.res("class","droppable"),w=$.extend({},a.droppable,{hoverClass:n+" "+p,
over:function(){var a=$(this);a.is("."+e+":not(."+k+")")&&setTimeout(function(){a.is("."+p)&&a.children("."+m).click()},500)}}),A=$(a.res("tpl","navspinner")),z=a.res("tpl","navdir"),x=a.res("tpl","perms"),C=a.res("tpl","symlink"),F={id:function(b){return a.navHash2Id(b.hash)},cssclass:function(b){return(b.phash?"":c)+" "+f+" "+a.perms2class(b)+" "+(b.dirs&&!b.link?e:"")},permissions:function(a){return a.read&&a.write?"":x},symlink:function(a){return a.alias?C:""}},B=function(b){b.name=a.escape(b.name);
return z.replace(/(?:\{([a-z]+)\})/ig,function(a,c){return b[c]||(F[c]?F[c](b):"")})},D=function(a){return $.map(a||[],function(a){return"directory"==a.mime?a:null})},S=function(b){return b?M.find("#"+a.navHash2Id(b)).next("."+g):M},Q=function(b,c){for(var d=b.children(":first"),e;d.length;){if((e=a.file(a.navId2Hash(d.children("[id]").attr("id"))))&&0>c.name.localeCompare(e.name))return d;d=d.next()}return $("")},I=function(b){var c=b.length,d=[],e,f,g,k,h;for(e=0;e<c;e++)f=b[e],M.find("#"+a.navHash2Id(f.hash)).length||
((k=S(f.phash)).length?(g=B(f),f.phash&&(h=Q(k,f)).length?h.before(g):k.append(g)):d.push(f));if(d.length&&d.length<c)return I(d);v()},V=function(){var b=a.cwd().hash,e=M.find("#"+a.navHash2Id(b)),m;d&&(m=M.find("#"+a.navHash2Id(a.root())),m.is(".elfinder-subtree-loaded")&&m.addClass(k).next("."+g).show(),d=!1);e.is("."+r)||(M.find("."+f+"."+r).removeClass(r),e.addClass(r));h.syncTree&&(e.length?e.parentsUntil("."+c).filter("."+g).show().prev("."+f).addClass(k):a.newAPI&&a.request({data:{cmd:"parents",
target:b},preventFail:!0}).done(function(c){c=D(c.tree);I(c);X(c,"elfinder-subtree-loaded");b==a.cwd().hash&&V()}))},v=function(){M.find("."+f+":not(."+u+",.elfinder-ro,.elfinder-na)").droppable(w)},X=function(b,c){var d="elfinder-subtree-loaded"==c?"."+e+":not(.elfinder-subtree-loaded)":":not(."+e+")";$.each(b,function(b,e){M.find("#"+a.navHash2Id(e.phash)+d).filter(function(){return 0<$(this).next("."+g).children().length}).addClass(c)})},M=$(this).addClass(b).delegate("."+f,"hover",function(b){var d=
$(this);b="mouseenter"==b.type;d.is("."+p+" ,."+s)||(b&&!d.is("."+c+",."+q+",.elfinder-na,.elfinder-wo")&&d.draggable(a.draggable),d.toggleClass(n,b))}).delegate("."+f,"dropover dropout drop",function(a){$(this)["dropover"==a.type?"addClass":"removeClass"](p+" "+n)}).delegate("."+f,"click",function(b){b=$(this);var c=a.navId2Hash(b.attr("id")),d=a.file(c);a.trigger("searchend");c==a.cwd().hash||b.is("."+s)?b.is("."+e)&&b.children("."+m).click():a.exec("open",d.thash||c)}).delegate("."+f+"."+e+" ."+
m,"click",function(b){var c=$(this),d=c.parent("."+f),h=d.next("."+g);b.stopPropagation();d.is(".elfinder-subtree-loaded")?(d.toggleClass(k),h.slideToggle()):(A.insertBefore(c),d.removeClass(e),a.request({cmd:"tree",target:a.navId2Hash(d.attr("id"))}).done(function(a){I(D(a.tree));h.children().length&&(d.addClass(e+" "+k),h.slideDown());V()}).always(function(a){A.remove();d.addClass("elfinder-subtree-loaded")}))}).delegate("."+f,"contextmenu",function(b){b.preventDefault();a.trigger("contextmenu",
{type:"navbar",targets:[a.navId2Hash($(this).attr("id"))],x:b.clientX,y:b.clientY})});M.parent().find(".elfinder-navbar").append(M).show();a.open(function(a){a=a.data;var b=D(a.files);a.init&&M.empty();b.length&&(I(b),X(b,"elfinder-subtree-loaded"));V()}).add(function(a){a=D(a.data.added);a.length&&(I(a),X(a,e))}).change(function(b){b=D(b.data.changed);for(var c=b.length,d,e,h,m,n,p;c--;)if(d=b[c],(e=M.find("#"+a.navHash2Id(d.hash))).length){if(d.phash){h=e.closest("."+g);m=S(d.phash);n=e.parent().next();
p=Q(m,d);if(!m.length)continue;if(m[0]!==h[0]||n.get(0)!==p.get(0))p.length?p.before(e):m.append(e)}m=e.is("."+k);n=e.is(".elfinder-subtree-loaded");h=$(B(d));e.replaceWith(h.children("."+f));d.dirs&&(m||n)&&(e=M.find("#"+a.navHash2Id(d.hash)))&&e.next("."+g).children().length&&(m&&e.addClass(k),n&&e.addClass("elfinder-subtree-loaded"))}V();v()}).remove(function(b){b=b.data.removed;for(var c=b.length,d,h;c--;)(d=M.find("#"+a.navHash2Id(b[c]))).length&&(h=d.closest("."+g),d.parent().detach(),h.children().length||
h.hide().prev("."+f).removeClass(e+" "+k+" elfinder-subtree-loaded"))}).bind("search searchend",function(b){M.find("#"+a.navHash2Id(a.cwd().hash))["search"==b.type?"removeClass":"addClass"](r)}).bind("lockfiles unlockfiles",function(b){var c="lockfiles"==b.type,d=c?"disable":"enable";b=$.map(b.data.files||[],function(b){var c=a.file(b);return c&&"directory"==c.mime?b:null});$.each(b,function(b,e){var f=M.find("#"+a.navHash2Id(e));f.length&&(f.is("."+q)&&f.draggable(d),f.is("."+u)&&f.droppable(r),
f[c?"addClass":"removeClass"](s))})})});return this};
$.fn.elfindercwd=function(a){this.not(".elfinder-cwd").each(function(){var h="list"==a.storage("view"),b="select."+a.namespace,c="unselect."+a.namespace,d="disable."+a.namespace,g="enable."+a.namespace,f=a.res("class","cwdfile"),e="."+f,k=a.res("class","disabled"),m=a.res("class","draggable"),r=a.res("class","droppable"),p=a.res("class","hover"),n=a.res("class","adroppable"),s=f+"-tmp",q=0<a.options.loadTmbs?a.options.loadTmbs:5,u="",w={icon:'<div id="{hash}" class="'+f+' {permsclass} {dirclass} ui-corner-all"><div class="elfinder-cwd-file-wrapper ui-corner-all"><div class="elfinder-cwd-icon {mime} ui-corner-all" unselectable="on" {style}/>{marker}</div><div class="elfinder-cwd-filename" title="{name}">{name}</div></div>',
row:'<tr id="{hash}" class="'+f+' {permsclass} {dirclass}"><td><div class="elfinder-cwd-file-wrapper"><span class="elfinder-cwd-icon {mime}"/>{marker}<span class="elfinder-cwd-filename">{name}</span></div></td><td>{perms}</td><td>{date}</td><td>{size}</td><td>{kind}</td></tr>'},A=a.res("tpl","perms"),z=a.res("tpl","symlink"),x={permsclass:function(b){return a.perms2class(b)},perms:function(b){return a.formatPermissions(b)},dirclass:function(a){return"directory"==a.mime?"directory":""},mime:function(b){return a.mime2class(b.mime)},
size:function(b){return a.formatSize(b.size)},date:function(b){return a.formatDate(b)},kind:function(b){return a.mime2kind(b)},marker:function(a){return(a.alias||"symlink-broken"==a.mime?z:"")+(a.read&&a.write?"":A)}},C=function(b){b.name=a.escape(b.name);return w[h?"row":"icon"].replace(/\{([a-z]+)\}/g,function(a,c){return x[c]?x[c](b):b[c]?b[c]:""})},F=!1,B=function(a,d){function e(a,b){return a[b+"All"]("[id]:not(."+k+"):first")}var f=$.ui.keyCode,g=a==f.LEFT||a==f.UP,l=y.find("[id].ui-selected"),
m,n,p;if(l.length)if(m=l.filter(g?":first":":last"),n=e(m,g?"prev":"next"),n.length)if(h||a==f.LEFT||a==f.RIGHT)f=n;else if(p=m.position().top,n=m.position().left,f=m,g){do f=f.prev("[id]");while(f.length&&!(f.position().top<p&&f.position().left<=n));f.is("."+k)&&(f=e(f,"next"))}else{do f=f.next("[id]");while(f.length&&!(f.position().top>p&&f.position().left>=n));f.is("."+k)&&(f=e(f,"prev"));f.length||(n=y.find("[id]:not(."+k+"):last"),n.position().top>p&&(f=n))}else f=m;else f=y.find("[id]:not(."+
k+"):"+(g?"last":"first"));f&&f.length&&(d?f=m.add(m[g?"prevUntil":"nextUntil"]("#"+f.attr("id"))).add(f):l.trigger(c),f.trigger(b),V(f.filter(g?":first":":last")),I())},D=function(a){y.find("#"+a).trigger(b)},S=function(){y.find("[id].ui-selected").trigger(c)},Q=function(){return $.map(y.find("[id].ui-selected"),function(a){a=$(a);return a.is("."+k)?null:$(a).attr("id")})},I=function(){a.trigger("select",{selected:Q()})},V=function(a){var b=a.position().top;a=a.outerHeight(!0);var c=U.scrollTop(),
d=U.innerHeight();b+a>c+d?U.scrollTop(parseInt(b+a-d)):b<c&&U.scrollTop(b)},v=[],X=function(a){for(var b=v.length;b--;)if(v[b].hash==a)return b;return-1},M="scroll."+a.namespace,l=function(){var b=[],c=!1,d=[],e={},b=y.find("[id]:last"),f=!b.length,g=h?y.children("table").children("tbody"):y,k;if(!v.length)return U.unbind(M);for(;(!b.length||b.position().top<=U.height()+U.scrollTop()+a.options.showThreshold)&&(k=v.splice(0,a.options.showFiles)).length;)b=$.map(k,function(a){return a.hash&&a.name?
("directory"==a.mime&&(c=!0),a.tmb&&(1===a.tmb?d.push(a.hash):e[a.hash]=a.tmb),C(a)):null}),g.append(b.join("")),b=y.find("[id]:last"),f&&y.scrollTop(0);N(e);d.length&&G(d);c&&O()},J=$.extend({},a.droppable,{over:function(b,c){var d=a.cwd().hash;$.each(c.helper.data("files"),function(b,c){if(a.file(c).phash==d)return y.removeClass(n),!1})}}),O=function(){setTimeout(function(){y.find(".directory:not(."+r+",.elfinder-na,.elfinder-ro)").droppable(a.droppable)},20)},N=function(b){var c=a.option("tmbUrl"),
d=!0,e;$.each(b,function(a,b){var f=y.find("#"+a);f.length?function(a,b){$("<img/>").load(function(){a.find(".elfinder-cwd-icon").css("background","url('"+b+"') center center no-repeat")}).attr("src",b)}(f,c+b):(d=!1,-1!=(e=X(a))&&(v[e].tmb=b))});return d},G=function(b){var c=[];a.oldAPI?a.request({data:{cmd:"tmb",current:a.cwd().hash},preventFail:!0}).done(function(a){N(a.images||[])&&a.tmb&&G()}):(c=c=b.splice(0,q),c.length&&a.request({data:{cmd:"tmb",targets:c},preventFail:!0}).done(function(a){N(a.images||
[])&&G(b)}))},K=function(b){for(var c=h?y.find("tbody"):y,d=b.length,e=[],f={},g=!1,k=function(b){for(var c=y.find("[id]:first"),d;c.length;){if((d=a.file(c.attr("id")))&&0>a.compare(b,d))return c;c=c.next("[id]")}},l=function(b){var c=v.length,d;for(d=0;d<c;d++)if(0>a.compare(b,v[d]))return d;return c||-1},m,n,p,r;d--;)m=b[d],n=m.hash,y.find("#"+n).length||((p=k(m))&&p.length?p.before(C(m)):0<=(r=l(m))?v.splice(r,0,m):c.append(C(m)),y.find("#"+n).length&&("directory"==m.mime?g=!0:m.tmb&&(1===m.tmb?
e.push(n):f[n]=m.tmb)));N(f);e.length&&G(e);g&&O()},T=function(b){for(var c=b.length,d,e,f;c--;)if(d=b[c],(e=y.find("#"+d)).length)try{e.detach()}catch(g){a.debug("error",g)}else-1!=(f=X(d))&&v.splice(f,1)},L=a.i18n("name"),aa=a.i18n("perms"),P=a.i18n("modify"),ba=a.i18n("size"),W=a.i18n("kind"),Y=function(b,c){var d=a.cwd().hash;try{y.children("table,"+e).remove().end()}catch(f){y.html("")}y.removeClass("elfinder-cwd-view-icons elfinder-cwd-view-list").addClass("elfinder-cwd-view-"+(h?"list":"icons"));
U[h?"addClass":"removeClass"]("elfinder-cwd-wrapper-list");h&&y.html('<table><thead><tr class="ui-state-default"><td >'+L+"</td><td>"+aa+"</td><td>"+P+"</td><td>"+ba+"</td><td>"+W+"</td></tr></thead><tbody/></table>");v=$.map(b,function(a){return c||a.phash==d?a:null});v=a.sortFiles(v);U.bind(M,l).trigger(M);I()},y=$(this).addClass("ui-helper-clearfix elfinder-cwd").attr("unselectable","on").delegate(e,"click."+a.namespace,function(a){var d=this.id?$(this):$(this).parents("[id]:first"),e=d.prevAll(".ui-selected:first"),
f=d.nextAll(".ui-selected:first"),g=e.length,k=f.length;a.stopImmediatePropagation();a.shiftKey&&(g||k)?(a=g?d.prevUntil("#"+e.attr("id")):d.nextUntil("#"+f.attr("id")),a.add(d).trigger(b)):a.ctrlKey||a.metaKey?d.trigger(d.is(".ui-selected")?c:b):(y.find("[id].ui-selected").trigger(c),d.trigger(b));I()}).delegate(e,"dblclick."+a.namespace,function(b){a.dblclick({file:this.id})}).delegate(e,"mouseenter."+a.namespace,function(b){b=$(this);var c=h?b:b.children();b.is("."+s)||c.is("."+m+",."+k)||c.draggable(a.draggable)}).delegate(e,
b,function(a){a=$(this);F||a.is("."+k)||a.addClass("ui-selected").children().addClass(p)}).delegate(e,c,function(a){!F&&$(this).removeClass("ui-selected").children().removeClass(p)}).delegate(e,d,function(){var a=$(this).removeClass("ui-selected").addClass(k),b=(h?a:a.children()).removeClass(p);a.is("."+r)&&a.droppable("disable");b.is("."+m)&&b.draggable("disable");!h&&b.removeClass(k)}).delegate(e,g,function(){var a=$(this).removeClass(k),b=h?a:a.children();a.is("."+r)&&a.droppable("enable");b.is("."+
m)&&b.draggable("enable")}).delegate(e,"scrolltoview",function(){V($(this))}).delegate(e,"hover",function(b){a.trigger("hover",{hash:$(this).attr("id"),type:b.type})}).bind("contextmenu."+a.namespace,function(c){var d=$(c.target).closest("."+f);d.length&&(c.stopPropagation(),c.preventDefault(),d.is("."+k)||(d.is(".ui-selected")||(y.trigger("unselectall"),d.trigger(b),I()),a.trigger("contextmenu",{type:"files",targets:a.selected(),x:c.clientX,y:c.clientY})))}).selectable({filter:e,stop:I,selected:function(a,
c){$(c.selected).trigger(b)},unselected:function(a,b){$(b.unselected).trigger(c)}}).droppable(J).bind("create."+a.namespace,function(a,b){var c=h?y.find("tbody"):y;y.trigger("unselectall");c.prepend($(C(b)).addClass(s));y.scrollTop(0)}).bind("unselectall",function(){y.find("[id].ui-selected").trigger(c);I()}).bind("selectfile",function(a,c){y.find("#"+c).trigger(b);I()}),U=$('<div class="elfinder-cwd-wrapper"/>').bind("contextmenu",function(b){b.preventDefault();a.trigger("contextmenu",{type:"cwd",
targets:[a.cwd().hash],x:b.clientX,y:b.clientY})}),Z=function(){var a=0;U.siblings(".elfinder-panel:visible").each(function(){a+=$(this).outerHeight(!0)});U.height(ga.height()-a)},ga=$(this).parent().resize(Z).children(".elfinder-workzone").append(U.append(this));a.dragUpload&&(U[0].addEventListener("dragenter",function(a){a.preventDefault();a.stopPropagation();U.addClass(n)},!1),U[0].addEventListener("dragleave",function(a){a.preventDefault();a.stopPropagation();a.target==y[0]&&U.removeClass(n)},
!1),U[0].addEventListener("dragover",function(a){a.preventDefault();a.stopPropagation()},!1),U[0].addEventListener("drop",function(b){b.preventDefault();U.removeClass(n);b.dataTransfer&&b.dataTransfer.files&&b.dataTransfer.files.length&&a.exec("upload",{files:b.dataTransfer.files})},!1));a.bind("open search",function(a){Y(a.data.files,"search"==a.type)}).bind("searchend sortchange",function(){u&&Y(a.files())}).bind("searchstart",function(a){u=a.data.query}).bind("searchend",function(){u=""}).bind("viewchange",
function(){var b=a.selected(),c="list"==a.storage("view");c!=h&&(h=c,Y(a.files()),$.each(b,function(a,b){D(b)}),I());Z()}).add(function(b){var c=a.cwd().hash;b=u?$.map(b.data.added||[],function(a){return-1===a.name.indexOf(u)?null:a}):$.map(b.data.added||[],function(a){return a.phash==c?a:null});K(b)}).change(function(b){var c=a.cwd().hash,d=a.selected();u?$.each(b.data.changed||[],function(a,b){T([b.hash]);-1!==b.name.indexOf(u)&&(K([b]),-1!==$.inArray(b.hash,d)&&D(b.hash))}):$.each($.map(b.data.changed||
[],function(a){return a.phash==c?a:null}),function(a,b){T([b.hash]);K([b]);-1!==$.inArray(b.hash,d)&&D(b.hash)});I()}).remove(function(a){T(a.data.removed||[]);I()}).bind("open add search searchend",function(){y.css("height","auto");y.outerHeight(!0)<U.height()&&y.height(U.height()-(y.outerHeight(!0)-y.height())-2)}).dragstart(function(a){var c=$(a.data.target);a=a.data.originalEvent;c.is(e)&&(c.is(".ui-selected")||(a.ctrlKey||a.metaKey||a.shiftKey||S(),c.trigger(b),I()),y.droppable("disable"));y.selectable("disable").removeClass(k);
F=!0}).dragstop(function(){y.selectable("enable");F=!1}).bind("lockfiles unlockfiles",function(a){var b="lockfiles"==a.type?d:g;a=a.data.files||[];for(var c=a.length;c--;)y.find("#"+a[c]).trigger(b);I()}).bind("mkdir mkfile duplicate upload rename archive extract",function(b){var c=a.cwd().hash;y.trigger("unselectall");$.each(b.data.added||[],function(a,b){b&&b.phash==c&&D(b.hash)});I()}).shortcut({pattern:"ctrl+a",description:"selectall",callback:function(){var c;y.find("[id]:not(.ui-selected)").trigger(b);
v.length?(c=a.cwd().hash,a.select({selected:$.map(a.files(),function(a){return a.phash==c?a.hash:null})})):I()}}).shortcut({pattern:"left right up down shift+left shift+right shift+up shift+down",description:"selectfiles",type:"keydown",callback:function(a){B(a.keyCode,a.shiftKey)}}).shortcut({pattern:"home",description:"selectffile",callback:function(a){S();V(y.find("[id]:first").trigger(b));I()}}).shortcut({pattern:"end",description:"selectlfile",callback:function(a){S();V(y.find("[id]:last").trigger(b));
I()}})});return this};
$.fn.elfindertoolbar=function(a,h){this.not(".elfinder-toolbar").each(function(){var b=a._commands,c=$(this).addClass("ui-helper-clearfix ui-widget-header ui-corner-top elfinder-toolbar"),d=h||[],g=d.length,f,e,k,m;for(c.prev().length&&c.parent().prepend(this);g--;)if(d[g]){k=$('<div class="ui-widget-content ui-corner-all elfinder-buttonset"/>');for(f=d[g].length;f--;)if(e=b[d[g][f]])m="elfinder"+e.options.ui,$.fn[m]&&k.prepend($("<div/>")[m](e));k.children().length&&c.prepend(k);k.children(":not(:last),:not(:first):not(:last)").after('<span class="ui-widget-content elfinder-toolbar-button-separator"/>')}c.children().length&&
c.show()});return this};
$.fn.elfinderbutton=function(a){return this.each(function(){var h=a.fm,b=h.res("class","disabled"),c=h.res("class","active"),d=h.res("class","hover"),g,f=$(this).addClass("ui-state-default elfinder-button").attr("title",a.title).append('<span class="elfinder-button-icon elfinder-button-icon-'+a.name+'"/>').hover(function(a){!f.is("."+b)&&f["mouseleave"==a.type?"removeClass":"addClass"](d)}).click(function(c){f.is("."+b)||(g&&1<a.variants.length?(g.is(":hidden")&&a.fm.getUI().click(),c.stopPropagation(),
g.slideToggle(100)):a.exec())}),h=function(){g.hide()};$.isArray(a.variants)&&(f.addClass("elfinder-menubutton"),g=$('<div class="ui-widget ui-widget-content elfinder-button-menu ui-corner-all"/>').hide().appendTo(f).zIndex(10+f.zIndex()).delegate(".elfinder-button-menu-item","hover",function(){$(this).toggleClass(d)}).delegate(".elfinder-button-menu-item","click",function(b){b.preventDefault();b.stopPropagation();f.removeClass(d);a.exec(a.fm.selected(),$(this).data("value"))}),a.fm.bind("disable select",
h).getUI().click(h),a.change(function(){g.html("");$.each(a.variants,function(b,c){g.append($('<div class="elfinder-button-menu-item">'+c[1]+"</div>").data("value",c[0]).addClass(c[0]==a.value?"elfinder-button-menu-item-selected":""))})}));a.change(function(){a.disabled()?f.removeClass(c+" "+d).addClass(b):(f.removeClass(b),f[a.active()?"addClass":"removeClass"](c))}).change()})};
$.fn.elfinderuploadbutton=function(a){return this.each(function(){var h=$(this).elfinderbutton(a).unbind("click"),b=$("<form/>").appendTo(h),c=$('<input type="file" multiple="true"/>').change(function(){var d=$(this);d.val()&&(a.exec({input:d.remove()[0]}),c.clone(!0).appendTo(b))});b.append(c.clone(!0));a.change(function(){b[a.disabled()?"hide":"show"]()}).change()})};
$.fn.elfinderviewbutton=function(a){return this.each(function(){var h=$(this).elfinderbutton(a),b=h.children(".elfinder-button-icon");a.change(function(){var c="icons"==a.value;b.toggleClass("elfinder-button-icon-view-list",c);h.attr("title",a.fm.i18n(c?"viewlist":"viewicons"))})})};
$.fn.elfindersearchbutton=function(a){return this.each(function(){var h=!1,b=$(this).hide().addClass("ui-widget-content elfinder-button "+a.fm.res("class","searchbtn")+""),c=function(){a.exec($.trim(g.val())).done(function(){h=!0;g.focus()})},d=function(){g.val("");h&&(h=!1,a.fm.trigger("searchend"))},g=$('<input type="text" size="42"/>').appendTo(b).keypress(function(a){a.stopPropagation()}).keydown(function(a){a.stopPropagation();13==a.keyCode&&c();27==a.keyCode&&(a.preventDefault(),d())});$('<span class="ui-icon ui-icon-search" title="'+
a.title+'"/>').appendTo(b).click(c);$('<span class="ui-icon ui-icon-close"/>').appendTo(b).click(d);setTimeout(function(){b.parent().detach();a.fm.getUI("toolbar").prepend(b.show());if($.browser.msie){var c=b.children("ltr"==a.fm.direction?".ui-icon-close":".ui-icon-search");c.css({right:"",left:parseInt(b.width())-c.outerWidth(!0)})}},200);a.fm.error(function(){g.unbind("keydown")}).select(function(){g.blur()}).bind("searchend",function(){g.val("")}).viewchange(d).shortcut({pattern:"ctrl+f f3",description:a.title,
callback:function(){g.select().focus()}})})};
$.fn.elfindersortbutton=function(a){return this.each(function(){var h=a.fm,b=h.res("class","disabled"),c=h.res("class","active"),d=h.res("class","hover"),g,f=$(this).addClass("ui-state-default elfinder-button elfiner-button-"+a.name).attr("title",a.title).append('<span class="elfinder-button-icon elfinder-button-icon-'+a.name+'"/>').hover(function(a){!f.is("."+b)&&f.toggleClass(d)}).click(function(c){f.is("."+b)||(g&&1<a.variants.length?(g.is(":hidden")&&a.fm.getUI().click(),c.stopPropagation(),g.slideToggle(100)):
a.exec())}),h=function(){g.hide()};$.isArray(a.variants)&&(f.addClass("elfinder-menubutton"),g=$('<div class="ui-widget ui-widget-content elfinder-button-menu ui-corner-all"/>').hide().appendTo(f).zIndex(10+f.zIndex()).delegate(".elfinder-button-menu-item","hover",function(){$(this).toggleClass(d)}).delegate(".elfinder-button-menu-item","click",function(b){b.preventDefault();b.stopPropagation();f.removeClass(d);a.exec(a.fm.selected(),$(this).data("value"))}),a.fm.bind("disable select",h).getUI().click(h),
a.change(function(){g.html("");$.each(a.variants,function(b,c){g.append($('<div class="elfinder-button-menu-item '+(c[0]==a.value?"elfinder-button-menu-item-selected":"")+" elfinder-menu-item-sort-"+a.fm.sortDirect+'"><span class="elfinder-menu-item-sort-dir"/>'+c[1]+"</div>").data("value",c[0]))})}));a.change(function(){a.disabled()?f.removeClass(c+" "+d).addClass(b):(f.removeClass(b),f[a.active()?"addClass":"removeClass"](c))}).change()})};
$.fn.elfinderpanel=function(a){return this.each(function(){var h=$(this).addClass("elfinder-panel ui-state-default ui-corner-all"),b="margin-"+("ltr"==a.direction?"left":"right");a.one("load",function(c){var d=a.getUI("navbar");h.css(b,parseInt(d.outerWidth(!0)));d.bind("resize",function(){h.is(":visible")&&h.css(b,parseInt(d.outerWidth(!0)))})})})};
$.fn.elfindercontextmenu=function(a){return this.each(function(){var h=$(this).addClass("ui-helper-reset ui-widget ui-state-default ui-corner-all elfinder-contextmenu elfinder-contextmenu-"+a.direction).hide().appendTo("body").delegate(".elfinder-contextmenu-item","hover",function(){$(this).toggleClass("ui-state-hover")}),b="ltr"==a.direction?"left":"right",c=$.extend({},a.options.contextmenu),d=function(a,b,c){return $('<div class="elfinder-contextmenu-item"><span class="elfinder-button-icon {icon} elfinder-contextmenu-icon"/><span>{label}</span></div>'.replace("{icon}",
b?"elfinder-button-icon-"+b:"").replace("{label}",a)).click(function(a){a.stopPropagation();a.stopPropagation();c()})},g=function(){h.hide().empty()},f=function(b,e){var f=!1;$.each(c[b]||[],function(b,c){var k,q,u;if("|"==c&&f)h.append('<div class="elfinder-contextmenu-separator"/>'),f=!1;else if((k=a.command(c))&&-1!=k.getstate(e)){if(k.variants){if(!k.variants.length)return;q=d(k.title,k.name,function(){});u=$('<div class="ui-corner-all elfinder-contextmenu-sub"/>').appendTo(q.append('<span class="elfinder-contextmenu-arrow"/>'));
q.addClass("elfinder-contextmenu-group").hover(function(){u.toggle()});$.each(k.variants,function(a,b){u.append($('<div class="elfinder-contextmenu-item"><span>'+b[1]+"</span></div>").click(function(a){a.stopPropagation();g();k.exec(e,b[0])}))})}else q=d(k.title,k.name,function(){g();k.exec(e)});h.append(q);f=!0}})},e=function(a){$.each(a,function(a,b){var c;b.label&&"function"==typeof b.callback&&(c=d(b.label,b.icon,function(){g();b.callback()}),h.append(c))})};a.one("load",function(){a.bind("contextmenu",
function(c){var d=c.data;g();d.type&&d.targets?f(d.type,d.targets):d.raw&&e(d.raw);if(h.children().length){c=d.x;var d=d.y,r=$(window),p=h.outerWidth(),n=h.outerHeight(),s=r.width(),q=r.height(),u=r.scrollTop(),r=r.scrollLeft();c={top:(d+n<q?d:0<d-n?d-n:d)+u,left:(c+p<s?c:c-p)+r,"z-index":100+a.getUI("workzone").zIndex()};h.css(c).show();c={"z-index":c["z-index"]+10};c[b]=parseInt(h.width());h.find(".elfinder-contextmenu-sub").css(c)}}).one("destroy",function(){h.remove()}).bind("disable select",
g).getUI().click(g)})})};
$.fn.elfinderpath=function(a){return this.each(function(){var h=$(this).addClass("elfinder-path").html("&nbsp;").delegate("a","click",function(b){var c=$(this).attr("href").substr(1);b.preventDefault();c!=a.cwd().hash&&a.exec("open",c)}).prependTo(a.getUI("statusbar").show());a.bind("open searchend",function(){var b=[];$.each(a.parents(a.cwd().hash),function(c,d){b.push('<a href="#'+d+'">'+a.escape(a.file(d).name)+"</a>")});h.html(b.join(a.option("separator")))}).bind("search",function(){h.html(a.i18n("searcresult"))})})};
$.fn.elfinderstat=function(a){return this.each(function(){var h=$(this).addClass("elfinder-stat-size"),b=$('<div class="elfinder-stat-selected"/>'),c=a.i18n("size").toLowerCase(),d=a.i18n("items").toLowerCase(),g=a.i18n("selected"),f=function(b,f){var g=0,r=0;$.each(b,function(a,b){f&&b.phash!=f||(g++,r+=parseInt(b.size)||0)});h.html(d+": "+g+", "+c+": "+a.formatSize(r))};a.getUI("statusbar").prepend(h).append(b).show();a.bind("open reload add remove change searchend",function(){f(a.files(),a.cwd().hash)}).search(function(a){f(a.data.files)}).select(function(){var d=
0,f=0,h=a.selectedFiles();1==h.length?(d=h[0].size,b.html(a.escape(h[0].name)+(0<d?", "+a.formatSize(d):""))):($.each(h,function(a,b){f++;d+=parseInt(b.size)||0}),b.html(f?g+": "+f+", "+c+": "+a.formatSize(d):"&nbsp;"))})})};
$.fn.elfinderplaces=function(a,h){return this.each(function(){var b=[],c=a.res("class","navdir"),d=a.res("class","navcollapse"),g=a.res("class","navexpand");a.res("class","hover");var f=a.res("class","treeroot"),e=a.res("tpl","navdir"),k=a.res("tpl","perms"),m=$(a.res("tpl","navspinner")),r=function(a){return a.substr(6)},p=function(){a.storage("places",b.join(","))},n=function(b){return $(e.replace(/\{id\}/,"place-"+b.hash).replace(/\{name\}/,a.escape(b.name)).replace(/\{cssclass\}/,a.perms2class(b)).replace(/\{permissions\}/,
b.read&&b.write?"":k).replace(/\{symlink\}/,""))},s=function(e){var f=n(e);A.children().length&&$.each(A.children(),function(){var a=$(this);if(0>e.name.localeCompare(a.children("."+c).text()))return!f.insertBefore(a)});b.push(e.hash);!f.parent().length&&A.append(f);w.addClass(d);f.draggable({appendTo:"body",revert:!1,helper:function(){var b=$(this);b.children().removeClass("ui-state-hover");return $('<div class="elfinder-place-drag elfinder-'+a.direction+'"/>').append(b.clone()).data("hash",r(b.children(":first").attr("id")))},
start:function(){$(this).hide()},stop:function(a,b){var c=z.offset().top,d=z.offset().left,e=z.width(),f=z.height(),g=a.clientX,k=a.clientY;g>d&&g<d+e&&k>c&&k<k+f?$(this).show():(q(b.helper.data("hash")),p())}})},q=function(a){var c=$.inArray(a,b);-1!==c&&(b.splice(c,1),A.find("#place-"+a).parent().remove(),!A.children().length&&w.removeClass(d+" "+g))},u=n({hash:"root-"+a.namespace,name:a.i18n(h.name,"places"),read:!0,write:!0}),w=u.children("."+c).addClass(f).click(function(){w.is("."+d)&&(z.toggleClass(g),
A.slideToggle(),a.storage("placesState",z.is("."+g)?1:0))}),A=u.children("."+a.res("class","navsubtree")),z=$(this).addClass(a.res("class","tree")+" elfinder-places ui-corner-all").hide().append(u).appendTo(a.getUI("navbar")).delegate("."+c,"hover",function(){$(this).toggleClass("ui-state-hover")}).delegate("."+c,"click",function(b){a.exec("open",$(this).attr("id").substr(6))}).delegate("."+c+":not(."+f+")","contextmenu",function(b){var c=$(this).attr("id").substr(6);b.preventDefault();a.trigger("contextmenu",
{raw:[{label:a.i18n("rmFromPlaces"),icon:"rm",callback:function(){q(c);p()}}],x:b.clientX,y:b.clientY})}).droppable({tolerance:"pointer",accept:".elfinder-cwd-file-wrapper,.elfinder-tree-dir,.elfinder-cwd-file",hoverClass:a.res("class","adroppable"),drop:function(c,d){var e=!0;$.each(d.helper.data("files"),function(c,d){var f=a.file(d);f&&"directory"==f.mime&&-1===$.inArray(f.hash,b)?s(f):e=!1});p();e&&d.helper.hide()}});a.one("load",function(){a.oldAPI||(z.show().parent().show(),b=$.map(a.storage("places").split(","),
function(a){return a||null}),b.length&&(w.prepend(m),a.request({data:{cmd:"info",targets:b},preventDefault:!0}).done(function(c){b=[];$.each(c.files,function(a,b){"directory"==b.mime&&s(b)});p();0<a.storage("placesState")&&w.click()}).always(function(){m.remove()})),a.remove(function(a){$.each(a.data.removed,function(a,b){q(b)});p()}).change(function(a){$.each(a.data.changed,function(a,c){-1!==$.inArray(c.hash,b)&&(q(c.hash),"directory"==c.mime&&s(c))});p()}).bind("sync",function(){b.length&&(w.prepend(m),
a.request({data:{cmd:"info",targets:b},preventDefault:!0}).done(function(a){$.each(a.files||[],function(a,c){-1===$.inArray(c.hash,b)&&q(c.hash)});p()}).always(function(){m.remove()}))}))})})};elFinder.prototype.commands.back=function(){this.alwaysEnabled=!0;this.updateOnSelect=!1;this.shortcuts=[{pattern:"ctrl+left backspace"}];this.getstate=function(){return this.fm.history.canBack()?0:-1};this.exec=function(){return this.fm.history.back()}};
elFinder.prototype.commands.forward=function(){this.updateOnSelect=this.alwaysEnabled=!0;this.shortcuts=[{pattern:"ctrl+right"}];this.getstate=function(){return this.fm.history.canForward()?0:-1};this.exec=function(){return this.fm.history.forward()}};
elFinder.prototype.commands.reload=function(){this.updateOnSelect=this.alwaysEnabled=!0;this.shortcuts=[{pattern:"ctrl+shift+r f5"}];this.getstate=function(){return 0};this.exec=function(){var a=this.fm,h=a.sync(),b=setTimeout(function(){a.notify({type:"reload",cnt:1,hideCnt:!0});h.always(function(){a.notify({type:"reload",cnt:-1})})},a.notifyDelay);return h.always(function(){clearTimeout(b);a.trigger("reload")})}};
elFinder.prototype.commands.up=function(){this.alwaysEnabled=!0;this.updateOnSelect=!1;this.shortcuts=[{pattern:"ctrl+up"}];this.getstate=function(){return this.fm.cwd().phash?0:-1};this.exec=function(){return this.fm.cwd().phash?this.fm.exec("open",this.fm.cwd().phash):$.Deferred().reject()}};
elFinder.prototype.commands.home=function(){this.title="Home";this.alwaysEnabled=!0;this.updateOnSelect=!1;this.shortcuts=[{pattern:"ctrl+home ctrl+shift+up",description:"Home"}];this.getstate=function(){var a=this.fm.root(),h=this.fm.cwd().hash;return a&&h&&a!=h?0:-1};this.exec=function(){return this.fm.exec("open",this.fm.root())}};
elFinder.prototype.commands.copy=function(){this.shortcuts=[{pattern:"ctrl+c ctrl+insert"}];this.getstate=function(a){a=this.files(a);var h=a.length;return h&&$.map(a,function(a){return a.phash&&a.read?a:null}).length==h?0:-1};this.exec=function(a){var h=this.fm,b=$.Deferred().fail(function(a){h.error(a)});$.each(this.files(a),function(a,d){if(!d.read||!d.phash)return!b.reject(["errCopy",d.name,"errPerm"])});return b.isRejected()?b:b.resolve(h.clipboard(this.hashes(a)))}};
elFinder.prototype.commands.cut=function(){this.shortcuts=[{pattern:"ctrl+x shift+insert"}];this.getstate=function(a){a=this.files(a);var h=a.length;return h&&$.map(a,function(a){return a.phash&&a.read&&!a.locked?a:null}).length==h?0:-1};this.exec=function(a){var h=this.fm,b=$.Deferred().fail(function(a){h.error(a)});$.each(this.files(a),function(a,d){if(!d.read||!d.phash)return!b.reject(["errCopy",d.name,"errPerm"]);if(d.locked)return!b.reject(["errLocked",d.name])});return b.isRejected()?b:b.resolve(h.clipboard(this.hashes(a),
!0))}};
elFinder.prototype.commands.paste=function(){this.disableOnSearch=!0;this.updateOnSelect=!1;this.handlers={changeclipboard:function(){this.update()}};this.shortcuts=[{pattern:"ctrl+v shift+insert"}];this.getstate=function(a){if(this._disabled)return-1;if(a){if($.isArray(a)){if(1!=a.length)return-1;a=this.fm.file(a[0])}}else a=this.fm.cwd();return this.fm.clipboard().length&&"directory"==a.mime&&a.write?0:-1};this.exec=function(a){var h=this,b=h.fm;a=a?this.files(a)[0]:b.cwd();var c=b.clipboard(),d=
c.length,g=d?c[0].cut:!1,f=g?"errMove":"errCopy",e=[],k=[],m=$.Deferred().fail(function(a){a&&b.error(a)}),r,p;if(!d||!a||"directory"!=a.mime)return m.reject();if(!a.write)return m.reject([f,c[0].name,"errPerm"]);r=b.parents(a.hash);$.each(c,function(d,h){if(!h.read)return!m.reject([f,c[0].name,"errPerm"]);if(g&&h.locked)return!m.reject(["errLocked",h.name]);if(-1!==$.inArray(h.hash,r))return!m.reject(["errCopyInItself",h.name]);p=b.parents(h.hash);if(-1!==$.inArray(a.hash,p)&&$.map(p,function(c){c=
b.file(c);return c.phash==a.hash&&c.name==h.name?c:null}).length)return!m.reject(["errReplByChild",h.name]);h.phash==a.hash?k.push(h.hash):e.push({hash:h.hash,phash:h.phash,name:h.name})});return m.isRejected()?m:$.when(k.length&&b._commands.duplicate?b.exec("duplicate",k):$.Deferred().resolve(),function(c){var d=$.Deferred(),e=[],f=function(a){var k=c[e[a]],h=a==e.length-1;k&&b.confirm({title:b.i18n(g?"moveFiles":"copyFiles"),text:b.i18n(["errExists",k.name,"confirmRepl"]),all:!h,accept:{label:"btnYes",
callback:function(b){h||b?m(c):f(++a)}},reject:{label:"btnNo",callback:function(b){var d;if(b)for(d=e.length;a<d--;)c[e[d]].remove=!0;else c[e[a]].remove=!0;h||b?m(c):f(++a)}},cancel:{label:"btnCancel",callback:function(){d.resolve()}}})},k=function(a){for(var b=[],d=c.length;d--;)-1!==$.inArray(c[d].name,a)&&b.unshift(d);e=b;e.length?f(0):m(c)},m=function(c){c=$.map(c,function(a){return a.remove?null:a});var e=c.length,f;if(!e)return d.resolve();f=c[0].phash;c=$.map(c,function(a){return a.hash});
b.request({data:{cmd:"paste",dst:a.hash,targets:c,cut:g?1:0,src:f},notify:{type:g?"move":"copy",cnt:e}}).always(function(){b.unlockfiles({files:c})})};if(h._disabled||!c.length)return d.resolve();b.oldAPI?m(c):b.option("copyOverwrite")?a.hash==b.cwd().hash?k($.map(b.files(),function(b){return b.phash==a.hash?b.name:null})):b.request({data:{cmd:"ls",target:a.hash},notify:{type:"prepare",cnt:1,hideCnt:!0},preventFail:!0}).always(function(a){k(a.list||[])}):m(c);return d}(e)).always(function(){g&&b.clipboard([])})}};
elFinder.prototype.commands.open=function(){this.alwaysEnabled=!0;this._handlers={dblclick:function(a){a.preventDefault();this.exec()},"select enable disable reload":function(a){this.update("disable"==a.type?-1:void 0)}};this.shortcuts=[{pattern:"ctrl+down numpad_enter"+("mac"!=this.fm.OS&&" enter")}];this.getstate=function(a){a=this.files(a);var h=a.length;return 1==h?0:h?$.map(a,function(a){return"directory"==a.mime?null:a}).length==h?0:-1:-1};this.exec=function(a){var h=this.fm,b=$.Deferred().fail(function(a){a&&
h.error(a)}),c=this.files(a),d=c.length,g,f,e;if(!d)return b.reject();if(1==d&&(g=c[0])&&"directory"==g.mime)return g&&!g.read?b.reject(["errOpen",g.name,"errPerm"]):h.request({data:{cmd:"open",target:g.thash||g.hash},notify:{type:"open",cnt:1,hideCnt:!0},syncOnFail:!0});c=$.map(c,function(a){return"directory"!=a.mime?a:null});if(d!=c.length)return b.reject();for(d=c.length;d--;){g=c[d];if(!g.read)return b.reject(["errOpen",g.name,"errPerm"]);(f=h.url(g.hash))||(f=h.options.url,f=f+(-1===f.indexOf("?")?
"?":"&")+(h.oldAPI?"cmd=open&current="+g.phash:"cmd=file")+"&target="+g.hash);e="";g.dim&&(g=g.dim.split("x"),e="width="+(parseInt(g[0])+20)+",height="+(parseInt(g[1])+20));if(!window.open(f,"_blank",e+",top=50,left=50,scrollbars=yes,resizable=yes"))return b.reject("errPopup")}return b.resolve(a)}};
elFinder.prototype.commands.rm=function(){this.shortcuts=[{pattern:"delete ctrl+backspace"}];this.getstate=function(a){var h=this.fm;a=a||h.selected();return!this._disabled&&a.length&&$.map(a,function(a){var c=h.file(a);return c&&c.phash&&!c.locked?a:null}).length==a.length?0:-1};this.exec=function(a){var h=this.fm,b=$.Deferred().fail(function(a){a&&h.error(a)}),c=this.files(a),d=c.length,g=h.cwd().hash,f=!1;if(!d||this._disabled)return b.reject();$.each(c,function(a,c){if(!c.phash)return!b.reject(["errRm",
c.name,"errPerm"]);if(c.locked)return!b.reject(["errLocked",c.name]);c.hash==g&&(f=h.root(c.hash))});b.isRejected()||(c=this.hashes(a),h.confirm({title:this.title,text:"confirmRm",accept:{label:"btnRm",callback:function(){h.lockfiles({files:c});h.request({data:{cmd:"rm",targets:c},notify:{type:"rm",cnt:d},preventFail:!0}).fail(function(a){b.reject(a)}).done(function(a){b.done(a);f&&h.exec("open",f)}).always(function(){h.unlockfiles({files:c})})}},cancel:{label:"btnCancel",callback:function(){b.reject()}}}));
return b}};
elFinder.prototype.commands.info=function(){var a=this.fm,h={calc:a.i18n("calc"),size:a.i18n("size"),unknown:a.i18n("unknown"),path:a.i18n("path"),aliasfor:a.i18n("aliasfor"),modify:a.i18n("modify"),perms:a.i18n("perms"),locked:a.i18n("locked"),dim:a.i18n("dim"),kind:a.i18n("kind"),files:a.i18n("files"),folders:a.i18n("folders"),items:a.i18n("items"),yes:a.i18n("yes"),no:a.i18n("no"),link:a.i18n("link")};this.tpl={main:'<div class="ui-helper-clearfix elfinder-info-title"><span class="elfinder-cwd-icon {class} ui-corner-all"/>{title}</div><table class="elfinder-info-tb">{content}</table>',itemTitle:'<strong>{name}</strong><span class="elfinder-info-kind">{kind}</span>',
groupTitle:"<strong>{items}: {num}</strong>",row:"<tr><td>{label} : </td><td>{value}</td></tr>",spinner:'<span>{text}</span> <span class="elfinder-info-spinner"/>'};this.alwaysEnabled=!0;this.updateOnSelect=!1;this.shortcuts=[{pattern:"ctrl+i"}];this.init=function(){$.each(h,function(b,c){h[b]=a.i18n(c)})};this.getstate=function(){return 0};this.exec=function(a){var c=this.fm,d=this.tpl,g=d.row,f=this.files(a),e=f.length;a=[];var k=d.main,m={title:this.title,width:"auto",close:function(){$(this).elfinderdialog("destroy")}},
r=[],p=function(a){s.find(".elfinder-info-spinner").parent().text(a)},n=c.namespace+"-info-"+$.map(f,function(a){return a.hash}).join("-"),s=c.getUI().find("#"+n),q,u,w,A;if(!e)return $.Deferred().reject();if(s.length)return s.elfinderdialog("toTop"),$.Deferred().resolve();1==e?(f=f[0],k=k.replace("{class}",c.mime2class(f.mime)),w=d.itemTitle.replace("{name}",f.name).replace("{kind}",c.mime2kind(f)),f.tmb&&(u=c.option("tmbUrl")+f.tmb),f.read?"directory"!=f.mime||f.alias?q=c.formatSize(f.size):(q=
d.spinner.replace("{text}",h.calc),r.push(f.hash)):q=h.unknown,a.push(g.replace("{label}",h.size).replace("{value}",q)),f.alias&&a.push(g.replace("{label}",h.aliasfor).replace("{value}",f.alias)),a.push(g.replace("{label}",h.path).replace("{value}",c.escape(c.path(f.hash)))),f.read&&a.push(g.replace("{label}",h.link).replace("{value}",'<a href="'+c.url(f.hash)+'" target="_blank">'+f.name+"</a>")),f.dim?a.push(g.replace("{label}",h.dim).replace("{value}",f.dim)):-1!==f.mime.indexOf("image")&&(f.width&&
f.height?a.push(g.replace("{label}",h.dim).replace("{value}",f.width+"x"+f.height)):(a.push(g.replace("{label}",h.dim).replace("{value}",d.spinner.replace("{text}",h.calc))),c.request({data:{cmd:"dim",target:f.hash},preventDefault:!0}).fail(function(){p(h.unknown)}).done(function(a){p(a.dim||h.unknown)}))),a.push(g.replace("{label}",h.modify).replace("{value}",c.formatDate(f))),a.push(g.replace("{label}",h.perms).replace("{value}",c.formatPermissions(f))),a.push(g.replace("{label}",h.locked).replace("{value}",
f.locked?h.yes:h.no))):(k=k.replace("{class}","elfinder-cwd-icon-group"),w=d.groupTitle.replace("{items}",h.items).replace("{num}",e),(A=$.map(f,function(a){return"directory"==a.mime?1:null}).length)?(a.push(g.replace("{label}",h.kind).replace("{value}",A==e?h.folders:h.folders+" "+A+", "+h.files+" "+(e-A))),a.push(g.replace("{label}",h.size).replace("{value}",d.spinner.replace("{text}",h.calc))),r=$.map(f,function(a){return a.hash})):(q=0,$.each(f,function(a,b){var c=parseInt(b.size);q=0<=c&&0<=
q?q+c:"unknown"}),a.push(g.replace("{label}",h.kind).replace("{value}",h.files)),a.push(g.replace("{label}",h.size).replace("{value}",c.formatSize(q)))));k=k.replace("{title}",w).replace("{content}",a.join(""));s=c.dialog(k,m);s.attr("id",n);u&&$("<img/>").load(function(){s.find(".elfinder-cwd-icon").css("background",'url("'+u+'") center center no-repeat')}).attr("src",u);r.length&&c.request({data:{cmd:"size",targets:r},preventDefault:!0}).fail(function(){p(h.unknown)}).done(function(a){var b=parseInt(a.size);
c.log(a.size);p(0<=b?c.formatSize(b):h.unknown)})}};
elFinder.prototype.commands.duplicate=function(){var a=this.fm;this.getstate=function(h){h=this.files(h);var b=h.length;return!this._disabled&&b&&a.cwd().write&&$.map(h,function(a){return a.phash&&a.read?a:null}).length==b?0:-1};this.exec=function(a){var b=this.fm,c=this.files(a),d=c.length,g=$.Deferred().fail(function(a){a&&b.error(a)});if(!d||this._disabled)return g.reject();$.each(c,function(a,c){if(!c.read||!b.file(c.phash).write)return!g.reject(["errCopy",c.name,"errPerm"])});return g.isRejected()?
g:b.request({data:{cmd:"duplicate",targets:this.hashes(a)},notify:{type:"copy",cnt:d}})}};
elFinder.prototype.commands.rename=function(){this.shortcuts=[{pattern:"f2"+("mac"==this.fm.OS?" enter":"")}];this.getstate=function(){var a=this.fm.selectedFiles();return this._disabled||1!=a.length||!a[0].phash||a[0].locked?-1:0};this.exec=function(){var a=this.fm,h=a.getUI("cwd"),b=a.selected(),c=b.length,d=a.file(b.shift()),g=$.Deferred().fail(function(b){var c=f.parent(),e=a.escape(d.name);c.length?(f.remove(),c.html(e)):(h.find("#"+d.hash).find(".elfinder-cwd-filename").html(e),setTimeout(function(){h.find("#"+
d.hash).click()},50));b&&a.error(b)}).always(function(){a.enable()}),f=$('<input type="text"/>').keydown(function(a){a.stopPropagation();a.stopImmediatePropagation();a.keyCode==$.ui.keyCode.ESCAPE?g.reject():a.keyCode==$.ui.keyCode.ENTER&&f.blur()}).mousedown(function(a){a.stopPropagation()}).dblclick(function(a){a.stopPropagation();a.preventDefault()}).blur(function(){var b=$.trim(f.val()),c=f.parent();if(c.length){f[0].setSelectionRange&&f[0].setSelectionRange(0,0);if(b==d.name)return g.reject();
if(!b)return g.reject("errInvName");if(a.fileByName(b,d.phash))return g.reject(["errExists",b]);c.html(a.escape(b));a.lockfiles({files:[d.hash]});a.request({data:{cmd:"rename",target:d.hash,name:b},notify:{type:"rename",cnt:1}}).fail(function(b){g.reject();a.sync()}).done(function(a){g.resolve(a)}).always(function(){a.unlockfiles({files:[d.hash]})})}}),b=h.find("#"+d.hash).find(".elfinder-cwd-filename").empty().append(f.val(d.name)),e=f.val().replace(/\.((tar\.(gz|bz|bz2|z|lzo))|cpio\.gz|ps\.gz|xcf\.(gz|bz2)|[a-z0-9]{1,4})$/ig,
"");if(this.disabled())return g.reject();if(!d||1<c||!b.length)return g.reject("errCmdParams",this.title);if(d.locked)return g.reject(["errLocked",d.name]);a.one("select",function(){f.parent().length&&d&&-1===$.inArray(d.hash,a.selected())&&f.blur()});f.select().focus();f[0].setSelectionRange&&f[0].setSelectionRange(0,e.length);return g}};
elFinder.prototype.commands.help=function(){var a=this.fm,h=this,b=/\{url\}/,c=/\{link\}/,d=/\{author\}/,g=/\{work\}/,f=['<div class="ui-tabs ui-widget ui-widget-content ui-corner-all elfinder-help">','<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">'],e=function(){var b=a.shortcuts();f.push('<div id="shortcuts" class="ui-tabs-panel ui-widget-content ui-corner-bottom">');b.length?(f.push('<div class="ui-widget-content elfinder-help-shortcuts">'),$.each(b,
function(a,b){f.push('<div class="elfinder-help-shortcut"><div class="elfinder-help-shortcut-pattern">{pattern}</div> {descrip}</div>'.replace(/\{pattern\}/,b[0]).replace(/\{descrip\}/,b[1]))}),f.push("</div>")):f.push('<div class="elfinder-help-disabled">'+a.i18n("shortcutsof")+"</div>");f.push("</div>")},k;this.alwaysEnabled=!0;this.updateOnSelect=!1;this.state=0;this.shortcuts=[{pattern:"f1",description:this.title}];setTimeout(function(){var m=h.options.view||["about","shortcuts","help"];$.each(m,
function(b,c){f.push('<li class="ui-state-default ui-corner-top"><a href="#{id}">{title}</a></li>'.replace(/\{id\}/,c).replace(/\{title\}/,a.i18n(c)))});f.push("</ul>");-1!==$.inArray("about",m)&&(f.push('<div id="about" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="elfinder-help-logo"/>'),f.push("<h3>elFinder</h3>"),f.push('<div class="ui-priority-primary">'+a.i18n("webfm")+"</div>"),f.push('<div class="ui-priority-secondary">'+a.i18n("ver")+": "+a.version+", "+a.i18n("protocol")+
": "+a.api+"</div>"),f.push('<div class="ui-priority-secondary">jQuery/jQuery UI: '+$().jquery+"/"+$.ui.version+"</div>"),f.push('<div class="elfinder-help-separator"/>'),f.push('<div class="elfinder-help-link"> <a href="{url}">{link}</a></div>'.replace(b,"http://elfinder.org/").replace(c,a.i18n("homepage"))),f.push('<div class="elfinder-help-link"> <a href="{url}">{link}</a></div>'.replace(b,"https://github.com/Studio-42/elFinder/wiki").replace(c,a.i18n("docs"))),f.push('<div class="elfinder-help-link"> <a href="{url}">{link}</a></div>'.replace(b,
"https://github.com/Studio-42/elFinder").replace(c,a.i18n("github"))),f.push('<div class="elfinder-help-link"> <a href="{url}">{link}</a></div>'.replace(b,"http://twitter.com/elrte_elfinder").replace(c,a.i18n("twitter"))),f.push('<div class="elfinder-help-separator"/>'),f.push('<div class="ui-priority-primary">'+a.i18n("team")+"</div>"),f.push('<div class="elfinder-help-team"><div>{author}</div>{work}</div>'.replace(d,'Dmitry "dio" Levashov &lt;dio@std42.ru&gt;').replace(g,a.i18n("chiefdev"))),f.push('<div class="elfinder-help-team"><div>{author}</div>{work}</div>'.replace(d,
"Troex Nevelin &lt;troex@fury.scancode.ru&gt;").replace(g,a.i18n("maintainer"))),f.push('<div class="elfinder-help-team"><div>{author}</div>{work}</div>'.replace(d,"Alexey Sukhotin &lt;strogg@yandex.ru&gt;").replace(g,a.i18n("contributor"))),f.push('<div class="elfinder-help-team"><div>{author}</div>{work}</div>'.replace(d,"Naoki Sawada &lt;hypweb@gmail.com&gt;").replace(g,a.i18n("contributor"))),a.i18[a.lang].translator&&f.push('<div class="elfinder-help-team"><div>{author}</div>{work}</div>'.replace(d,
a.i18[a.lang].translator).replace(g,a.i18n("translator")+" ("+a.i18[a.lang].language+")")),f.push('<div class="elfinder-help-separator"/>'),f.push('<div class="elfinder-help-license">'+a.i18n("icons")+': <a href="http://pixelmixer.ru/" target="_blank">Pixelmixer</a>, <a href="http://p.yusukekamiyamane.com" target="_blank">Fugue</a></div>'),f.push('<div class="elfinder-help-separator"/>'),f.push('<div class="elfinder-help-license">Licence: BSD Licence</div>'),f.push('<div class="elfinder-help-license">Copyright \u00a9 2009-2011, Studio 42</div>'),
f.push('<div class="elfinder-help-license">\u201e \u2026'+a.i18n("dontforget")+" \u201d</div>"),f.push("</div>"));-1!==$.inArray("shortcuts",m)&&e();-1!==$.inArray("help",m)&&(f.push('<div id="help" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),f.push('<a href="http://elfinder.org/forum/" target="_blank" class="elfinder-dont-panic"><span>DON\'T PANIC</span></a>'),f.push("</div>"));f.push("</div>");k=$(f.join(""));k.find(".ui-tabs-nav li").hover(function(){$(this).toggleClass("ui-state-hover")}).children().click(function(a){var b=
$(this);a.preventDefault();a.stopPropagation();b.is(".ui-tabs-selected")||(b.parent().addClass("ui-tabs-selected ui-state-active").siblings().removeClass("ui-tabs-selected").removeClass("ui-state-active"),k.find(".ui-tabs-panel").hide().filter(b.attr("href")).show())}).filter(":first").click()},200);this.getstate=function(){return 0};this.exec=function(){this.dialog||(this.dialog=this.fm.dialog(k,{title:this.title,width:530,autoOpen:!1,destroyOnClose:!1}));this.dialog.elfinderdialog("open").find(".ui-tabs-nav li a:first").click()}};
elFinder.prototype.commands.getfile=function(){var a=this,h=this.fm,b=function(b){var d=a.options;b=$.map(b,function(a){return"directory"!=a.mime||d.folders?a:null});return d.multiple||1==b.length?b:[]};this.alwaysEnabled=!0;this.callback=h.options.getFileCallback;this._disabled="function"==typeof this.callback;this.getstate=function(a){a=this.files(a);var d=a.length;return this.callback&&d&&b(a).length==d?0:-1};this.exec=function(b){var d=this.fm,g=this.options,f=this.files(b);b=f.length;var e=d.option("url"),
k=d.option("tmbUrl"),h=$.Deferred().done(function(b){d.trigger("getfile",{files:b});a.callback(b,d);"close"==g.oncomplete?d.hide():"destroy"==g.oncomplete&&d.destroy()}),r=function(a){return g.onlyURL?g.multiple?$.map(f,function(a){return a.url}):f[0].url:g.multiple?f:f[0]},p=[],n,s,q;if(-1==this.getstate())return h.reject();for(n=0;n<b;n++){s=f[n];if("directory"==s.mime&&!g.folders)return h.reject();s.baseUrl=e;s.url=d.url(s.hash);s.path=d.path(s.hash);s.tmb&&1!=s.tmb&&(s.tmb=k+s.tmb);s.width||s.height||
(s.dim?(q=s.dim.split("x"),s.width=q[0],s.height=q[1]):-1!==s.mime.indexOf("image")&&p.push(d.request({data:{cmd:"dim",target:s.hash},preventDefault:!0}).done($.proxy(function(a){a.dim&&(q=a.dim.split("x"),this.width=q[0],this.height=q[1]);this.dim=a.dim},f[n]))))}return p.length?($.when.apply(null,p).always(function(){h.resolve(r(f))}),h):h.resolve(r(f))}};
elFinder.prototype.commands.mkdir=function(){this.disableOnSearch=!0;this.updateOnSelect=!1;this.mime="directory";this.prefix="untitled folder";this.exec=$.proxy(this.fm.res("mixin","make"),this);this.shortcuts=[{pattern:"ctrl+shift+n"}];this.getstate=function(){return!this._disabled&&this.fm.cwd().write?0:-1}};
elFinder.prototype.commands.mkfile=function(){this.disableOnSearch=!0;this.updateOnSelect=!1;this.mime="text/plain";this.prefix="untitled file.txt";this.exec=$.proxy(this.fm.res("mixin","make"),this);this.getstate=function(){return!this._disabled&&this.fm.cwd().write?0:-1}};
elFinder.prototype.commands.upload=function(){var a=this.fm.res("class","hover");this.disableOnSearch=!0;this.updateOnSelect=!1;this.shortcuts=[{pattern:"ctrl+u"}];this.getstate=function(){return!this._disabled&&this.fm.cwd().write?0:-1};this.exec=function(h){var b=this.fm,c=function(a){g.elfinderdialog("close");b.upload(a).fail(function(a){d.reject(a)}).done(function(a){d.resolve(a)})},d,g,f,e,k;if(this.disabled())return $.Deferred().reject();if(h&&(h.input||h.files))return b.upload(h);d=$.Deferred();
f=$('<input type="file" multiple="true"/>').change(function(){c({input:f[0]})});e=$('<div class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">'+b.i18n("selectForUpload")+"</span></div>").append($("<form/>").append(f)).hover(function(){e.toggleClass(a)});g=$('<div class="elfinder-upload-dialog-wrapper"/>').append(e);b.dragUpload&&(k=$('<div class="ui-corner-all elfinder-upload-dropbox">'+b.i18n("dropFiles")+"</div>").prependTo(g).after('<div class="elfinder-upload-dialog-or">'+
b.i18n("or")+"</div>")[0],k.addEventListener("dragenter",function(b){b.stopPropagation();b.preventDefault();$(k).addClass(a)},!1),k.addEventListener("dragleave",function(b){b.stopPropagation();b.preventDefault();$(k).removeClass(a)},!1),k.addEventListener("dragover",function(a){a.stopPropagation();a.preventDefault()},!1),k.addEventListener("drop",function(a){a.stopPropagation();a.preventDefault();c({files:a.dataTransfer.files})},!1));b.dialog(g,{title:this.title,modal:!0,resizable:!1,destroyOnClose:!0});
return d}};
elFinder.prototype.commands.download=function(){var a=this,h=function(b){return $.map(a.files(b),function(a){return"directory"==a.mime?null:a})};this.shortcuts=[{pattern:"shift+enter"}];this.getstate=function(){var a=this.fm.selected(),c=a.length;return this._disabled||!c||$.browser.msie&&1!=c||c!=h(a).length?-1:0};this.exec=function(a){var c=this.fm,d=c.options.url,g=h(a),f=$.Deferred(),e="",k="",m;if(this.disabled())return f.reject();if(c.oldAPI)return c.error("errCmdNoSupport"),f.reject();$.each(c.options.customData||
{},function(a,b){k+="&"+a+"="+b});d+=-1===d.indexOf("?")?"?":"&";for(m=0;m<g.length;m++)e+='<iframe class="downloader" id="downloader-'+g[m].hash+'" style="display:none" src="'+d+"cmd=file&target="+g[m].hash+"&download=1"+k+'"/>';$(e).appendTo("body").ready(function(){setTimeout(function(){$(e).each(function(){$("#"+$(this).attr("id")).remove()})},$.browser.mozilla?2E4+1E4*m:1E3)});c.trigger("download",{files:g});return f.resolve(a)}};
elFinder.prototype.commands.edit=function(){var a=this,h=this.fm;h.res("mimes","text");var b=function(a){return $.map(a,function(a){return"directory"==a.mime?null:a})},c=function(b,c,d){var k=$.Deferred(),m=$('<textarea class="elfinder-file-edit" rows="20" id="'+b+'-ta">'+h.escape(d)+"</textarea>"),r=function(){m.editor&&m.editor.save(m[0],m.editor.instance);k.resolve(m.getContent());m.elfinderdialog("close")},p=function(){k.reject();m.elfinderdialog("close")};c={title:c.name,width:a.options.dialogWidth||
600,buttons:{},close:function(){m.editor&&m.editor.close(m[0],m.editor.instance);$(this).elfinderdialog("destroy")},open:function(){h.disable();m.focus();m[0].setSelectionRange&&m[0].setSelectionRange(0,0);m.editor&&m.editor.load(m[0])}};m.getContent=function(){return m.val()};$.each(a.options.editors||[],function(a,b){if("function"==typeof b.load&&"function"==typeof b.save)return m.editor={load:b.load,save:b.save,close:"function"==typeof b.close?b.close:function(){},instance:null},!1});m.editor||
m.keydown(function(a){var b=a.keyCode,c,d;a.stopPropagation();9==b&&(a.preventDefault(),this.setSelectionRange&&(c=this.value,d=this.selectionStart,this.value=c.substr(0,d)+"\t"+c.substr(this.selectionEnd),d+=1,this.setSelectionRange(d,d)));if(a.ctrlKey||a.metaKey){if(81==b||87==b)a.preventDefault(),p();83==b&&(a.preventDefault(),r())}});c.buttons[h.i18n("btnSave")]=r;c.buttons[h.i18n("btnCancel")]=p;h.dialog(m,c).attr("id",b);return k.promise()},d=function(a){var b=a.hash,d=$.Deferred();h.url(b);
var k="edit-"+h.namespace+"-"+a.hash,m=h.getUI().find("#"+k);if(m.length)return m.elfinderdialog("toTop"),d.resolve();if(!a.read||!a.write)return m=["errOpen",a.name,"errPerm"],h.error(m),d.reject(m);h.request({data:{cmd:"get",target:b},notify:{type:"openfile",cnt:1},syncOnFail:!0}).done(function(m){c(k,a,m.content).done(function(a){h.request({options:{type:"post"},data:{cmd:"put",target:b,content:a},notify:{type:"save",cnt:1},syncOnFail:!0}).fail(function(a){d.reject(a)}).done(function(a){a.changed&&
a.changed.length&&h.change(a);d.resolve(a)})})}).fail(function(a){d.reject(a)});return d.promise()};this.shortcuts=[{pattern:"ctrl+e"}];this.init=function(){this.onlyMimes=this.options.mimes||[]};this.getstate=function(a){a=this.files(a);var c=a.length;return!this._disabled&&c&&b(a).length==c?0:-1};this.exec=function(a){a=b(this.files(a));var c=[],e;if(this.disabled())return $.Deferred().reject();for(;e=a.shift();)c.push(d(e));return c.length?$.when.apply(null,c):$.Deferred().reject()}};
elFinder.prototype.commands.quicklook=function(){var a=this,h=a.fm,b=0,c=function(a){$(document).trigger($.Event("keydown",{keyCode:a,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1}))},d=function(a){return{opacity:0,width:20,height:"list"==h.view?1:20,top:a.offset().top+"px",left:a.offset().left+"px"}},g=function(){var a=$(window);return{opacity:1,width:e,height:k,top:parseInt((a.height()-k)/2+a.scrollTop()),left:parseInt((a.width()-e)/2+a.scrollLeft())}},f=function(a){var b=document.createElement(a.substr(0,
a.indexOf("/")));return(a=b.canPlayType&&b.canPlayType(a))&&""!==a&&"no"!=a},e,k,m,r,p=$('<div class="elfinder-quicklook-title"/>'),n=$("<div/>"),s=$('<div class="elfinder-quicklook-info"/>'),q=$('<div class="elfinder-quicklook-navbar-icon elfinder-quicklook-navbar-icon-fullscreen"/>').mousedown(function(b){var c=a.window,d=c.is(".elfinder-quicklook-fullscreen"),e="scroll."+h.namespace,f=$(window);b.stopPropagation();d?(c.css(c.data("position")).unbind("mousemove"),f.unbind(e).trigger(a.resize).unbind(a.resize),
u.unbind("mouseenter").unbind("mousemove")):(c.data("position",{left:c.css("left"),top:c.css("top"),width:c.width(),height:c.height()}).css({width:"100%",height:"100%"}),$(window).bind(e,function(){c.css({left:parseInt($(window).scrollLeft())+"px",top:parseInt($(window).scrollTop())+"px"})}).bind(a.resize,function(b){a.preview.trigger("changesize")}).trigger(e).trigger(a.resize),c.bind("mousemove",function(a){u.stop(!0,!0).show().delay(3E3).fadeOut("slow")}).mousemove(),u.mouseenter(function(){u.stop(!0,
!0).show()}).mousemove(function(a){a.stopPropagation()}));u.attr("style","").draggable(d?"destroy":{});c.toggleClass("elfinder-quicklook-fullscreen");$(this).toggleClass("elfinder-quicklook-navbar-icon-fullscreen-off");$.fn.resizable&&m.add(c).resizable(d?"enable":"disable").removeClass("ui-state-disabled")}),u=$('<div class="elfinder-quicklook-navbar"/>').append($('<div class="elfinder-quicklook-navbar-icon elfinder-quicklook-navbar-icon-prev"/>').mousedown(function(){c(37)})).append(q).append($('<div class="elfinder-quicklook-navbar-icon elfinder-quicklook-navbar-icon-next"/>').mousedown(function(){c(39)})).append('<div class="elfinder-quicklook-navbar-separator"/>').append($('<div class="elfinder-quicklook-navbar-icon elfinder-quicklook-navbar-icon-close"/>').mousedown(function(){a.window.trigger("close")}));
this.resize="resize."+h.namespace;this.info=$('<div class="elfinder-quicklook-info-wrapper"/>').append(n).append(s);this.preview=$('<div class="elfinder-quicklook-preview ui-helper-clearfix"/>').bind("change",function(b){a.info.attr("style","").hide();n.removeAttr("class").attr("style","");s.html("")}).bind("update",function(b){var c=a.fm,d=b.file,e;d?(!d.read&&b.stopImmediatePropagation(),a.window.data("hash",d.hash),a.preview.unbind("changesize").trigger("change").children().remove(),p.html(c.escape(d.name)),
s.html('<div class="elfinder-quicklook-info-data">{value}</div>'.replace(/\{value\}/,d.name)+'<div class="elfinder-quicklook-info-data">{value}</div>'.replace(/\{value\}/,c.mime2kind(d))+("directory"==d.mime?"":'<div class="elfinder-quicklook-info-data">{value}</div>'.replace(/\{value\}/,c.formatSize(d.size)))+'<div class="elfinder-quicklook-info-data">{value}</div>'.replace(/\{value\}/,c.i18n("modify")+": "+c.formatDate(d.date))),n.addClass("elfinder-cwd-icon ui-corner-all "+c.mime2class(d.mime)),
d.tmb&&$("<img/>").hide().appendTo(a.preview).load(function(){n.css("background",'url("'+e+'") center center no-repeat');$(this).remove()}).attr("src",e=c.tmb(d.hash)),a.info.delay(100).fadeIn(10)):b.stopImmediatePropagation()});this.window=$('<div class="ui-helper-reset ui-widget elfinder-quicklook" style="position:absolute"/>').click(function(a){a.stopPropagation()}).append($('<div class="elfinder-quicklook-titlebar"/>').append(p).append($('<span class="ui-icon ui-icon-circle-close"/>').mousedown(function(b){b.stopPropagation();
a.window.trigger("close")}))).append(this.preview.add(u)).append(a.info.hide()).draggable({handle:"div.elfinder-quicklook-titlebar"}).bind("open",function(c){c=a.window;var e=a.value,f;a.closed()&&e&&(f=r.find("#"+e.hash)).length&&(b=1,f.trigger("scrolltoview"),c.css(d(f)).show().animate(g(),550,function(){b=2;a.update(1,a.value)}))}).bind("close",function(c){var e=a.window,f=a.preview.trigger("change");c=r.find("#"+e.data("hash"));var g=function(){b=0;e.hide();f.children().remove();a.update(0,a.value)};
a.opened()&&(b=1,e.is(".elfinder-quicklook-fullscreen")&&q.mousedown(),c.length?e.animate(d(c),500,g):g())});this.alwaysEnabled=!0;this.value=null;this.handlers={select:function(){this.update(void 0,this.fm.selectedFiles()[0])},error:function(){a.window.is(":visible")&&a.window.data("hash","").trigger("close")},"searchshow searchhide":function(){this.opened()&&this.window.trigger("close")}};this.shortcuts=[{pattern:"space"}];this.support={audio:{ogg:f('audio/ogg; codecs="vorbis"'),mp3:f("audio/mpeg;"),
wav:f('audio/wav; codecs="1"'),m4a:f("audio/x-m4a;")||f("audio/aac;")},video:{ogg:f('video/ogg; codecs="theora"'),webm:f('video/webm; codecs="vp8, vorbis"'),mp4:f('video/mp4; codecs="avc1.42E01E"')||f('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}};this.closed=function(){return 0==b};this.opened=function(){return 2==b};this.init=function(){var b=this.options,c=this.window,d=this.preview;e=0<b.width?parseInt(b.width):450;k=0<b.height?parseInt(b.height):300;h.one("load",function(){m=h.getUI();r=h.getUI("cwd");
c.appendTo("body").zIndex(100+m.zIndex());$(document).keydown(function(b){27==b.keyCode&&a.opened()&&c.trigger("close")});$.fn.resizable&&c.resizable({handles:"se",minWidth:350,minHeight:120,resize:function(){d.trigger("changesize")}});a.change(function(){a.opened()&&(a.value?d.trigger($.Event("update",{file:a.value})):c.trigger("close"))});$.each(h.commands.quicklook.plugins||[],function(b,c){"function"==typeof c&&new c(a)});d.bind("update",function(){a.info.show()})})};this.getstate=function(){return 1==
this.fm.selected().length?2==b?1:0:-1};this.exec=function(){this.enabled()&&this.window.trigger(this.opened()?"close":"open")};this.hideinfo=function(){this.info.stop(!0).hide()}};
elFinder.prototype.commands.quicklook.plugins=[function(a){var h=["image/jpeg","image/png","image/gif"],b=a.preview;$.each(navigator.mimeTypes,function(a,b){var g=b.type;0===g.indexOf("image/")&&$.inArray(g,h)&&h.push(g)});b.bind("update",function(c){var d=c.file,g;-1!==$.inArray(d.mime,h)&&(c.stopImmediatePropagation(),g=$("<img/>").hide().appendTo(b).load(function(){setTimeout(function(){var c=(g.width()/g.height()).toFixed(2);b.bind("changesize",function(){var a=parseInt(b.width()),d=parseInt(b.height()),
h;c<(a/d).toFixed(2)?(h=d,a=Math.floor(h*c)):h=Math.floor(a/c);g.width(a).height(h).css("margin-top",h<d?Math.floor((d-h)/2):0)}).trigger("changesize");a.hideinfo();g.fadeIn(100)},1)}).attr("src",a.fm.url(d.hash)))})},function(a){var h=["text/html","application/xhtml+xml"],b=a.preview,c=a.fm;b.bind("update",function(d){var g=d.file,f;-1!==$.inArray(g.mime,h)&&(d.stopImmediatePropagation(),b.one("change",function(){f.isResolved()||f.isRejected()||f.reject()}),f=c.request({data:{cmd:"get",target:g.hash,
current:g.phash},preventDefault:!0}).done(function(c){a.hideinfo();doc=$('<iframe class="elfinder-quicklook-preview-html"/>').appendTo(b)[0].contentWindow.document;doc.open();doc.write(c.content);doc.close()}))})},function(a){var h=a.fm,b=h.res("mimes","text"),c=a.preview;c.bind("update",function(d){var g=d.file,f=g.mime,e;if(0===f.indexOf("text/")||-1!==$.inArray(f,b))d.stopImmediatePropagation(),c.one("change",function(){e.isResolved()||e.isRejected()||e.reject()}),e=h.request({data:{cmd:"get",
target:g.hash},preventDefault:!0}).done(function(b){a.hideinfo();$('<div class="elfinder-quicklook-preview-text-wrapper"><pre class="elfinder-quicklook-preview-text">'+h.escape(b.content)+"</pre></div>").appendTo(c)})})},function(a){var h=a.fm,b=a.preview,c=!1;$.browser.safari&&-1!=navigator.platform.indexOf("Mac")||$.browser.msie?c=!0:$.each(navigator.plugins,function(a,b){$.each(b,function(a,b){if("application/pdf"==b.type)return!(c=!0)})});c&&b.bind("update",function(c){var g=c.file,f;"application/pdf"==
g.mime&&(c.stopImmediatePropagation(),b.one("change",function(){f.unbind("load").remove()}),f=$('<iframe class="elfinder-quicklook-preview-pdf"/>').hide().appendTo(b).load(function(){a.hideinfo();f.show()}).attr("src",h.url(g.hash)))})},function(a){var h=a.fm,b=a.preview,c=!1;$.each(navigator.plugins,function(a,b){$.each(b,function(a,b){if("application/x-shockwave-flash"==b.type)return!(c=!0)})});c&&b.bind("update",function(c){var g=c.file;"application/x-shockwave-flash"==g.mime&&(c.stopImmediatePropagation(),
a.hideinfo(),b.append($('<embed class="elfinder-quicklook-preview-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+h.url(g.hash)+'" quality="high" type="application/x-shockwave-flash" />')))})},function(a){var h=a.preview,b=!!a.options.autoplay,c={"audio/mpeg":"mp3","audio/mpeg3":"mp3","audio/mp3":"mp3","audio/x-mpeg3":"mp3","audio/x-mp3":"mp3","audio/x-wav":"wav","audio/wav":"wav","audio/x-m4a":"m4a","audio/aac":"m4a","audio/mp4":"m4a","audio/x-mp4":"m4a","audio/ogg":"ogg"},
d;h.bind("update",function(g){var f=g.file;a.support.audio[c[f.mime]]&&(g.stopImmediatePropagation(),d=$('<audio class="elfinder-quicklook-preview-audio" controls preload="auto" autobuffer><source src="'+a.fm.url(f.hash)+'" /></audio>').appendTo(h),b&&d[0].play())}).bind("change",function(){d&&d.parent().length&&(d[0].pause(),d.remove(),d=null)})},function(a){var h=a.preview,b=!!a.options.autoplay,c={"video/mp4":"mp4","video/x-m4v":"mp4","video/ogg":"ogg","application/ogg":"ogg","video/webm":"webm"},
d;h.bind("update",function(g){var f=g.file;a.support.video[c[f.mime]]&&(g.stopImmediatePropagation(),a.hideinfo(),d=$('<video class="elfinder-quicklook-preview-video" controls preload="auto" autobuffer><source src="'+a.fm.url(f.hash)+'" /></video>').appendTo(h),b&&d[0].play())}).bind("change",function(){d&&d.parent().length&&(d[0].pause(),d.remove(),d=null)})},function(a){var h=a.preview,b=[],c;$.each(navigator.plugins,function(a,c){$.each(c,function(a,c){0!==c.type.indexOf("audio/")&&0!==c.type.indexOf("video/")||
b.push(c.type)})});h.bind("update",function(d){var g=d.file,f=g.mime;-1!==$.inArray(g.mime,b)&&(d.stopImmediatePropagation(),(d=0===f.indexOf("video/"))&&a.hideinfo(),c=$('<embed src="'+a.fm.url(g.hash)+'" type="'+f+'" class="elfinder-quicklook-preview-'+(d?"video":"audio")+'"/>').appendTo(h))}).bind("change",function(){c&&c.parent().length&&(c.remove(),c=null)})}];
elFinder.prototype.commands.extract=function(){var a=this,h=a.fm,b=[],c=function(a){return $.map(a,function(a){return a.read&&-1!==$.inArray(a.mime,b)?a:null})};this.disableOnSearch=!0;h.bind("open reload",function(){b=h.option("archivers").extract||[];a.change()});this.getstate=function(a){a=this.files(a);var b=a.length;return!this._disabled&&b&&c(a).length==b?0:-1};this.exec=function(a){a=this.files(a);var c=$.Deferred(),f=a.length,e=f,k,m;if(!(this.enabled()&&f&&b.length))return c.reject();for(k=
0;k<f;k++){m=a[k];if(!m.read||!h.file(m.phash).write)return a=["errExtract",m.name,"errPerm"],h.error(a),c.reject(a);if(-1===$.inArray(m.mime,b))return a=["errExtract",m.name,"errNoArchive"],h.error(a),c.reject(a);h.request({data:{cmd:"extract",target:m.hash},notify:{type:"extract",cnt:1},syncOnFail:!0}).fail(function(a){c.isRejected()||c.reject(a)}).done(function(){e--;0==e&&c.resolve()})}return c}};
elFinder.prototype.commands.archive=function(){var a=this,h=a.fm,b=[];this.variants=[];this.disableOnSearch=!0;h.bind("open reload",function(){a.variants=[];$.each(b=h.option("archivers").create||[],function(b,d){a.variants.push([d,h.mime2kind(d)])});a.change()});this.getstate=function(){return!this._disabled&&b.length&&h.selected().length&&h.cwd().write?0:-1};this.exec=function(a,d){var g=this.files(a),f=g.length,e=d||b[0],k=h.cwd(),m=["errArchive","errPerm"],r=$.Deferred().fail(function(a){a&&h.error(a)});
if(!(this.enabled()&&f&&b.length&&-1!==$.inArray(e,b)))return r.reject();if(!k.write)return r.reject(m);for(k=0;k<f;k++)if(!g[k].read)return r.reject(m);return h.request({data:{cmd:"archive",targets:this.hashes(a),type:e},notify:{type:"archive",cnt:1},syncOnFail:!0})}};
elFinder.prototype.commands.search=function(){this.title="Find files";this.options={ui:"searchbutton"};this.alwaysEnabled=!0;this.updateOnSelect=!1;this.getstate=function(){return 0};this.exec=function(a){var h=this.fm;if("string"==typeof a&&a)return h.trigger("searchstart",{query:a}),h.request({data:{cmd:"search",q:a},notify:{type:"search",cnt:1,hideCnt:!0}});h.getUI("toolbar").find("."+h.res("class","searchbtn")+" :text").focus();return $.Deferred().reject()}};
elFinder.prototype.commands.view=function(){this.value=this.fm.storage("view");this.alwaysEnabled=!0;this.updateOnSelect=!1;this.options={ui:"viewbutton"};this.getstate=function(){return 0};this.exec=function(){var a=this.fm.storage("view","list"==this.value?"icons":"list");this.fm.viewchange();this.update(void 0,a)}};
elFinder.prototype.commands.resize=function(){this.updateOnSelect=!1;this.getstate=function(){var a=this.fm.selectedFiles();return!this._disabled&&1==a.length&&a[0].read&&a[0].write&&-1!==a[0].mime.indexOf("image/")?0:-1};this.exec=function(a){var h=this.fm;a=this.files(a);var b=$.Deferred(),c,d;if(!a.length||-1===a[0].mime.indexOf("image/"))return b.reject();c="resize-"+h.namespace+"-"+a[0].hash;d=h.getUI().find("#"+c);if(d.length)return d.elfinderdialog("toTop"),b.resolve();(function(a,c){var d=
$('<div class="elfinder-dialog-resize"/>'),k=$('<div class="elfinder-resize-control"/>'),m=$('<div class="elfinder-resize-preview"/>'),r=$('<div class="elfinder-resize-spinner">'+h.i18n("ntfloadimg")+"</div>"),p=$('<div class="elfinder-resize-handle"/>'),n=$('<div class="elfinder-resize-handle"/>'),s=$('<div class="elfinder-resize-uiresize"/>'),q=$('<div class="elfinder-resize-uicrop"/>'),u=$('<div class="elfinder-resize-rotate"/>'),w=$('<div class="ui-state-default elfinder-button"/>').attr("title",
h.i18n("rotate-cw")).append($('<span class="elfinder-button-icon elfinder-button-icon-rotate-l"/>').click(function(){aa-=90;E.update(aa)})),A=$('<div class="ui-state-default elfinder-button"/>').attr("title",h.i18n("rotate-ccw")).append($('<span class="elfinder-button-icon elfinder-button-icon-rotate-r"/>').click(function(){aa+=90;E.update(aa)})),z=$("<span />"),x=$('<div class="ui-state-default ui-corner-all elfinder-resize-reset"><span class="ui-icon ui-icon-arrowreturnthick-1-w"/></div>'),C=$('<div class="elfinder-resize-type"/>').append('<input type="radio" name="type" id="type-resize" value="resize" checked="checked" /><label for="type-resize">'+
h.i18n("resize")+"</label>").append('<input type="radio" name="type" id="type-crop"   value="crop"/><label for="type-crop">'+h.i18n("crop")+"</label>").append('<input type="radio" name="type" id="type-rotate" value="rotate"/><label for="type-rotate">'+h.i18n("rotate")+"</label>");$("input",C).change(function(){var a=$("input:checked",C).val();U();ha(!0);da(!0);ea(!0);"resize"==a?(s.show(),u.hide(),q.hide(),ha()):"crop"==a?(u.hide(),s.hide(),q.show(),da()):"rotate"==a&&(s.hide(),q.hide(),u.show(),
ea())});var F=$('<input type="checkbox" checked="checked"/>').change(function(){N=!!F.prop("checked");Z.fixHeight();ha(!0);ha()}),B=$('<input type="text" size="5"/>').change(function(){var a=parseInt(B.val()),b=parseInt(N?a/M:D.val());0<a&&0<b&&(Z.updateView(a,b),D.val(b))}),D=$('<input type="text" size="5"/>').change(function(){var a=parseInt(D.val()),b=parseInt(N?a*M:B.val());0<b&&0<a&&(Z.updateView(b,a),B.val(b))}),S=$('<input type="text" size="5"/>'),Q=$('<input type="text" size="5"/>'),I=$('<input type="text" size="5"/>'),
V=$('<input type="text" size="5"/>'),v=$('<input type="text" size="3" maxlength="3" value="0" />').change(function(){E.update()}),X=$('<div class="elfinder-resize-rotate-slider"/>').slider({min:0,max:359,value:v.val(),animate:!0,change:function(a,b){b.value!=X.slider("value")&&E.update(b.value)},slide:function(a,b){E.update(b.value,!1)}}),M=1,l=1,J=0,O=0,N=!0,G=0,K=0,T=0,L=0,aa=0,P=$("<img/>").load(function(){r.remove();J=P.width();O=P.height();M=J/O;Z.updateView(J,O);p.append(P.show()).show();B.val(J);
D.val(O);var a=Math.min(G,K)/Math.sqrt(Math.pow(J,2)+Math.pow(O,2));T=J*a;L=O*a;k.find("input,select").removeAttr("disabled").filter(":text").keydown(function(a){var b=a.keyCode,c;a.stopPropagation();37<=b&&40>=b||b==$.ui.keyCode.BACKSPACE||b==$.ui.keyCode.DELETE||65==b&&(a.ctrlKey||a.metaKey)||27==b||(9==b&&(c=$(this).parent()[a.shiftKey?"prev":"next"](".elfinder-resize-row").children(":text"),c.length&&c.focus()),13==b?ra():(48>b||57<b)&&a.preventDefault())}).filter(":first").focus();ha();x.hover(function(){x.toggleClass("ui-state-hover")}).click(U)}).error(function(){r.text("Unable to load image").css("background",
"transparent")}),ba=$("<div/>"),W=$("<img/>"),Y=$("<div/>"),y=$("<img/>"),U=function(){B.val(J);D.val(O);Z.updateView(J,O)},Z={update:function(){B.val(parseInt(P.width()/l));D.val(parseInt(P.height()/l))},updateView:function(a,b){a>G||b>K?a/G>b/K?P.width(G).height(Math.ceil(P.width()/M)):P.height(K).width(Math.ceil(P.height()*M)):P.width(a).height(b);l=P.width()/a;z.text("1 : "+(1/l).toFixed(2));Z.updateHandle()},updateHandle:function(){p.width(P.width()).height(P.height())},fixWidth:function(){var a;
N&&(a=D.val(),a=parseInt(a*M),Z.updateView(void 0,a),B.val(void 0))},fixHeight:function(){var a,b;N&&(a=B.val(),b=parseInt(a/M),Z.updateView(a,b),D.val(b))}},ga={update:function(){I.val(parseInt(n.width()/l));V.val(parseInt(n.height()/l));S.val(parseInt((n.offset().left-W.offset().left)/l));Q.val(parseInt((n.offset().top-W.offset().top)/l))},resize_update:function(){ga.update();Y.width(n.width());Y.height(n.height())}},E={mouseStartAngle:0,imageStartAngle:0,imageBeingRotated:!1,update:function(a,
b){"undefined"==typeof a&&(aa=a=parseInt(v.val()));"undefined"==typeof b&&(b=!0);!b||$.browser.opera||$.browser.msie&&9>parseInt($.browser.version)?y.rotate(a):y.animate({rotate:a+"deg"});a%=360;0>a&&(a+=360);v.val(parseInt(a));X.slider("value",v.val())},execute:function(a){if(E.imageBeingRotated){var b=E.getCenter(y),b=Math.atan2(a.pageY-b[1],a.pageX-b[0])-E.mouseStartAngle+E.imageStartAngle,b=Math.round(180*parseFloat(b)/Math.PI);a.shiftKey&&(b=15*Math.round((b+6)/15));y.rotate(b);b%=360;0>b&&(b+=
360);v.val(b);X.slider("value",v.val());return!1}},start:function(a){E.imageBeingRotated=!0;var b=E.getCenter(y);E.mouseStartAngle=Math.atan2(a.pageY-b[1],a.pageX-b[0]);E.imageStartAngle=parseFloat(y.rotate())*Math.PI/180;$(document).mousemove(E.execute);return!1},stop:function(a){if(E.imageBeingRotated)return $(document).unbind("mousemove",E.execute),setTimeout(function(){E.imageBeingRotated=!1},10),!1},getCenter:function(a){a=y.rotate();y.rotate(0);var b=y.offset(),c=b.left+y.width()/2,b=b.top+
y.height()/2;y.rotate(a);return[c,b]}},ha=function(a){$.fn.resizable&&(a?(p.resizable("destroy"),p.hide()):(p.show(),p.resizable({alsoResize:P,aspectRatio:N,resize:Z.update,stop:Z.fixHeight})))},da=function(a){$.fn.draggable&&$.fn.resizable&&(a?(n.resizable("destroy"),n.draggable("destroy"),ba.hide()):(W.width(P.width()).height(P.height()),Y.width(P.width()).height(P.height()),n.width(W.width()).height(W.height()).offset(W.offset()).resizable({containment:ba,resize:ga.resize_update,handles:"all"}).draggable({handle:n,
containment:W,drag:ga.update}),ba.show().width(P.width()).height(P.height()),ga.update()))},ea=function(a){$.fn.draggable&&$.fn.resizable&&(a?y.hide():y.show().width(T).height(L).css("margin-top",(K-L)/2+"px").css("margin-left",(G-T)/2+"px"))},ra=function(){var c,f,k,l,m,n=$("input:checked",C).val();B.add(D).change();if("resize"==n)c=parseInt(B.val())||0,f=parseInt(D.val())||0;else if("crop"==n)c=parseInt(I.val())||0,f=parseInt(V.val())||0,k=parseInt(S.val())||0,l=parseInt(Q.val())||0;else{n="rotate";
c=J;f=O;m=parseInt(v.val())||0;if(0>m||360<m)return h.error("Invalid rotate degree");if(0==m||360==m)return h.error("Image dose not rotated")}if("rotate"!=n){if(0>=c||0>=f)return h.error("Invalid image size");if(c==J&&f==O)return h.error("Image size not changed")}d.elfinderdialog("close");h.request({data:{cmd:"resize",target:a.hash,width:c,height:f,x:k,y:l,degree:m,mode:n},notify:{type:"resize",cnt:1}}).fail(function(a){b.reject(a)}).done(function(){b.resolve()})},sa={},xa=h.url(a.hash);y.mousedown(E.start);
$(document).mouseup(E.stop);s.append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text(h.i18n("width"))).append(B).append(x)).append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text(h.i18n("height"))).append(D)).append($('<div class="elfinder-resize-row"/>').append($("<label/>").text(h.i18n("aspectRatio")).prepend(F))).append($('<div class="elfinder-resize-row"/>').append(h.i18n("scale")+" ").append(z));q.append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text("X")).append(S)).append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text("Y")).append(Q)).append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text(h.i18n("width"))).append(I)).append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text(h.i18n("height"))).append(V));
u.append($('<div class="elfinder-resize-row"/>').append($('<div class="elfinder-resize-label"/>').text(h.i18n("rotate"))).append($('<div style="float:left; width: 130px;">').append($('<div style="float:left;">').append(v).append($("<span/>").text(h.i18n("degree")))).append($('<div class="ui-widget-content ui-corner-all elfinder-buttonset"/>').append(w).append($('<span class="ui-widget-content elfinder-toolbar-button-separator"/>')).append(A))).append(X));d.append(C);k.append($('<div class="elfinder-resize-row"/>')).append(s).append(q.hide()).append(u.hide()).find("input,select").attr("disabled",
"disabled");p.append('<div class="elfinder-resize-handle-hline elfinder-resize-handle-hline-top"/>').append('<div class="elfinder-resize-handle-hline elfinder-resize-handle-hline-bottom"/>').append('<div class="elfinder-resize-handle-vline elfinder-resize-handle-vline-left"/>').append('<div class="elfinder-resize-handle-vline elfinder-resize-handle-vline-right"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-e"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-se"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-s"/>');
m.append(r).append(p.hide()).append(P.hide());n.css("position","absolute").append('<div class="elfinder-resize-handle-hline elfinder-resize-handle-hline-top"/>').append('<div class="elfinder-resize-handle-hline elfinder-resize-handle-hline-bottom"/>').append('<div class="elfinder-resize-handle-vline elfinder-resize-handle-vline-left"/>').append('<div class="elfinder-resize-handle-vline elfinder-resize-handle-vline-right"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-n"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-e"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-s"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-w"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-ne"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-se"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-sw"/>').append('<div class="elfinder-resize-handle-point elfinder-resize-handle-point-nw"/>');
m.append(ba.css("position","absolute").hide().append(W).append(n.append(Y)));m.append(y.hide());m.css("overflow","hidden");d.append(m).append(k);sa[h.i18n("btnCancel")]=function(){d.elfinderdialog("close")};sa[h.i18n("btnApply")]=ra;h.dialog(d,{title:a.name,width:650,resizable:!1,destroyOnClose:!0,buttons:sa,open:function(){m.zIndex(1+$(this).parent().zIndex())}}).attr("id",c);$.browser.msie&&9>parseInt($.browser.version)&&$(".elfinder-dialog").css("filter","");x.css("left",B.position().left+B.width()+
12);Y.css({opacity:0.2,"background-color":"#fff",position:"absolute"});n.css("cursor","move");n.find(".elfinder-resize-handle-point").css({"background-color":"#fff",opacity:0.5,"border-color":"#000"});y.css("cursor","pointer");C.buttonset();G=m.width()-(p.outerWidth()-p.width());K=m.height()-(p.outerHeight()-p.height());P.attr("src",xa+(-1===xa.indexOf("?")?"?":"&")+"_="+Math.random());W.attr("src",P.attr("src"));y.attr("src",P.attr("src"))})(a[0],c);return b}};
(function(a){var h=function(a,b){var g=0;for(g in b)if("undefined"!=typeof a[b[g]])return b[g];a[b[g]]="";return b[g]};a.cssHooks.rotate={get:function(b,d,g){return a(b).rotate()},set:function(b,d){a(b).rotate(d);return d}};a.cssHooks.transform={get:function(a,b,g){b=h(a.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return a.style[b]},set:function(a,b){var g=h(a.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return a.style[g]=b}};
a.fn.rotate=function(b){if("undefined"==typeof b)return a.browser.opera?(b=this.css("transform").match(/rotate\((.*?)\)/))&&b[1]?Math.round(180*parseFloat(b[1])/Math.PI):0:(b=this.css("transform").match(/rotate\((.*?)\)/))&&b[1]?parseInt(b[1]):0;this.css("transform",this.css("transform").replace(/none|rotate\(.*?\)/,"")+"rotate("+parseInt(b)+"deg)");return this};a.fx.step.rotate=function(b){0==b.state&&(b.start=a(b.elem).rotate(),b.now=b.start);a(b.elem).rotate(b.now)};if(a.browser.msie&&9>parseInt(a.browser.version)){var b=
a.cssHooks.transform.set;a.cssHooks.transform.set=function(a,d){b.apply(this,[a,d]);var g,f=1,e=1,k=1,h=1;if("undefined"==typeof a.style.msTransform){if("static"==a.currentStyle.position){g=a;for(var r=g.offsetLeft,p=g.offsetTop;g.offsetParent;){g=g.offsetParent;if(g!=document.body&&"static"!=g.currentStyle.position)break;g!=document.body&&g!=document.documentElement&&(r-=g.scrollLeft,p-=g.scrollTop);r+=g.offsetLeft;p+=g.offsetTop}a.style.position="absolute";a.style.left=r+"px";a.style.top=p+"px"}g=
(g=d.match(/rotate\((.*?)\)/))&&g[1]?parseInt(g[1]):0;g%=360;0>g&&(g=360+g);r=g*Math.PI/180;p=Math.cos(r);r=Math.sin(r);f*=p;e*=-r;k*=r;h*=p;a.style.filter=(a.style.filter||"").replace(/progid:DXImageTransform\.Microsoft\.Matrix\([^)]*\)/,"")+("progid:DXImageTransform.Microsoft.Matrix(M11="+f+",M12="+e+",M21="+k+",M22="+h+",FilterType='bilinear',sizingMethod='auto expand')");f=parseInt(a.style.width||a.width||0);e=parseInt(a.style.height||a.height||0);r=g*Math.PI/180;k=Math.abs(Math.cos(r));h=Math.abs(Math.sin(r));
a.style.marginLeft=Math.floor((f-(f*k+e*h))/2)+"px";a.style.marginTop=Math.floor((e-(f*h+e*k))/2)+"px"}return d}}})(jQuery);
elFinder.prototype.commands.sort=function(){var a=this,h="nameDirsFirst kindDirsFirst sizeDirsFirst dateDirsFirst name kind size date".split(" "),b;this.options={ui:"sortbutton"};this.value=1;this.variants=[];for(b=0;b<h.length;b++)this.variants.push([h[b],this.fm.i18n("sort"+h[b])]);this.disableOnSearch=!0;this.fm.bind("load sortchange",function(){a.value=h[a.fm.sort-1];a.change()});this.getstate=function(){return 0};this.exec=function(a,b){var g=$.inArray(b,h)+1==this.fm.sort?"asc"==this.fm.sortDirect?
"desc":"asc":this.fm.sortDirect;this.fm.setSort(b,g)}};
elFinder&&elFinder.prototype&&"object"==typeof elFinder.prototype.i18&&(elFinder.prototype.i18.zh_CN={translator:"\u7ffb\u8bd1\u8005 &lt;deerchao@gmail.com&gt;",language:"\u7b80\u4f53\u4e2d\u6587",direction:"ltr",messages:{error:"\u9519\u8bef",errUnknown:"\u672a\u77e5\u7684\u9519\u8bef.",errUnknownCmd:"\u672a\u77e5\u7684\u547d\u4ee4.",errJqui:"\u65e0\u6548\u7684 jQuery UI \u914d\u7f6e. \u5fc5\u987b\u5305\u542b Selectable, draggable \u4ee5\u53ca droppable \u7ec4\u4ef6.",errNode:"elFinder \u9700\u8981\u80fd\u521b\u5efa DOM \u5143\u7d20.",
errURL:"\u65e0\u6548\u7684 elFinder \u914d\u7f6e! URL \u9009\u9879\u672a\u914d\u7f6e.",errAccess:"\u8bbf\u95ee\u88ab\u62d2\u7edd.",errConnect:"\u4e0d\u80fd\u8fde\u63a5\u5230\u540e\u7aef.",errAbort:"\u8fde\u63a5\u4e2d\u6b62.",errTimeout:"\u8fde\u63a5\u8d85\u65f6.",errNotFound:"\u672a\u627e\u5230\u540e\u7aef.",errResponse:"\u65e0\u6548\u7684\u540e\u7aef\u54cd\u5e94.",errConf:"\u65e0\u6548\u7684\u540e\u7aef\u914d\u7f6e.",errJSON:"PHP JSON \u6a21\u5757\u672a\u5b89\u88c5.",errNoVolumes:"\u65e0\u53ef\u8bfb\u7684\u5377.",
errCmdParams:'\u65e0\u6548\u7684\u53c2\u6570, \u547d\u4ee4: "$1".',errDataNotJSON:"\u54cd\u5e94\u4e0d\u7b26\u5408 JSON \u683c\u5f0f.",errDataEmpty:"\u54cd\u5e94\u4e3a\u7a7a.",errCmdReq:"\u540e\u7aef\u8bf7\u6c42\u9700\u8981\u547d\u4ee4\u540d\u79f0.",errOpen:'\u65e0\u6cd5\u6253\u5f00 "$1".',errNotFolder:"\u5bf9\u8c61\u4e0d\u662f\u6587\u4ef6\u5939.",errNotFile:"\u5bf9\u8c61\u4e0d\u662f\u6587\u4ef6.",errRead:'\u65e0\u6cd5\u8bfb\u53d6 "$1".',errWrite:'\u65e0\u6cd5\u5199\u5165 "$1".',errPerm:"\u65e0\u6743\u9650.",
errLocked:'"$1" \u88ab\u9501\u5b9a,\u4e0d\u80fd\u91cd\u547d\u540d, \u79fb\u52a8\u6216\u5220\u9664.',errUploadFile:'"$1" \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25.',errExists:'\u6587\u4ef6 "$1" \u5df2\u7ecf\u5b58\u5728\u4e86.',errInvName:"\u65e0\u6548\u7684\u6587\u4ef6\u540d.",errFolderNotFound:"\u672a\u627e\u5230\u6587\u4ef6\u5939.",errFileNotFound:"\u672a\u627e\u5230\u6587\u4ef6.",errTrgFolderNotFound:'\u672a\u627e\u5230\u76ee\u6807\u6587\u4ef6\u5939 "$1".',errPopup:"\u6d4f\u89c8\u5668\u62e6\u622a\u4e86\u5f39\u51fa\u7a97\u53e3. \u8bf7\u5728\u9009\u9879\u4e2d\u5141\u8bb8\u5f39\u51fa\u7a97\u53e3.",
errMkdir:'\u4e0d\u80fd\u521b\u5efa\u6587\u4ef6\u5939 "$1".',errMkfile:'\u4e0d\u80fd\u521b\u5efa\u6587\u4ef6 "$1".',errRename:'\u4e0d\u80fd\u91cd\u547d\u540d "$1".',errCopyFrom:'\u4e0d\u5141\u8bb8\u4ece\u5377 "$1" \u590d\u5236.',errCopyTo:'\u4e0d\u5141\u8bb8\u5411\u5377 "$1" \u590d\u5236.',errUploadCommon:"\u4e0a\u4f20\u51fa\u9519.",errUpload:'\u65e0\u6cd5\u4e0a\u4f20 "$1".',errUploadNoFiles:"\u672a\u627e\u5230\u8981\u4e0a\u4f20\u7684\u6587\u4ef6.",errMaxSize:"\u6570\u636e\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u5927\u5c0f.",
errFileMaxSize:"\u6587\u4ef6\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u5927\u5c0f.",errUploadMime:"\u4e0d\u5141\u8bb8\u7684\u6587\u4ef6\u7c7b\u578b.",errUploadTransfer:'"$1" \u4f20\u8f93\u9519\u8bef.',errSave:'\u65e0\u6cd5\u4fdd\u5b58 "$1".',errCopy:'\u65e0\u6cd5\u590d\u5236 "$1".',errMove:'\u65e0\u6cd5\u79fb\u52a8 "$1".',errCopyInItself:'\u4e0d\u80fd\u79fb\u52a8 "$1" \u5230\u539f\u6709\u4f4d\u7f6e.',errRm:'\u65e0\u6cd5\u5220\u9664 "$1".',errExtract:'\u65e0\u6cd5\u4ece "$1" \u63d0\u53d6\u6587\u4ef6.',
errArchive:"\u65e0\u6cd5\u521b\u5efa\u538b\u7f29\u5305.",errArcType:"\u4e0d\u652f\u6301\u7684\u538b\u7f29\u683c\u5f0f.",errNoArchive:"\u6587\u4ef6\u4e0d\u662f\u538b\u7f29\u5305, \u6216\u8005\u4e0d\u652f\u6301\u8be5\u538b\u7f29\u683c\u5f0f.",errCmdNoSupport:"\u540e\u7aef\u4e0d\u652f\u6301\u8be5\u547d\u4ee4.",errReplByChild:"\u6587\u4ef6\u5939 \u201c$1\u201d \u4e0d\u80fd\u88ab\u5305\u542b\u7684\u76ee\u5f55\u66ff\u6362.",errArcSymlinks:"\u65e0\u6cd5\u6253\u5f00\u5e26\u6709\u8fde\u63a5\u7b26\u53f7\u7684\u538b\u7f29\u6587\u4ef6.",
errArcMaxSize:"\u538b\u7f29\u6587\u4ef6\u6570\u8d85\u8fc7\u4e0a\u9650.",errResize:'Unable to resize "$1".',errUsupportType:"\u4e0d\u652f\u6301\u7684\u6587\u4ef6\u7c7b\u578b.",errNotUTF8Content:'\u65e0\u6cd5\u7f16\u8f91\u975eUTF-8\u7f16\u7801\u5185\u5bb9:<br>"$1".',cmdarchive:"\u521b\u5efa\u538b\u7f29\u5305",cmdback:"\u540e\u9000",cmdcopy:"\u590d\u5236",cmdcut:"\u526a\u5207",cmddownload:"\u4e0b\u8f7d",cmdduplicate:"\u521b\u5efa\u590d\u672c",cmdedit:"\u7f16\u8f91\u6587\u4ef6",cmdextract:"\u4ece\u538b\u7f29\u5305\u63d0\u53d6\u6587\u4ef6",
cmdforward:"\u524d\u8fdb",cmdgetfile:"\u9009\u62e9\u6587\u4ef6",cmdhelp:"\u5173\u4e8e\u672c\u8f6f\u4ef6",cmdhome:"\u9996\u9875",cmdinfo:"\u67e5\u770b\u4fe1\u606f",cmdmkdir:"\u65b0\u5efa\u6587\u4ef6\u5939",cmdmkfile:"\u65b0\u5efa\u6587\u672c\u6587\u4ef6",cmdopen:"\u6253\u5f00",cmdpaste:"\u7c98\u8d34",cmdquicklook:"\u9884\u89c8",cmdreload:"\u5237\u65b0",cmdrename:"\u91cd\u547d\u540d",cmdrm:"\u5220\u9664",cmdsearch:"\u67e5\u627e\u6587\u4ef6",cmdup:"\u8f6c\u5230\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939",cmdupload:"\u4e0a\u4f20\u6587\u4ef6",
cmdview:"\u67e5\u770b",cmdsort:"\u6392\u5e8f",btnClose:"\u5173\u95ed",btnSave:"\u4fdd\u5b58",btnRm:"\u5220\u9664",btnCancel:"\u53d6\u6d88",btnNo:"\u5426",btnYes:"\u662f",ntfopen:"\u6253\u5f00\u6587\u4ef6\u5939",ntffile:"\u6253\u5f00\u6587\u4ef6",ntfreload:"\u5237\u65b0\u6587\u4ef6\u5939\u5185\u5bb9",ntfmkdir:"\u521b\u5efa\u6587\u4ef6\u5939",ntfmkfile:"\u521b\u5efa\u6587\u4ef6",ntfrm:"\u5220\u9664\u6587\u4ef6",ntfcopy:"\u590d\u5236\u6587\u4ef6",ntfmove:"\u79fb\u52a8\u6587\u4ef6",ntfprepare:"\u51c6\u5907\u590d\u5236\u6587\u4ef6",
ntfrename:"\u91cd\u547d\u540d\u6587\u4ef6",ntfupload:"\u4e0a\u4f20\u6587\u4ef6",ntfdownload:"\u4e0b\u8f7d\u6587\u4ef6",ntfsave:"\u4fdd\u5b58\u6587\u4ef6",ntfarchive:"\u521b\u5efa\u538b\u7f29\u5305",ntfextract:"\u4ece\u538b\u7f29\u5305\u63d0\u53d6\u6587\u4ef6",ntfsearch:"\u641c\u7d22\u6587\u4ef6",ntfsmth:"\u6b63\u5728\u5fd9 >_<",sortnameDirsFirst:"\u540d\u79f0 (\u6587\u4ef6\u5939\u9760\u524d)",sortkindDirsFirst:"\u7c7b\u578b (\u6587\u4ef6\u5939\u9760\u524d)",sortsizeDirsFirst:"\u5927\u5c0f (\u6587\u4ef6\u5939\u9760\u524d)",
sortdateDirsFirst:"\u65e5\u671f (\u6587\u4ef6\u5939\u9760\u524d)",sortname:"\u540d\u79f0",sortkind:"\u7c7b\u578b",sortsize:"\u5927\u5c0f",sortdate:"\u65e5\u671f",dateUnknown:"\u672a\u77e5",Today:"\u4eca\u5929",Yesterday:"\u6628\u5929",Jan:"\u4e00\u6708",Feb:"\u4e8c\u6708",Mar:"\u4e09\u6708",Apr:"\u56db\u6708",May:"\u4e94\u6708",Jun:"\u516d\u6708",Jul:"\u4e03\u6708",Aug:"\u516b\u6708",Sep:"\u4e5d\u6708",Oct:"\u5341\u6708",Nov:"\u5341\u4e00\u6708",Dec:"\u5341\u4e8c\u6708",confirmReq:"\u8bf7\u786e\u8ba4",
confirmRm:"\u786e\u5b9a\u8981\u5220\u9664\u6587\u4ef6\u5417?<br/>\u8be5\u64cd\u4f5c\u4e0d\u53ef\u64a4\u9500!",confirmRepl:"\u7528\u65b0\u7684\u6587\u4ef6\u66ff\u6362\u539f\u6709\u6587\u4ef6?",apllyAll:"\u5168\u90e8\u5e94\u7528",name:"\u540d\u79f0",size:"\u5927\u5c0f",perms:"\u6743\u9650",modify:"\u4fee\u6539\u4e8e",kind:"\u7c7b\u522b",read:"\u8bfb\u53d6",write:"\u5199\u5165",noaccess:"\u65e0\u6743\u9650",and:"\u548c",unknown:"\u672a\u77e5",selectall:"\u9009\u62e9\u6240\u6709\u6587\u4ef6",selectfiles:"\u9009\u62e9\u6587\u4ef6",
selectffile:"\u9009\u62e9\u7b2c\u4e00\u4e2a\u6587\u4ef6",selectlfile:"\u9009\u62e9\u6700\u540e\u4e00\u4e2a\u6587\u4ef6",viewlist:"\u5217\u8868\u89c6\u56fe",viewicons:"\u56fe\u6807\u89c6\u56fe",places:"\u4f4d\u7f6e",calc:"\u8ba1\u7b97",path:"\u8def\u5f84",aliasfor:"\u522b\u540d",locked:"\u9501\u5b9a",dim:"\u5c3a\u5bf8",files:"\u6587\u4ef6",folders:"\u6587\u4ef6\u5939",items:"\u9879\u76ee",yes:"\u662f",no:"\u5426",link:"\u94fe\u63a5",searcresult:"\u641c\u7d22\u7ed3\u679c",selected:"\u9009\u4e2d\u7684\u9879\u76ee",
about:"\u5173\u4e8e",shortcuts:"\u5feb\u6377\u952e",help:"\u5e2e\u52a9",webfm:"\u7f51\u7edc\u6587\u4ef6\u7ba1\u7406\u5668",ver:"\u7248\u672c",protocol:"\u534f\u8bae\u7248\u672c",homepage:"\u9879\u76ee\u4e3b\u9875",docs:"\u6587\u6863",github:"Fork us on Github",twitter:"Follow us on twitter",facebook:"Join us on facebook",team:"\u56e2\u961f",chiefdev:"\u9996\u5e2d\u5f00\u53d1",developer:"\u5f00\u53d1",contributor:"\u8d21\u732e",maintainer:"\u7ef4\u62a4",translator:"\u7ffb\u8bd1",icons:"\u56fe\u6807",
dontforget:"\u522b\u5fd8\u4e86\u5e26\u4e0a\u4f60\u7684\u6bdb\u5dfe",shortcutsof:"\u5feb\u6377\u952e\u5df2\u7981\u7528",dropFiles:"\u628a\u6587\u4ef6\u62d6\u5230\u8fd9\u91cc",or:"\u6216\u8005",selectForUpload:"\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u6587\u4ef6",moveFiles:"\u79fb\u52a8\u6587\u4ef6",copyFiles:"\u590d\u5236\u6587\u4ef6",kindUnknown:"\u672a\u77e5",kindFolder:"\u6587\u4ef6\u5939",kindAlias:"\u522b\u540d",kindAliasBroken:"\u9519\u8bef\u7684\u522b\u540d",kindApp:"\u7a0b\u5e8f",kindPostscript:"Postscript \u6587\u6863",
kindMsOffice:"Microsoft Office \u6587\u6863",kindMsWord:"Microsoft Word \u6587\u6863",kindMsExcel:"Microsoft Excel \u6587\u6863",kindMsPP:"Microsoft Powerpoint \u6f14\u793a",kindOO:"Open Office \u6587\u6863",kindAppFlash:"Flash \u7a0b\u5e8f",kindPDF:"Portable Document Format (PDF)",kindTorrent:"Bittorrent \u6587\u4ef6",kind7z:"7z \u538b\u7f29\u5305",kindTAR:"TAR \u538b\u7f29\u5305",kindGZIP:"GZIP \u538b\u7f29\u5305",kindBZIP:"BZIP \u538b\u7f29\u5305",kindZIP:"ZIP \u538b\u7f29\u5305",kindRAR:"RAR \u538b\u7f29\u5305",
kindJAR:"Java JAR \u6587\u4ef6",kindTTF:"True Type \u5b57\u4f53",kindOTF:"Open Type \u5b57\u4f53",kindRPM:"RPM \u5305",kindText:"\u6587\u672c\u6587\u4ef6",kindTextPlain:"\u7eaf\u6587\u672c",kindPHP:"PHP \u6e90\u4ee3\u7801",kindCSS:"\u5c42\u53e0\u6837\u5f0f\u8868(CSS)",kindHTML:"HTML \u6587\u6863",kindJS:"Javascript \u6e90\u4ee3\u7801",kindRTF:"\u5bcc\u6587\u672c\u683c\u5f0f(RTF)",kindC:"C \u6e90\u4ee3\u7801",kindCHeader:"C \u5934\u6587\u4ef6",kindCPP:"C++ \u6e90\u4ee3\u7801",kindCPPHeader:"C++ \u5934\u6587\u4ef6",
kindShell:"Unix \u5916\u58f3\u811a\u672c",kindPython:"Python \u6e90\u4ee3\u7801",kindJava:"Java \u6e90\u4ee3\u7801",kindRuby:"Ruby \u6e90\u4ee3\u7801",kindPerl:"Perl \u6e90\u4ee3\u7801",kindSQL:"SQL \u811a\u672c",kindXML:"XML \u6587\u6863",kindAWK:"AWK \u6e90\u4ee3\u7801",kindCSV:"\u9017\u53f7\u5206\u9694\u503c\u6587\u4ef6(CSV)",kindDOCBOOK:"Docbook XML \u6587\u6863",kindImage:"\u56fe\u7247",kindBMP:"BMP \u56fe\u7247",kindJPEG:"JPEG \u56fe\u7247",kindGIF:"GIF \u56fe\u7247",kindPNG:"PNG \u56fe\u7247",
kindTIFF:"TIFF \u56fe\u7247",kindTGA:"TGA \u56fe\u7247",kindPSD:"Adobe Photoshop \u56fe\u7247",kindXBITMAP:"X bitmap \u56fe\u7247",kindPXM:"Pixelmator \u56fe\u7247",kindAudio:"\u97f3\u9891",kindAudioMPEG:"MPEG \u97f3\u9891",kindAudioMPEG4:"MPEG-4 \u97f3\u9891",kindAudioMIDI:"MIDI \u97f3\u9891",kindAudioOGG:"Ogg Vorbis \u97f3\u9891",kindAudioWAV:"WAV \u97f3\u9891",AudioPlaylist:"MP3 \u64ad\u653e\u5217\u8868",kindVideo:"\u89c6\u9891",kindVideoDV:"DV \u89c6\u9891",kindVideoMPEG:"MPEG \u89c6\u9891",kindVideoMPEG4:"MPEG-4 \u89c6\u9891",
kindVideoAVI:"AVI \u89c6\u9891",kindVideoMOV:"Quick Time \u89c6\u9891",kindVideoWM:"Windows Media \u89c6\u9891",kindVideoFlash:"Flash \u89c6\u9891",kindVideoMKV:"Matroska \u89c6\u9891",kindVideoOGG:"Ogg \u89c6\u9891"}});
$.fn.dialogelfinder=function(a){this.not(".elfinder").each(function(){$(document);var b=$('<div class="ui-widget-header dialogelfinder-drag ui-corner-top">'+(a.title||"Files")+"</div>");$('<a href="#" class="dialogelfinder-drag-close ui-corner-all"><span class="ui-icon ui-icon-closethick"/></a>').appendTo(b).click(function(a){a.preventDefault();c.dialogelfinder("close")});var c=$(this).addClass("dialogelfinder").css("position","absolute").hide().appendTo("body").draggable({handle:".dialogelfinder-drag",
containment:"parent"}).elfinder(a).prepend(b);c.elfinder("instance");c.width(parseInt(c.width())||840).data("elfinderDestroyOnClose",!!a.destroyOnClose).find(".elfinder-toolbar").removeClass("ui-corner-top");a.position&&c.data("elfinderPosition",a.position);!1!==a.autoOpen&&$(this).dialogelfinder("open")});if("open"==a){var h=$(this),b=h.data("elfinderPosition")||{top:parseInt($(document).scrollTop()+($(window).height()<h.height()?2:($(window).height()-h.height())/2)),left:parseInt($(document).scrollLeft()+
($(window).width()<h.width()?2:($(window).width()-h.width())/2))},c=100000;h.is(":hidden")&&($("body").find(":visible").each(function(){var a=$(this),b;this!==h[0]&&"absolute"==a.css("position")&&(b=parseInt(a.zIndex()))>c&&(c=b+1)}),h.zIndex(c).css(b).show().trigger("resize"),setTimeout(function(){h.trigger("resize").mousedown()},200))}else if("close"==a)h=$(this),h.is(":visible")&&(h.data("elfinderDestroyOnClose")?h.elfinder("destroy").remove():h.elfinder("close"));else if("instance"==a)return $(this).getElFinder();
return this};
window.elFinderSupportVer1=function(a){var h=this;this.upload=a||"auto";this.init=function(a){this.fm=a;this.fm.parseUploadData=function(a){var b;if(!$.trim(a))return{error:["errResponse","errDataEmpty"]};try{b=$.parseJSON(a)}catch(g){return{error:["errResponse","errDataNotJSON"]}}return h.normalize("upload",b)}};this.send=function(a){var c=this,d=this.fm,g=$.Deferred(),f=a.data.cmd,e={},k,h;g.abort=function(){h.isRejected()||h.isResolved()||h.abort()};switch(f){case "open":a.data.tree=1;break;case "parents":case "tree":return g.resolve({tree:[]});
case "get":a.data.cmd="read";a.data.current=d.file(a.data.target).phash;break;case "put":a.data.cmd="edit";a.data.current=d.file(a.data.target).phash;break;case "archive":case "rm":a.data.current=d.file(a.data.targets[0]).phash;break;case "extract":case "rename":case "resize":a.data.current=d.file(a.data.target).phash;break;case "duplicate":return e=$.extend(!0,{},a),$.each(a.data.targets,function(a,b){$.ajax($.extend(e,{data:{cmd:"duplicate",target:b,current:d.file(b).phash}})).error(function(a){d.error(d.res("error",
"connect"))}).done(function(a){a=c.normalize("duplicate",a);a.error?d.error(a.error):a.added&&d.trigger("add",{added:a.added})})}),g.resolve({});case "mkdir":case "mkfile":a.data.current=a.data.target;break;case "paste":a.data.current=a.data.dst;break;case "size":return g.resolve({error:d.res("error","cmdsupport")});case "search":return g.resolve({error:d.res("error","cmdsupport")})}h=$.ajax(a).fail(function(a){g.reject(a)}).done(function(a){k=c.normalize(f,a);"paste"!=f||k.error?g.resolve(k):(d.sync(),
g.resolve({}))});return g};this.normalize=function(a,c){var d=this,g={},f;if("tmb"==a||"get"==a)return c;"upload"==a&&c.error&&c.cwd&&(c.warning=$.extend({},c.error),c.error=!1);if(c.error)return c;if("put"==a)return f=this.fm.file(c.target.hash).phash,{changed:[this.normalizeFile(c.target,f)]};f=c.cwd.hash;c.tree&&$.each(this.normalizeTree(c.tree),function(a,b){g[b.hash]=b});$.each(c.cdc||[],function(a,b){var h=b.hash;g[h]?(g[h].date=b.date,g[h].locked=b.hash==f?!0:void 0===b.rm?!1:!b.rm):g[h]=d.normalizeFile(b,
f,c.tmb)});c.tree||$.each(this.fm.files(),function(a,b){g[a]||b.phash==f||"directory"!=b.mime||(g[a]=b)});return"open"==a?{cwd:g[f]||this.normalizeFile(c.cwd),files:$.map(g,function(a){return a}),options:d.normalizeOptions(c),init:!!c.params,debug:c.debug}:$.extend({current:c.cwd.hash,error:c.error,warning:c.warning,options:{tmb:!!c.tmb}},this.fm.diff($.map(g,function(a){return a&&a.hash&&a.name&&a.mime?a:null})))};this.normalizeTree=function(a){var c=this,d=[],g=function(a,b){var h,m;for(h=0;h<a.length;h++)m=
a[h],d.push(c.normalizeFile(m,b)),m.dirs.length&&g(m.dirs,m.hash)};g([a]);return d};this.normalizeFile=function(a,c,d){var g=a.mime||"directory";c={url:a.url,hash:a.hash,phash:c,name:a.name,mime:g,date:a.date||"unknown",size:"directory"!=g||a.linkTo?a.size:0,read:a.read,write:a.write,locked:c?void 0===a.rm?!1:!a.rm:!0};"application/x-empty"==a.mime&&(c.mime="text/plain");a.linkTo&&(c.alias=a.linkTo);a.linkTo&&(c.linkTo=a.linkTo);a.tmb?c.tmb=a.tmb:0===c.mime.indexOf("image/")&&d&&(c.tmb=1);a.dirs&&
a.dirs.length&&(c.dirs=!0);a.dim&&(c.dim=a.dim);a.resize&&(c.resize=a.resize);return c};this.normalizeOptions=function(a){var c={path:a.cwd.rel,disabled:a.disabled||[],tmb:!!a.tmb,copyOverwrite:!0};a.params&&(c.api=1,c.url=a.params.url,c.archivers={create:a.params.archives||[],extract:a.params.extract||[]});-1!==c.path.indexOf("/")?c.separator="/":-1!==c.path.indexOf("\\")&&(c.separator="\\");return c}};
